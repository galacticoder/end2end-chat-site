var jE=Object.defineProperty;var zE=(e,t,n)=>t in e?jE(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var Ie=(e,t,n)=>zE(e,typeof t!="symbol"?t+"":t,n);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function GE(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var s=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,s.get?s:{enumerable:!0,get:function(){return e[r]}})}),n}var C0={exports:{}},zc={},b0={exports:{}},ge={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xa=Symbol.for("react.element"),YE=Symbol.for("react.portal"),XE=Symbol.for("react.fragment"),WE=Symbol.for("react.strict_mode"),VE=Symbol.for("react.profiler"),$E=Symbol.for("react.provider"),JE=Symbol.for("react.context"),qE=Symbol.for("react.forward_ref"),ZE=Symbol.for("react.suspense"),e2=Symbol.for("react.memo"),t2=Symbol.for("react.lazy"),Eh=Symbol.iterator;function n2(e){return e===null||typeof e!="object"?null:(e=Eh&&e[Eh]||e["@@iterator"],typeof e=="function"?e:null)}var x0={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},_0=Object.assign,S0={};function zs(e,t,n){this.props=e,this.context=t,this.refs=S0,this.updater=n||x0}zs.prototype.isReactComponent={};zs.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};zs.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function k0(){}k0.prototype=zs.prototype;function Xf(e,t,n){this.props=e,this.context=t,this.refs=S0,this.updater=n||x0}var Wf=Xf.prototype=new k0;Wf.constructor=Xf;_0(Wf,zs.prototype);Wf.isPureReactComponent=!0;var Bh=Array.isArray,R0=Object.prototype.hasOwnProperty,Vf={current:null},Q0={key:!0,ref:!0,__self:!0,__source:!0};function T0(e,t,n){var r,s={},i=null,o=null;if(t!=null)for(r in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(i=""+t.key),t)R0.call(t,r)&&!Q0.hasOwnProperty(r)&&(s[r]=t[r]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];s.children=l}if(e&&e.defaultProps)for(r in a=e.defaultProps,a)s[r]===void 0&&(s[r]=a[r]);return{$$typeof:xa,type:e,key:i,ref:o,props:s,_owner:Vf.current}}function r2(e,t){return{$$typeof:xa,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function $f(e){return typeof e=="object"&&e!==null&&e.$$typeof===xa}function i2(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Ih=/\/+/g;function xu(e,t){return typeof e=="object"&&e!==null&&e.key!=null?i2(""+e.key):t.toString(36)}function Cl(e,t,n,r,s){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case xa:case YE:o=!0}}if(o)return o=e,s=s(o),e=r===""?"."+xu(o,0):r,Bh(s)?(n="",e!=null&&(n=e.replace(Ih,"$&/")+"/"),Cl(s,t,n,"",function(c){return c})):s!=null&&($f(s)&&(s=r2(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(Ih,"$&/")+"/")+e)),t.push(s)),1;if(o=0,r=r===""?".":r+":",Bh(e))for(var a=0;a<e.length;a++){i=e[a];var l=r+xu(i,a);o+=Cl(i,t,n,l,s)}else if(l=n2(e),typeof l=="function")for(e=l.call(e),a=0;!(i=e.next()).done;)i=i.value,l=r+xu(i,a++),o+=Cl(i,t,n,l,s);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function Ha(e,t,n){if(e==null)return e;var r=[],s=0;return Cl(e,r,"","",function(i){return t.call(n,i,s++)}),r}function s2(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Qt={current:null},bl={transition:null},o2={ReactCurrentDispatcher:Qt,ReactCurrentBatchConfig:bl,ReactCurrentOwner:Vf};function D0(){throw Error("act(...) is not supported in production builds of React.")}ge.Children={map:Ha,forEach:function(e,t,n){Ha(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Ha(e,function(){t++}),t},toArray:function(e){return Ha(e,function(t){return t})||[]},only:function(e){if(!$f(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};ge.Component=zs;ge.Fragment=XE;ge.Profiler=VE;ge.PureComponent=Xf;ge.StrictMode=WE;ge.Suspense=ZE;ge.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=o2;ge.act=D0;ge.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=_0({},e.props),s=e.key,i=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,o=Vf.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(l in t)R0.call(t,l)&&!Q0.hasOwnProperty(l)&&(r[l]=t[l]===void 0&&a!==void 0?a[l]:t[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:xa,type:e.type,key:s,ref:i,props:r,_owner:o}};ge.createContext=function(e){return e={$$typeof:JE,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:$E,_context:e},e.Consumer=e};ge.createElement=T0;ge.createFactory=function(e){var t=T0.bind(null,e);return t.type=e,t};ge.createRef=function(){return{current:null}};ge.forwardRef=function(e){return{$$typeof:qE,render:e}};ge.isValidElement=$f;ge.lazy=function(e){return{$$typeof:t2,_payload:{_status:-1,_result:e},_init:s2}};ge.memo=function(e,t){return{$$typeof:e2,type:e,compare:t===void 0?null:t}};ge.startTransition=function(e){var t=bl.transition;bl.transition={};try{e()}finally{bl.transition=t}};ge.unstable_act=D0;ge.useCallback=function(e,t){return Qt.current.useCallback(e,t)};ge.useContext=function(e){return Qt.current.useContext(e)};ge.useDebugValue=function(){};ge.useDeferredValue=function(e){return Qt.current.useDeferredValue(e)};ge.useEffect=function(e,t){return Qt.current.useEffect(e,t)};ge.useId=function(){return Qt.current.useId()};ge.useImperativeHandle=function(e,t,n){return Qt.current.useImperativeHandle(e,t,n)};ge.useInsertionEffect=function(e,t){return Qt.current.useInsertionEffect(e,t)};ge.useLayoutEffect=function(e,t){return Qt.current.useLayoutEffect(e,t)};ge.useMemo=function(e,t){return Qt.current.useMemo(e,t)};ge.useReducer=function(e,t,n){return Qt.current.useReducer(e,t,n)};ge.useRef=function(e){return Qt.current.useRef(e)};ge.useState=function(e){return Qt.current.useState(e)};ge.useSyncExternalStore=function(e,t,n){return Qt.current.useSyncExternalStore(e,t,n)};ge.useTransition=function(){return Qt.current.useTransition()};ge.version="18.3.1";b0.exports=ge;var I=b0.exports;/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var a2=I,l2=Symbol.for("react.element"),c2=Symbol.for("react.fragment"),u2=Object.prototype.hasOwnProperty,d2=a2.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,f2={key:!0,ref:!0,__self:!0,__source:!0};function N0(e,t,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(o=t.ref);for(r in t)u2.call(t,r)&&!f2.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)s[r]===void 0&&(s[r]=t[r]);return{$$typeof:l2,type:e,key:i,ref:o,props:s,_owner:d2.current}}zc.Fragment=c2;zc.jsx=N0;zc.jsxs=N0;C0.exports=zc;var p=C0.exports,P0={exports:{}},qt={},M0={exports:{}},F0={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(M,O){var F=M.length;M.push(O);e:for(;0<F;){var _=F-1>>>1,N=M[_];if(0<s(N,O))M[_]=O,M[F]=N,F=_;else break e}}function n(M){return M.length===0?null:M[0]}function r(M){if(M.length===0)return null;var O=M[0],F=M.pop();if(F!==O){M[0]=F;e:for(var _=0,N=M.length,P=N>>>1;_<P;){var j=2*(_+1)-1,L=M[j],Y=j+1,V=M[Y];if(0>s(L,F))Y<N&&0>s(V,L)?(M[_]=V,M[Y]=F,_=Y):(M[_]=L,M[j]=F,_=j);else if(Y<N&&0>s(V,F))M[_]=V,M[Y]=F,_=Y;else break e}}return O}function s(M,O){var F=M.sortIndex-O.sortIndex;return F!==0?F:M.id-O.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();e.unstable_now=function(){return o.now()-a}}var l=[],c=[],u=1,d=null,f=3,A=!1,m=!1,y=!1,B=typeof setTimeout=="function"?setTimeout:null,h=typeof clearTimeout=="function"?clearTimeout:null,g=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(M){for(var O=n(c);O!==null;){if(O.callback===null)r(c);else if(O.startTime<=M)r(c),O.sortIndex=O.expirationTime,t(l,O);else break;O=n(c)}}function E(M){if(y=!1,w(M),!m)if(n(l)!==null)m=!0,K(v);else{var O=n(c);O!==null&&Ue(E,O.startTime-M)}}function v(M,O){m=!1,y&&(y=!1,h(T),T=-1),A=!0;var F=f;try{for(w(O),d=n(l);d!==null&&(!(d.expirationTime>O)||M&&!S());){var _=d.callback;if(typeof _=="function"){d.callback=null,f=d.priorityLevel;var N=_(d.expirationTime<=O);O=e.unstable_now(),typeof N=="function"?d.callback=N:d===n(l)&&r(l),w(O)}else r(l);d=n(l)}if(d!==null)var P=!0;else{var j=n(c);j!==null&&Ue(E,j.startTime-O),P=!1}return P}finally{d=null,f=F,A=!1}}var b=!1,C=null,T=-1,x=5,R=-1;function S(){return!(e.unstable_now()-R<x)}function $(){if(C!==null){var M=e.unstable_now();R=M;var O=!0;try{O=C(!0,M)}finally{O?Ae():(b=!1,C=null)}}else b=!1}var Ae;if(typeof g=="function")Ae=function(){g($)};else if(typeof MessageChannel<"u"){var le=new MessageChannel,me=le.port2;le.port1.onmessage=$,Ae=function(){me.postMessage(null)}}else Ae=function(){B($,0)};function K(M){C=M,b||(b=!0,Ae())}function Ue(M,O){T=B(function(){M(e.unstable_now())},O)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(M){M.callback=null},e.unstable_continueExecution=function(){m||A||(m=!0,K(v))},e.unstable_forceFrameRate=function(M){0>M||125<M?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):x=0<M?Math.floor(1e3/M):5},e.unstable_getCurrentPriorityLevel=function(){return f},e.unstable_getFirstCallbackNode=function(){return n(l)},e.unstable_next=function(M){switch(f){case 1:case 2:case 3:var O=3;break;default:O=f}var F=f;f=O;try{return M()}finally{f=F}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(M,O){switch(M){case 1:case 2:case 3:case 4:case 5:break;default:M=3}var F=f;f=M;try{return O()}finally{f=F}},e.unstable_scheduleCallback=function(M,O,F){var _=e.unstable_now();switch(typeof F=="object"&&F!==null?(F=F.delay,F=typeof F=="number"&&0<F?_+F:_):F=_,M){case 1:var N=-1;break;case 2:N=250;break;case 5:N=1073741823;break;case 4:N=1e4;break;default:N=5e3}return N=F+N,M={id:u++,callback:O,priorityLevel:M,startTime:F,expirationTime:N,sortIndex:-1},F>_?(M.sortIndex=F,t(c,M),n(l)===null&&M===n(c)&&(y?(h(T),T=-1):y=!0,Ue(E,F-_))):(M.sortIndex=N,t(l,M),m||A||(m=!0,K(v))),M},e.unstable_shouldYield=S,e.unstable_wrapCallback=function(M){var O=f;return function(){var F=f;f=O;try{return M.apply(this,arguments)}finally{f=F}}}})(F0);M0.exports=F0;var A2=M0.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var h2=I,Jt=A2;function G(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var L0=new Set,Vo={};function Yi(e,t){Ts(e,t),Ts(e+"Capture",t)}function Ts(e,t){for(Vo[e]=t,e=0;e<t.length;e++)L0.add(t[e])}var Er=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Rd=Object.prototype.hasOwnProperty,g2=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,vh={},Ch={};function p2(e){return Rd.call(Ch,e)?!0:Rd.call(vh,e)?!1:g2.test(e)?Ch[e]=!0:(vh[e]=!0,!1)}function y2(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function m2(e,t,n,r){if(t===null||typeof t>"u"||y2(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Tt(e,t,n,r,s,i,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var gt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){gt[e]=new Tt(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];gt[t]=new Tt(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){gt[e]=new Tt(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){gt[e]=new Tt(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){gt[e]=new Tt(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){gt[e]=new Tt(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){gt[e]=new Tt(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){gt[e]=new Tt(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){gt[e]=new Tt(e,5,!1,e.toLowerCase(),null,!1,!1)});var Jf=/[\-:]([a-z])/g;function qf(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Jf,qf);gt[t]=new Tt(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Jf,qf);gt[t]=new Tt(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Jf,qf);gt[t]=new Tt(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){gt[e]=new Tt(e,1,!1,e.toLowerCase(),null,!1,!1)});gt.xlinkHref=new Tt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){gt[e]=new Tt(e,1,!1,e.toLowerCase(),null,!0,!0)});function Zf(e,t,n,r){var s=gt.hasOwnProperty(t)?gt[t]:null;(s!==null?s.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(m2(t,n,s,r)&&(n=null),r||s===null?p2(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):s.mustUseProperty?e[s.propertyName]=n===null?s.type===3?!1:"":n:(t=s.attributeName,r=s.attributeNamespace,n===null?e.removeAttribute(t):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Cr=h2.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ka=Symbol.for("react.element"),us=Symbol.for("react.portal"),ds=Symbol.for("react.fragment"),eA=Symbol.for("react.strict_mode"),Qd=Symbol.for("react.profiler"),U0=Symbol.for("react.provider"),O0=Symbol.for("react.context"),tA=Symbol.for("react.forward_ref"),Td=Symbol.for("react.suspense"),Dd=Symbol.for("react.suspense_list"),nA=Symbol.for("react.memo"),Fr=Symbol.for("react.lazy"),H0=Symbol.for("react.offscreen"),bh=Symbol.iterator;function no(e){return e===null||typeof e!="object"?null:(e=bh&&e[bh]||e["@@iterator"],typeof e=="function"?e:null)}var je=Object.assign,_u;function Bo(e){if(_u===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);_u=t&&t[1]||""}return`
`+_u+e}var Su=!1;function ku(e,t){if(!e||Su)return"";Su=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var s=c.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var l=`
`+s[o].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=o&&0<=a);break}}}finally{Su=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Bo(e):""}function w2(e){switch(e.tag){case 5:return Bo(e.type);case 16:return Bo("Lazy");case 13:return Bo("Suspense");case 19:return Bo("SuspenseList");case 0:case 2:case 15:return e=ku(e.type,!1),e;case 11:return e=ku(e.type.render,!1),e;case 1:return e=ku(e.type,!0),e;default:return""}}function Nd(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case ds:return"Fragment";case us:return"Portal";case Qd:return"Profiler";case eA:return"StrictMode";case Td:return"Suspense";case Dd:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case O0:return(e.displayName||"Context")+".Consumer";case U0:return(e._context.displayName||"Context")+".Provider";case tA:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case nA:return t=e.displayName||null,t!==null?t:Nd(e.type)||"Memo";case Fr:t=e._payload,e=e._init;try{return Nd(e(t))}catch{}}return null}function E2(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Nd(t);case 8:return t===eA?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function li(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function K0(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function B2(e){var t=K0(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function ja(e){e._valueTracker||(e._valueTracker=B2(e))}function j0(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=K0(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function Ul(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Pd(e,t){var n=t.checked;return je({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function xh(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=li(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function z0(e,t){t=t.checked,t!=null&&Zf(e,"checked",t,!1)}function Md(e,t){z0(e,t);var n=li(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Fd(e,t.type,n):t.hasOwnProperty("defaultValue")&&Fd(e,t.type,li(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function _h(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Fd(e,t,n){(t!=="number"||Ul(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Io=Array.isArray;function Cs(e,t,n,r){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&r&&(e[n].defaultSelected=!0)}else{for(n=""+li(n),t=null,s=0;s<e.length;s++){if(e[s].value===n){e[s].selected=!0,r&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function Ld(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(G(91));return je({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Sh(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(G(92));if(Io(n)){if(1<n.length)throw Error(G(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:li(n)}}function G0(e,t){var n=li(t.value),r=li(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function kh(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Y0(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ud(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Y0(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var za,X0=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,s){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(za=za||document.createElement("div"),za.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=za.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function $o(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Ro={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},I2=["Webkit","ms","Moz","O"];Object.keys(Ro).forEach(function(e){I2.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Ro[t]=Ro[e]})});function W0(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Ro.hasOwnProperty(e)&&Ro[e]?(""+t).trim():t+"px"}function V0(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=W0(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,s):e[n]=s}}var v2=je({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Od(e,t){if(t){if(v2[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(G(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(G(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(G(61))}if(t.style!=null&&typeof t.style!="object")throw Error(G(62))}}function Hd(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Kd=null;function rA(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var jd=null,bs=null,xs=null;function Rh(e){if(e=ka(e)){if(typeof jd!="function")throw Error(G(280));var t=e.stateNode;t&&(t=Vc(t),jd(e.stateNode,e.type,t))}}function $0(e){bs?xs?xs.push(e):xs=[e]:bs=e}function J0(){if(bs){var e=bs,t=xs;if(xs=bs=null,Rh(e),t)for(e=0;e<t.length;e++)Rh(t[e])}}function q0(e,t){return e(t)}function Z0(){}var Ru=!1;function ey(e,t,n){if(Ru)return e(t,n);Ru=!0;try{return q0(e,t,n)}finally{Ru=!1,(bs!==null||xs!==null)&&(Z0(),J0())}}function Jo(e,t){var n=e.stateNode;if(n===null)return null;var r=Vc(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(G(231,t,typeof n));return n}var zd=!1;if(Er)try{var ro={};Object.defineProperty(ro,"passive",{get:function(){zd=!0}}),window.addEventListener("test",ro,ro),window.removeEventListener("test",ro,ro)}catch{zd=!1}function C2(e,t,n,r,s,i,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(u){this.onError(u)}}var Qo=!1,Ol=null,Hl=!1,Gd=null,b2={onError:function(e){Qo=!0,Ol=e}};function x2(e,t,n,r,s,i,o,a,l){Qo=!1,Ol=null,C2.apply(b2,arguments)}function _2(e,t,n,r,s,i,o,a,l){if(x2.apply(this,arguments),Qo){if(Qo){var c=Ol;Qo=!1,Ol=null}else throw Error(G(198));Hl||(Hl=!0,Gd=c)}}function Xi(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function ty(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Qh(e){if(Xi(e)!==e)throw Error(G(188))}function S2(e){var t=e.alternate;if(!t){if(t=Xi(e),t===null)throw Error(G(188));return t!==e?null:e}for(var n=e,r=t;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return Qh(s),e;if(i===r)return Qh(s),t;i=i.sibling}throw Error(G(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o)throw Error(G(189))}}if(n.alternate!==r)throw Error(G(190))}if(n.tag!==3)throw Error(G(188));return n.stateNode.current===n?e:t}function ny(e){return e=S2(e),e!==null?ry(e):null}function ry(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=ry(e);if(t!==null)return t;e=e.sibling}return null}var iy=Jt.unstable_scheduleCallback,Th=Jt.unstable_cancelCallback,k2=Jt.unstable_shouldYield,R2=Jt.unstable_requestPaint,We=Jt.unstable_now,Q2=Jt.unstable_getCurrentPriorityLevel,iA=Jt.unstable_ImmediatePriority,sy=Jt.unstable_UserBlockingPriority,Kl=Jt.unstable_NormalPriority,T2=Jt.unstable_LowPriority,oy=Jt.unstable_IdlePriority,Gc=null,Yn=null;function D2(e){if(Yn&&typeof Yn.onCommitFiberRoot=="function")try{Yn.onCommitFiberRoot(Gc,e,void 0,(e.current.flags&128)===128)}catch{}}var _n=Math.clz32?Math.clz32:M2,N2=Math.log,P2=Math.LN2;function M2(e){return e>>>=0,e===0?32:31-(N2(e)/P2|0)|0}var Ga=64,Ya=4194304;function vo(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function jl(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,s=e.suspendedLanes,i=e.pingedLanes,o=n&268435455;if(o!==0){var a=o&~s;a!==0?r=vo(a):(i&=o,i!==0&&(r=vo(i)))}else o=n&~s,o!==0?r=vo(o):i!==0&&(r=vo(i));if(r===0)return 0;if(t!==0&&t!==r&&!(t&s)&&(s=r&-r,i=t&-t,s>=i||s===16&&(i&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-_n(t),s=1<<n,r|=e[n],t&=~s;return r}function F2(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function L2(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,s=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-_n(i),a=1<<o,l=s[o];l===-1?(!(a&n)||a&r)&&(s[o]=F2(a,t)):l<=t&&(e.expiredLanes|=a),i&=~a}}function Yd(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function ay(){var e=Ga;return Ga<<=1,!(Ga&4194240)&&(Ga=64),e}function Qu(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function _a(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-_n(t),e[t]=n}function U2(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var s=31-_n(n),i=1<<s;t[s]=0,r[s]=-1,e[s]=-1,n&=~i}}function sA(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-_n(n),s=1<<r;s&t|e[r]&t&&(e[r]|=t),n&=~s}}var Ce=0;function ly(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var cy,oA,uy,dy,fy,Xd=!1,Xa=[],Jr=null,qr=null,Zr=null,qo=new Map,Zo=new Map,Or=[],O2="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Dh(e,t){switch(e){case"focusin":case"focusout":Jr=null;break;case"dragenter":case"dragleave":qr=null;break;case"mouseover":case"mouseout":Zr=null;break;case"pointerover":case"pointerout":qo.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Zo.delete(t.pointerId)}}function io(e,t,n,r,s,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},t!==null&&(t=ka(t),t!==null&&oA(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function H2(e,t,n,r,s){switch(t){case"focusin":return Jr=io(Jr,e,t,n,r,s),!0;case"dragenter":return qr=io(qr,e,t,n,r,s),!0;case"mouseover":return Zr=io(Zr,e,t,n,r,s),!0;case"pointerover":var i=s.pointerId;return qo.set(i,io(qo.get(i)||null,e,t,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,Zo.set(i,io(Zo.get(i)||null,e,t,n,r,s)),!0}return!1}function Ay(e){var t=Ci(e.target);if(t!==null){var n=Xi(t);if(n!==null){if(t=n.tag,t===13){if(t=ty(n),t!==null){e.blockedOn=t,fy(e.priority,function(){uy(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function xl(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Wd(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);Kd=r,n.target.dispatchEvent(r),Kd=null}else return t=ka(n),t!==null&&oA(t),e.blockedOn=n,!1;t.shift()}return!0}function Nh(e,t,n){xl(e)&&n.delete(t)}function K2(){Xd=!1,Jr!==null&&xl(Jr)&&(Jr=null),qr!==null&&xl(qr)&&(qr=null),Zr!==null&&xl(Zr)&&(Zr=null),qo.forEach(Nh),Zo.forEach(Nh)}function so(e,t){e.blockedOn===t&&(e.blockedOn=null,Xd||(Xd=!0,Jt.unstable_scheduleCallback(Jt.unstable_NormalPriority,K2)))}function ea(e){function t(s){return so(s,e)}if(0<Xa.length){so(Xa[0],e);for(var n=1;n<Xa.length;n++){var r=Xa[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Jr!==null&&so(Jr,e),qr!==null&&so(qr,e),Zr!==null&&so(Zr,e),qo.forEach(t),Zo.forEach(t),n=0;n<Or.length;n++)r=Or[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Or.length&&(n=Or[0],n.blockedOn===null);)Ay(n),n.blockedOn===null&&Or.shift()}var _s=Cr.ReactCurrentBatchConfig,zl=!0;function j2(e,t,n,r){var s=Ce,i=_s.transition;_s.transition=null;try{Ce=1,aA(e,t,n,r)}finally{Ce=s,_s.transition=i}}function z2(e,t,n,r){var s=Ce,i=_s.transition;_s.transition=null;try{Ce=4,aA(e,t,n,r)}finally{Ce=s,_s.transition=i}}function aA(e,t,n,r){if(zl){var s=Wd(e,t,n,r);if(s===null)Hu(e,t,r,Gl,n),Dh(e,r);else if(H2(s,e,t,n,r))r.stopPropagation();else if(Dh(e,r),t&4&&-1<O2.indexOf(e)){for(;s!==null;){var i=ka(s);if(i!==null&&cy(i),i=Wd(e,t,n,r),i===null&&Hu(e,t,r,Gl,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else Hu(e,t,r,null,n)}}var Gl=null;function Wd(e,t,n,r){if(Gl=null,e=rA(r),e=Ci(e),e!==null)if(t=Xi(e),t===null)e=null;else if(n=t.tag,n===13){if(e=ty(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Gl=e,null}function hy(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Q2()){case iA:return 1;case sy:return 4;case Kl:case T2:return 16;case oy:return 536870912;default:return 16}default:return 16}}var Xr=null,lA=null,_l=null;function gy(){if(_l)return _l;var e,t=lA,n=t.length,r,s="value"in Xr?Xr.value:Xr.textContent,i=s.length;for(e=0;e<n&&t[e]===s[e];e++);var o=n-e;for(r=1;r<=o&&t[n-r]===s[i-r];r++);return _l=s.slice(e,1<r?1-r:void 0)}function Sl(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Wa(){return!0}function Ph(){return!1}function Zt(e){function t(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(n=e[a],this[a]=n?n(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Wa:Ph,this.isPropagationStopped=Ph,this}return je(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Wa)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Wa)},persist:function(){},isPersistent:Wa}),t}var Gs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},cA=Zt(Gs),Sa=je({},Gs,{view:0,detail:0}),G2=Zt(Sa),Tu,Du,oo,Yc=je({},Sa,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:uA,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==oo&&(oo&&e.type==="mousemove"?(Tu=e.screenX-oo.screenX,Du=e.screenY-oo.screenY):Du=Tu=0,oo=e),Tu)},movementY:function(e){return"movementY"in e?e.movementY:Du}}),Mh=Zt(Yc),Y2=je({},Yc,{dataTransfer:0}),X2=Zt(Y2),W2=je({},Sa,{relatedTarget:0}),Nu=Zt(W2),V2=je({},Gs,{animationName:0,elapsedTime:0,pseudoElement:0}),$2=Zt(V2),J2=je({},Gs,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),q2=Zt(J2),Z2=je({},Gs,{data:0}),Fh=Zt(Z2),eB={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},tB={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},nB={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function rB(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=nB[e])?!!t[e]:!1}function uA(){return rB}var iB=je({},Sa,{key:function(e){if(e.key){var t=eB[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Sl(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?tB[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:uA,charCode:function(e){return e.type==="keypress"?Sl(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Sl(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),sB=Zt(iB),oB=je({},Yc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Lh=Zt(oB),aB=je({},Sa,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:uA}),lB=Zt(aB),cB=je({},Gs,{propertyName:0,elapsedTime:0,pseudoElement:0}),uB=Zt(cB),dB=je({},Yc,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),fB=Zt(dB),AB=[9,13,27,32],dA=Er&&"CompositionEvent"in window,To=null;Er&&"documentMode"in document&&(To=document.documentMode);var hB=Er&&"TextEvent"in window&&!To,py=Er&&(!dA||To&&8<To&&11>=To),Uh=" ",Oh=!1;function yy(e,t){switch(e){case"keyup":return AB.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function my(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var fs=!1;function gB(e,t){switch(e){case"compositionend":return my(t);case"keypress":return t.which!==32?null:(Oh=!0,Uh);case"textInput":return e=t.data,e===Uh&&Oh?null:e;default:return null}}function pB(e,t){if(fs)return e==="compositionend"||!dA&&yy(e,t)?(e=gy(),_l=lA=Xr=null,fs=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return py&&t.locale!=="ko"?null:t.data;default:return null}}var yB={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Hh(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!yB[e.type]:t==="textarea"}function wy(e,t,n,r){$0(r),t=Yl(t,"onChange"),0<t.length&&(n=new cA("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Do=null,ta=null;function mB(e){Ry(e,0)}function Xc(e){var t=gs(e);if(j0(t))return e}function wB(e,t){if(e==="change")return t}var Ey=!1;if(Er){var Pu;if(Er){var Mu="oninput"in document;if(!Mu){var Kh=document.createElement("div");Kh.setAttribute("oninput","return;"),Mu=typeof Kh.oninput=="function"}Pu=Mu}else Pu=!1;Ey=Pu&&(!document.documentMode||9<document.documentMode)}function jh(){Do&&(Do.detachEvent("onpropertychange",By),ta=Do=null)}function By(e){if(e.propertyName==="value"&&Xc(ta)){var t=[];wy(t,ta,e,rA(e)),ey(mB,t)}}function EB(e,t,n){e==="focusin"?(jh(),Do=t,ta=n,Do.attachEvent("onpropertychange",By)):e==="focusout"&&jh()}function BB(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Xc(ta)}function IB(e,t){if(e==="click")return Xc(t)}function vB(e,t){if(e==="input"||e==="change")return Xc(t)}function CB(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Tn=typeof Object.is=="function"?Object.is:CB;function na(e,t){if(Tn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!Rd.call(t,s)||!Tn(e[s],t[s]))return!1}return!0}function zh(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Gh(e,t){var n=zh(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=zh(n)}}function Iy(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Iy(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function vy(){for(var e=window,t=Ul();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Ul(e.document)}return t}function fA(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function bB(e){var t=vy(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Iy(n.ownerDocument.documentElement,n)){if(r!==null&&fA(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!e.extend&&i>r&&(s=r,r=i,i=s),s=Gh(n,i);var o=Gh(n,r);s&&o&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),i>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var xB=Er&&"documentMode"in document&&11>=document.documentMode,As=null,Vd=null,No=null,$d=!1;function Yh(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;$d||As==null||As!==Ul(r)||(r=As,"selectionStart"in r&&fA(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),No&&na(No,r)||(No=r,r=Yl(Vd,"onSelect"),0<r.length&&(t=new cA("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=As)))}function Va(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var hs={animationend:Va("Animation","AnimationEnd"),animationiteration:Va("Animation","AnimationIteration"),animationstart:Va("Animation","AnimationStart"),transitionend:Va("Transition","TransitionEnd")},Fu={},Cy={};Er&&(Cy=document.createElement("div").style,"AnimationEvent"in window||(delete hs.animationend.animation,delete hs.animationiteration.animation,delete hs.animationstart.animation),"TransitionEvent"in window||delete hs.transitionend.transition);function Wc(e){if(Fu[e])return Fu[e];if(!hs[e])return e;var t=hs[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Cy)return Fu[e]=t[n];return e}var by=Wc("animationend"),xy=Wc("animationiteration"),_y=Wc("animationstart"),Sy=Wc("transitionend"),ky=new Map,Xh="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ui(e,t){ky.set(e,t),Yi(t,[e])}for(var Lu=0;Lu<Xh.length;Lu++){var Uu=Xh[Lu],_B=Uu.toLowerCase(),SB=Uu[0].toUpperCase()+Uu.slice(1);ui(_B,"on"+SB)}ui(by,"onAnimationEnd");ui(xy,"onAnimationIteration");ui(_y,"onAnimationStart");ui("dblclick","onDoubleClick");ui("focusin","onFocus");ui("focusout","onBlur");ui(Sy,"onTransitionEnd");Ts("onMouseEnter",["mouseout","mouseover"]);Ts("onMouseLeave",["mouseout","mouseover"]);Ts("onPointerEnter",["pointerout","pointerover"]);Ts("onPointerLeave",["pointerout","pointerover"]);Yi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Yi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Yi("onBeforeInput",["compositionend","keypress","textInput","paste"]);Yi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Yi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Yi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Co="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),kB=new Set("cancel close invalid load scroll toggle".split(" ").concat(Co));function Wh(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,_2(r,t,void 0,e),e.currentTarget=null}function Ry(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],s=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==i&&s.isPropagationStopped())break e;Wh(s,a,c),i=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==i&&s.isPropagationStopped())break e;Wh(s,a,c),i=l}}}if(Hl)throw e=Gd,Hl=!1,Gd=null,e}function Qe(e,t){var n=t[tf];n===void 0&&(n=t[tf]=new Set);var r=e+"__bubble";n.has(r)||(Qy(t,e,2,!1),n.add(r))}function Ou(e,t,n){var r=0;t&&(r|=4),Qy(n,e,r,t)}var $a="_reactListening"+Math.random().toString(36).slice(2);function ra(e){if(!e[$a]){e[$a]=!0,L0.forEach(function(n){n!=="selectionchange"&&(kB.has(n)||Ou(n,!1,e),Ou(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[$a]||(t[$a]=!0,Ou("selectionchange",!1,t))}}function Qy(e,t,n,r){switch(hy(t)){case 1:var s=j2;break;case 4:s=z2;break;default:s=aA}n=s.bind(null,t,n,e),s=void 0,!zd||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),r?s!==void 0?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):s!==void 0?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function Hu(e,t,n,r,s){var i=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;o=o.return}for(;a!==null;){if(o=Ci(a),o===null)return;if(l=o.tag,l===5||l===6){r=i=o;continue e}a=a.parentNode}}r=r.return}ey(function(){var c=i,u=rA(n),d=[];e:{var f=ky.get(e);if(f!==void 0){var A=cA,m=e;switch(e){case"keypress":if(Sl(n)===0)break e;case"keydown":case"keyup":A=sB;break;case"focusin":m="focus",A=Nu;break;case"focusout":m="blur",A=Nu;break;case"beforeblur":case"afterblur":A=Nu;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":A=Mh;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":A=X2;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":A=lB;break;case by:case xy:case _y:A=$2;break;case Sy:A=uB;break;case"scroll":A=G2;break;case"wheel":A=fB;break;case"copy":case"cut":case"paste":A=q2;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":A=Lh}var y=(t&4)!==0,B=!y&&e==="scroll",h=y?f!==null?f+"Capture":null:f;y=[];for(var g=c,w;g!==null;){w=g;var E=w.stateNode;if(w.tag===5&&E!==null&&(w=E,h!==null&&(E=Jo(g,h),E!=null&&y.push(ia(g,E,w)))),B)break;g=g.return}0<y.length&&(f=new A(f,m,null,n,u),d.push({event:f,listeners:y}))}}if(!(t&7)){e:{if(f=e==="mouseover"||e==="pointerover",A=e==="mouseout"||e==="pointerout",f&&n!==Kd&&(m=n.relatedTarget||n.fromElement)&&(Ci(m)||m[Br]))break e;if((A||f)&&(f=u.window===u?u:(f=u.ownerDocument)?f.defaultView||f.parentWindow:window,A?(m=n.relatedTarget||n.toElement,A=c,m=m?Ci(m):null,m!==null&&(B=Xi(m),m!==B||m.tag!==5&&m.tag!==6)&&(m=null)):(A=null,m=c),A!==m)){if(y=Mh,E="onMouseLeave",h="onMouseEnter",g="mouse",(e==="pointerout"||e==="pointerover")&&(y=Lh,E="onPointerLeave",h="onPointerEnter",g="pointer"),B=A==null?f:gs(A),w=m==null?f:gs(m),f=new y(E,g+"leave",A,n,u),f.target=B,f.relatedTarget=w,E=null,Ci(u)===c&&(y=new y(h,g+"enter",m,n,u),y.target=w,y.relatedTarget=B,E=y),B=E,A&&m)t:{for(y=A,h=m,g=0,w=y;w;w=Zi(w))g++;for(w=0,E=h;E;E=Zi(E))w++;for(;0<g-w;)y=Zi(y),g--;for(;0<w-g;)h=Zi(h),w--;for(;g--;){if(y===h||h!==null&&y===h.alternate)break t;y=Zi(y),h=Zi(h)}y=null}else y=null;A!==null&&Vh(d,f,A,y,!1),m!==null&&B!==null&&Vh(d,B,m,y,!0)}}e:{if(f=c?gs(c):window,A=f.nodeName&&f.nodeName.toLowerCase(),A==="select"||A==="input"&&f.type==="file")var v=wB;else if(Hh(f))if(Ey)v=vB;else{v=BB;var b=EB}else(A=f.nodeName)&&A.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(v=IB);if(v&&(v=v(e,c))){wy(d,v,n,u);break e}b&&b(e,f,c),e==="focusout"&&(b=f._wrapperState)&&b.controlled&&f.type==="number"&&Fd(f,"number",f.value)}switch(b=c?gs(c):window,e){case"focusin":(Hh(b)||b.contentEditable==="true")&&(As=b,Vd=c,No=null);break;case"focusout":No=Vd=As=null;break;case"mousedown":$d=!0;break;case"contextmenu":case"mouseup":case"dragend":$d=!1,Yh(d,n,u);break;case"selectionchange":if(xB)break;case"keydown":case"keyup":Yh(d,n,u)}var C;if(dA)e:{switch(e){case"compositionstart":var T="onCompositionStart";break e;case"compositionend":T="onCompositionEnd";break e;case"compositionupdate":T="onCompositionUpdate";break e}T=void 0}else fs?yy(e,n)&&(T="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(T="onCompositionStart");T&&(py&&n.locale!=="ko"&&(fs||T!=="onCompositionStart"?T==="onCompositionEnd"&&fs&&(C=gy()):(Xr=u,lA="value"in Xr?Xr.value:Xr.textContent,fs=!0)),b=Yl(c,T),0<b.length&&(T=new Fh(T,e,null,n,u),d.push({event:T,listeners:b}),C?T.data=C:(C=my(n),C!==null&&(T.data=C)))),(C=hB?gB(e,n):pB(e,n))&&(c=Yl(c,"onBeforeInput"),0<c.length&&(u=new Fh("onBeforeInput","beforeinput",null,n,u),d.push({event:u,listeners:c}),u.data=C))}Ry(d,t)})}function ia(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Yl(e,t){for(var n=t+"Capture",r=[];e!==null;){var s=e,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Jo(e,n),i!=null&&r.unshift(ia(e,i,s)),i=Jo(e,t),i!=null&&r.push(ia(e,i,s))),e=e.return}return r}function Zi(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Vh(e,t,n,r,s){for(var i=t._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,s?(l=Jo(n,i),l!=null&&o.unshift(ia(n,l,a))):s||(l=Jo(n,i),l!=null&&o.push(ia(n,l,a)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var RB=/\r\n?/g,QB=/\u0000|\uFFFD/g;function $h(e){return(typeof e=="string"?e:""+e).replace(RB,`
`).replace(QB,"")}function Ja(e,t,n){if(t=$h(t),$h(e)!==t&&n)throw Error(G(425))}function Xl(){}var Jd=null,qd=null;function Zd(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var ef=typeof setTimeout=="function"?setTimeout:void 0,TB=typeof clearTimeout=="function"?clearTimeout:void 0,Jh=typeof Promise=="function"?Promise:void 0,DB=typeof queueMicrotask=="function"?queueMicrotask:typeof Jh<"u"?function(e){return Jh.resolve(null).then(e).catch(NB)}:ef;function NB(e){setTimeout(function(){throw e})}function Ku(e,t){var n=t,r=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){e.removeChild(s),ea(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);ea(t)}function ei(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function qh(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Ys=Math.random().toString(36).slice(2),Kn="__reactFiber$"+Ys,sa="__reactProps$"+Ys,Br="__reactContainer$"+Ys,tf="__reactEvents$"+Ys,PB="__reactListeners$"+Ys,MB="__reactHandles$"+Ys;function Ci(e){var t=e[Kn];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Br]||n[Kn]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=qh(e);e!==null;){if(n=e[Kn])return n;e=qh(e)}return t}e=n,n=e.parentNode}return null}function ka(e){return e=e[Kn]||e[Br],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function gs(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(G(33))}function Vc(e){return e[sa]||null}var nf=[],ps=-1;function di(e){return{current:e}}function De(e){0>ps||(e.current=nf[ps],nf[ps]=null,ps--)}function ke(e,t){ps++,nf[ps]=e.current,e.current=t}var ci={},Ct=di(ci),Ot=di(!1),Pi=ci;function Ds(e,t){var n=e.type.contextTypes;if(!n)return ci;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=t[i];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Ht(e){return e=e.childContextTypes,e!=null}function Wl(){De(Ot),De(Ct)}function Zh(e,t,n){if(Ct.current!==ci)throw Error(G(168));ke(Ct,t),ke(Ot,n)}function Ty(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in t))throw Error(G(108,E2(e)||"Unknown",s));return je({},n,r)}function Vl(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||ci,Pi=Ct.current,ke(Ct,e),ke(Ot,Ot.current),!0}function eg(e,t,n){var r=e.stateNode;if(!r)throw Error(G(169));n?(e=Ty(e,t,Pi),r.__reactInternalMemoizedMergedChildContext=e,De(Ot),De(Ct),ke(Ct,e)):De(Ot),ke(Ot,n)}var Ar=null,$c=!1,ju=!1;function Dy(e){Ar===null?Ar=[e]:Ar.push(e)}function FB(e){$c=!0,Dy(e)}function fi(){if(!ju&&Ar!==null){ju=!0;var e=0,t=Ce;try{var n=Ar;for(Ce=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}Ar=null,$c=!1}catch(s){throw Ar!==null&&(Ar=Ar.slice(e+1)),iy(iA,fi),s}finally{Ce=t,ju=!1}}return null}var ys=[],ms=0,$l=null,Jl=0,ln=[],cn=0,Mi=null,yr=1,mr="";function wi(e,t){ys[ms++]=Jl,ys[ms++]=$l,$l=e,Jl=t}function Ny(e,t,n){ln[cn++]=yr,ln[cn++]=mr,ln[cn++]=Mi,Mi=e;var r=yr;e=mr;var s=32-_n(r)-1;r&=~(1<<s),n+=1;var i=32-_n(t)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,yr=1<<32-_n(t)+s|n<<s|r,mr=i+e}else yr=1<<i|n<<s|r,mr=e}function AA(e){e.return!==null&&(wi(e,1),Ny(e,1,0))}function hA(e){for(;e===$l;)$l=ys[--ms],ys[ms]=null,Jl=ys[--ms],ys[ms]=null;for(;e===Mi;)Mi=ln[--cn],ln[cn]=null,mr=ln[--cn],ln[cn]=null,yr=ln[--cn],ln[cn]=null}var $t=null,Wt=null,Le=!1,bn=null;function Py(e,t){var n=fn(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function tg(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,$t=e,Wt=ei(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,$t=e,Wt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Mi!==null?{id:yr,overflow:mr}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=fn(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,$t=e,Wt=null,!0):!1;default:return!1}}function rf(e){return(e.mode&1)!==0&&(e.flags&128)===0}function sf(e){if(Le){var t=Wt;if(t){var n=t;if(!tg(e,t)){if(rf(e))throw Error(G(418));t=ei(n.nextSibling);var r=$t;t&&tg(e,t)?Py(r,n):(e.flags=e.flags&-4097|2,Le=!1,$t=e)}}else{if(rf(e))throw Error(G(418));e.flags=e.flags&-4097|2,Le=!1,$t=e}}}function ng(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;$t=e}function qa(e){if(e!==$t)return!1;if(!Le)return ng(e),Le=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Zd(e.type,e.memoizedProps)),t&&(t=Wt)){if(rf(e))throw My(),Error(G(418));for(;t;)Py(e,t),t=ei(t.nextSibling)}if(ng(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(G(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Wt=ei(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Wt=null}}else Wt=$t?ei(e.stateNode.nextSibling):null;return!0}function My(){for(var e=Wt;e;)e=ei(e.nextSibling)}function Ns(){Wt=$t=null,Le=!1}function gA(e){bn===null?bn=[e]:bn.push(e)}var LB=Cr.ReactCurrentBatchConfig;function ao(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(G(309));var r=n.stateNode}if(!r)throw Error(G(147,e));var s=r,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(o){var a=s.refs;o===null?delete a[i]:a[i]=o},t._stringRef=i,t)}if(typeof e!="string")throw Error(G(284));if(!n._owner)throw Error(G(290,e))}return e}function Za(e,t){throw e=Object.prototype.toString.call(t),Error(G(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function rg(e){var t=e._init;return t(e._payload)}function Fy(e){function t(h,g){if(e){var w=h.deletions;w===null?(h.deletions=[g],h.flags|=16):w.push(g)}}function n(h,g){if(!e)return null;for(;g!==null;)t(h,g),g=g.sibling;return null}function r(h,g){for(h=new Map;g!==null;)g.key!==null?h.set(g.key,g):h.set(g.index,g),g=g.sibling;return h}function s(h,g){return h=ii(h,g),h.index=0,h.sibling=null,h}function i(h,g,w){return h.index=w,e?(w=h.alternate,w!==null?(w=w.index,w<g?(h.flags|=2,g):w):(h.flags|=2,g)):(h.flags|=1048576,g)}function o(h){return e&&h.alternate===null&&(h.flags|=2),h}function a(h,g,w,E){return g===null||g.tag!==6?(g=$u(w,h.mode,E),g.return=h,g):(g=s(g,w),g.return=h,g)}function l(h,g,w,E){var v=w.type;return v===ds?u(h,g,w.props.children,E,w.key):g!==null&&(g.elementType===v||typeof v=="object"&&v!==null&&v.$$typeof===Fr&&rg(v)===g.type)?(E=s(g,w.props),E.ref=ao(h,g,w),E.return=h,E):(E=Pl(w.type,w.key,w.props,null,h.mode,E),E.ref=ao(h,g,w),E.return=h,E)}function c(h,g,w,E){return g===null||g.tag!==4||g.stateNode.containerInfo!==w.containerInfo||g.stateNode.implementation!==w.implementation?(g=Ju(w,h.mode,E),g.return=h,g):(g=s(g,w.children||[]),g.return=h,g)}function u(h,g,w,E,v){return g===null||g.tag!==7?(g=Di(w,h.mode,E,v),g.return=h,g):(g=s(g,w),g.return=h,g)}function d(h,g,w){if(typeof g=="string"&&g!==""||typeof g=="number")return g=$u(""+g,h.mode,w),g.return=h,g;if(typeof g=="object"&&g!==null){switch(g.$$typeof){case Ka:return w=Pl(g.type,g.key,g.props,null,h.mode,w),w.ref=ao(h,null,g),w.return=h,w;case us:return g=Ju(g,h.mode,w),g.return=h,g;case Fr:var E=g._init;return d(h,E(g._payload),w)}if(Io(g)||no(g))return g=Di(g,h.mode,w,null),g.return=h,g;Za(h,g)}return null}function f(h,g,w,E){var v=g!==null?g.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return v!==null?null:a(h,g,""+w,E);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Ka:return w.key===v?l(h,g,w,E):null;case us:return w.key===v?c(h,g,w,E):null;case Fr:return v=w._init,f(h,g,v(w._payload),E)}if(Io(w)||no(w))return v!==null?null:u(h,g,w,E,null);Za(h,w)}return null}function A(h,g,w,E,v){if(typeof E=="string"&&E!==""||typeof E=="number")return h=h.get(w)||null,a(g,h,""+E,v);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case Ka:return h=h.get(E.key===null?w:E.key)||null,l(g,h,E,v);case us:return h=h.get(E.key===null?w:E.key)||null,c(g,h,E,v);case Fr:var b=E._init;return A(h,g,w,b(E._payload),v)}if(Io(E)||no(E))return h=h.get(w)||null,u(g,h,E,v,null);Za(g,E)}return null}function m(h,g,w,E){for(var v=null,b=null,C=g,T=g=0,x=null;C!==null&&T<w.length;T++){C.index>T?(x=C,C=null):x=C.sibling;var R=f(h,C,w[T],E);if(R===null){C===null&&(C=x);break}e&&C&&R.alternate===null&&t(h,C),g=i(R,g,T),b===null?v=R:b.sibling=R,b=R,C=x}if(T===w.length)return n(h,C),Le&&wi(h,T),v;if(C===null){for(;T<w.length;T++)C=d(h,w[T],E),C!==null&&(g=i(C,g,T),b===null?v=C:b.sibling=C,b=C);return Le&&wi(h,T),v}for(C=r(h,C);T<w.length;T++)x=A(C,h,T,w[T],E),x!==null&&(e&&x.alternate!==null&&C.delete(x.key===null?T:x.key),g=i(x,g,T),b===null?v=x:b.sibling=x,b=x);return e&&C.forEach(function(S){return t(h,S)}),Le&&wi(h,T),v}function y(h,g,w,E){var v=no(w);if(typeof v!="function")throw Error(G(150));if(w=v.call(w),w==null)throw Error(G(151));for(var b=v=null,C=g,T=g=0,x=null,R=w.next();C!==null&&!R.done;T++,R=w.next()){C.index>T?(x=C,C=null):x=C.sibling;var S=f(h,C,R.value,E);if(S===null){C===null&&(C=x);break}e&&C&&S.alternate===null&&t(h,C),g=i(S,g,T),b===null?v=S:b.sibling=S,b=S,C=x}if(R.done)return n(h,C),Le&&wi(h,T),v;if(C===null){for(;!R.done;T++,R=w.next())R=d(h,R.value,E),R!==null&&(g=i(R,g,T),b===null?v=R:b.sibling=R,b=R);return Le&&wi(h,T),v}for(C=r(h,C);!R.done;T++,R=w.next())R=A(C,h,T,R.value,E),R!==null&&(e&&R.alternate!==null&&C.delete(R.key===null?T:R.key),g=i(R,g,T),b===null?v=R:b.sibling=R,b=R);return e&&C.forEach(function($){return t(h,$)}),Le&&wi(h,T),v}function B(h,g,w,E){if(typeof w=="object"&&w!==null&&w.type===ds&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case Ka:e:{for(var v=w.key,b=g;b!==null;){if(b.key===v){if(v=w.type,v===ds){if(b.tag===7){n(h,b.sibling),g=s(b,w.props.children),g.return=h,h=g;break e}}else if(b.elementType===v||typeof v=="object"&&v!==null&&v.$$typeof===Fr&&rg(v)===b.type){n(h,b.sibling),g=s(b,w.props),g.ref=ao(h,b,w),g.return=h,h=g;break e}n(h,b);break}else t(h,b);b=b.sibling}w.type===ds?(g=Di(w.props.children,h.mode,E,w.key),g.return=h,h=g):(E=Pl(w.type,w.key,w.props,null,h.mode,E),E.ref=ao(h,g,w),E.return=h,h=E)}return o(h);case us:e:{for(b=w.key;g!==null;){if(g.key===b)if(g.tag===4&&g.stateNode.containerInfo===w.containerInfo&&g.stateNode.implementation===w.implementation){n(h,g.sibling),g=s(g,w.children||[]),g.return=h,h=g;break e}else{n(h,g);break}else t(h,g);g=g.sibling}g=Ju(w,h.mode,E),g.return=h,h=g}return o(h);case Fr:return b=w._init,B(h,g,b(w._payload),E)}if(Io(w))return m(h,g,w,E);if(no(w))return y(h,g,w,E);Za(h,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,g!==null&&g.tag===6?(n(h,g.sibling),g=s(g,w),g.return=h,h=g):(n(h,g),g=$u(w,h.mode,E),g.return=h,h=g),o(h)):n(h,g)}return B}var Ps=Fy(!0),Ly=Fy(!1),ql=di(null),Zl=null,ws=null,pA=null;function yA(){pA=ws=Zl=null}function mA(e){var t=ql.current;De(ql),e._currentValue=t}function of(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Ss(e,t){Zl=e,pA=ws=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Lt=!0),e.firstContext=null)}function hn(e){var t=e._currentValue;if(pA!==e)if(e={context:e,memoizedValue:t,next:null},ws===null){if(Zl===null)throw Error(G(308));ws=e,Zl.dependencies={lanes:0,firstContext:e}}else ws=ws.next=e;return t}var bi=null;function wA(e){bi===null?bi=[e]:bi.push(e)}function Uy(e,t,n,r){var s=t.interleaved;return s===null?(n.next=n,wA(t)):(n.next=s.next,s.next=n),t.interleaved=n,Ir(e,r)}function Ir(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Lr=!1;function EA(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Oy(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function wr(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function ti(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,we&2){var s=r.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),r.pending=t,Ir(e,n)}return s=r.interleaved,s===null?(t.next=t,wA(r)):(t.next=s.next,s.next=t),r.interleaved=t,Ir(e,n)}function kl(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,sA(e,n)}}function ig(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=t:i=i.next=t}else s=i=t;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function ec(e,t,n,r){var s=e.updateQueue;Lr=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?i=c:o.next=c,o=l;var u=e.alternate;u!==null&&(u=u.updateQueue,a=u.lastBaseUpdate,a!==o&&(a===null?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l))}if(i!==null){var d=s.baseState;o=0,u=c=l=null,a=i;do{var f=a.lane,A=a.eventTime;if((r&f)===f){u!==null&&(u=u.next={eventTime:A,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var m=e,y=a;switch(f=t,A=n,y.tag){case 1:if(m=y.payload,typeof m=="function"){d=m.call(A,d,f);break e}d=m;break e;case 3:m.flags=m.flags&-65537|128;case 0:if(m=y.payload,f=typeof m=="function"?m.call(A,d,f):m,f==null)break e;d=je({},d,f);break e;case 2:Lr=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,f=s.effects,f===null?s.effects=[a]:f.push(a))}else A={eventTime:A,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},u===null?(c=u=A,l=d):u=u.next=A,o|=f;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;f=a,a=f.next,f.next=null,s.lastBaseUpdate=f,s.shared.pending=null}}while(!0);if(u===null&&(l=d),s.baseState=l,s.firstBaseUpdate=c,s.lastBaseUpdate=u,t=s.shared.interleaved,t!==null){s=t;do o|=s.lane,s=s.next;while(s!==t)}else i===null&&(s.shared.lanes=0);Li|=o,e.lanes=o,e.memoizedState=d}}function sg(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(G(191,s));s.call(r)}}}var Ra={},Xn=di(Ra),oa=di(Ra),aa=di(Ra);function xi(e){if(e===Ra)throw Error(G(174));return e}function BA(e,t){switch(ke(aa,t),ke(oa,e),ke(Xn,Ra),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Ud(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Ud(t,e)}De(Xn),ke(Xn,t)}function Ms(){De(Xn),De(oa),De(aa)}function Hy(e){xi(aa.current);var t=xi(Xn.current),n=Ud(t,e.type);t!==n&&(ke(oa,e),ke(Xn,n))}function IA(e){oa.current===e&&(De(Xn),De(oa))}var He=di(0);function tc(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var zu=[];function vA(){for(var e=0;e<zu.length;e++)zu[e]._workInProgressVersionPrimary=null;zu.length=0}var Rl=Cr.ReactCurrentDispatcher,Gu=Cr.ReactCurrentBatchConfig,Fi=0,Ke=null,Ze=null,ot=null,nc=!1,Po=!1,la=0,UB=0;function pt(){throw Error(G(321))}function CA(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Tn(e[n],t[n]))return!1;return!0}function bA(e,t,n,r,s,i){if(Fi=i,Ke=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Rl.current=e===null||e.memoizedState===null?jB:zB,e=n(r,s),Po){i=0;do{if(Po=!1,la=0,25<=i)throw Error(G(301));i+=1,ot=Ze=null,t.updateQueue=null,Rl.current=GB,e=n(r,s)}while(Po)}if(Rl.current=rc,t=Ze!==null&&Ze.next!==null,Fi=0,ot=Ze=Ke=null,nc=!1,t)throw Error(G(300));return e}function xA(){var e=la!==0;return la=0,e}function Un(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ot===null?Ke.memoizedState=ot=e:ot=ot.next=e,ot}function gn(){if(Ze===null){var e=Ke.alternate;e=e!==null?e.memoizedState:null}else e=Ze.next;var t=ot===null?Ke.memoizedState:ot.next;if(t!==null)ot=t,Ze=e;else{if(e===null)throw Error(G(310));Ze=e,e={memoizedState:Ze.memoizedState,baseState:Ze.baseState,baseQueue:Ze.baseQueue,queue:Ze.queue,next:null},ot===null?Ke.memoizedState=ot=e:ot=ot.next=e}return ot}function ca(e,t){return typeof t=="function"?t(e):t}function Yu(e){var t=gn(),n=t.queue;if(n===null)throw Error(G(311));n.lastRenderedReducer=e;var r=Ze,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var a=o=null,l=null,c=i;do{var u=c.lane;if((Fi&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:e(r,c.action);else{var d={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=d,o=r):l=l.next=d,Ke.lanes|=u,Li|=u}c=c.next}while(c!==null&&c!==i);l===null?o=r:l.next=a,Tn(r,t.memoizedState)||(Lt=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=l,n.lastRenderedState=r}if(e=n.interleaved,e!==null){s=e;do i=s.lane,Ke.lanes|=i,Li|=i,s=s.next;while(s!==e)}else s===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Xu(e){var t=gn(),n=t.queue;if(n===null)throw Error(G(311));n.lastRenderedReducer=e;var r=n.dispatch,s=n.pending,i=t.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=e(i,o.action),o=o.next;while(o!==s);Tn(i,t.memoizedState)||(Lt=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),n.lastRenderedState=i}return[i,r]}function Ky(){}function jy(e,t){var n=Ke,r=gn(),s=t(),i=!Tn(r.memoizedState,s);if(i&&(r.memoizedState=s,Lt=!0),r=r.queue,_A(Yy.bind(null,n,r,e),[e]),r.getSnapshot!==t||i||ot!==null&&ot.memoizedState.tag&1){if(n.flags|=2048,ua(9,Gy.bind(null,n,r,s,t),void 0,null),lt===null)throw Error(G(349));Fi&30||zy(n,t,s)}return s}function zy(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Ke.updateQueue,t===null?(t={lastEffect:null,stores:null},Ke.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Gy(e,t,n,r){t.value=n,t.getSnapshot=r,Xy(t)&&Wy(e)}function Yy(e,t,n){return n(function(){Xy(t)&&Wy(e)})}function Xy(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Tn(e,n)}catch{return!0}}function Wy(e){var t=Ir(e,1);t!==null&&Sn(t,e,1,-1)}function og(e){var t=Un();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ca,lastRenderedState:e},t.queue=e,e=e.dispatch=KB.bind(null,Ke,e),[t.memoizedState,e]}function ua(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=Ke.updateQueue,t===null?(t={lastEffect:null,stores:null},Ke.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function Vy(){return gn().memoizedState}function Ql(e,t,n,r){var s=Un();Ke.flags|=e,s.memoizedState=ua(1|t,n,void 0,r===void 0?null:r)}function Jc(e,t,n,r){var s=gn();r=r===void 0?null:r;var i=void 0;if(Ze!==null){var o=Ze.memoizedState;if(i=o.destroy,r!==null&&CA(r,o.deps)){s.memoizedState=ua(t,n,i,r);return}}Ke.flags|=e,s.memoizedState=ua(1|t,n,i,r)}function ag(e,t){return Ql(8390656,8,e,t)}function _A(e,t){return Jc(2048,8,e,t)}function $y(e,t){return Jc(4,2,e,t)}function Jy(e,t){return Jc(4,4,e,t)}function qy(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Zy(e,t,n){return n=n!=null?n.concat([e]):null,Jc(4,4,qy.bind(null,t,e),n)}function SA(){}function em(e,t){var n=gn();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&CA(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function tm(e,t){var n=gn();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&CA(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function nm(e,t,n){return Fi&21?(Tn(n,t)||(n=ay(),Ke.lanes|=n,Li|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Lt=!0),e.memoizedState=n)}function OB(e,t){var n=Ce;Ce=n!==0&&4>n?n:4,e(!0);var r=Gu.transition;Gu.transition={};try{e(!1),t()}finally{Ce=n,Gu.transition=r}}function rm(){return gn().memoizedState}function HB(e,t,n){var r=ri(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},im(e))sm(t,n);else if(n=Uy(e,t,n,r),n!==null){var s=Rt();Sn(n,e,r,s),om(n,t,r)}}function KB(e,t,n){var r=ri(e),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(im(e))sm(t,s);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var o=t.lastRenderedState,a=i(o,n);if(s.hasEagerState=!0,s.eagerState=a,Tn(a,o)){var l=t.interleaved;l===null?(s.next=s,wA(t)):(s.next=l.next,l.next=s),t.interleaved=s;return}}catch{}finally{}n=Uy(e,t,s,r),n!==null&&(s=Rt(),Sn(n,e,r,s),om(n,t,r))}}function im(e){var t=e.alternate;return e===Ke||t!==null&&t===Ke}function sm(e,t){Po=nc=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function om(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,sA(e,n)}}var rc={readContext:hn,useCallback:pt,useContext:pt,useEffect:pt,useImperativeHandle:pt,useInsertionEffect:pt,useLayoutEffect:pt,useMemo:pt,useReducer:pt,useRef:pt,useState:pt,useDebugValue:pt,useDeferredValue:pt,useTransition:pt,useMutableSource:pt,useSyncExternalStore:pt,useId:pt,unstable_isNewReconciler:!1},jB={readContext:hn,useCallback:function(e,t){return Un().memoizedState=[e,t===void 0?null:t],e},useContext:hn,useEffect:ag,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Ql(4194308,4,qy.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Ql(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ql(4,2,e,t)},useMemo:function(e,t){var n=Un();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Un();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=HB.bind(null,Ke,e),[r.memoizedState,e]},useRef:function(e){var t=Un();return e={current:e},t.memoizedState=e},useState:og,useDebugValue:SA,useDeferredValue:function(e){return Un().memoizedState=e},useTransition:function(){var e=og(!1),t=e[0];return e=OB.bind(null,e[1]),Un().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=Ke,s=Un();if(Le){if(n===void 0)throw Error(G(407));n=n()}else{if(n=t(),lt===null)throw Error(G(349));Fi&30||zy(r,t,n)}s.memoizedState=n;var i={value:n,getSnapshot:t};return s.queue=i,ag(Yy.bind(null,r,i,e),[e]),r.flags|=2048,ua(9,Gy.bind(null,r,i,n,t),void 0,null),n},useId:function(){var e=Un(),t=lt.identifierPrefix;if(Le){var n=mr,r=yr;n=(r&~(1<<32-_n(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=la++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=UB++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},zB={readContext:hn,useCallback:em,useContext:hn,useEffect:_A,useImperativeHandle:Zy,useInsertionEffect:$y,useLayoutEffect:Jy,useMemo:tm,useReducer:Yu,useRef:Vy,useState:function(){return Yu(ca)},useDebugValue:SA,useDeferredValue:function(e){var t=gn();return nm(t,Ze.memoizedState,e)},useTransition:function(){var e=Yu(ca)[0],t=gn().memoizedState;return[e,t]},useMutableSource:Ky,useSyncExternalStore:jy,useId:rm,unstable_isNewReconciler:!1},GB={readContext:hn,useCallback:em,useContext:hn,useEffect:_A,useImperativeHandle:Zy,useInsertionEffect:$y,useLayoutEffect:Jy,useMemo:tm,useReducer:Xu,useRef:Vy,useState:function(){return Xu(ca)},useDebugValue:SA,useDeferredValue:function(e){var t=gn();return Ze===null?t.memoizedState=e:nm(t,Ze.memoizedState,e)},useTransition:function(){var e=Xu(ca)[0],t=gn().memoizedState;return[e,t]},useMutableSource:Ky,useSyncExternalStore:jy,useId:rm,unstable_isNewReconciler:!1};function vn(e,t){if(e&&e.defaultProps){t=je({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function af(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:je({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var qc={isMounted:function(e){return(e=e._reactInternals)?Xi(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Rt(),s=ri(e),i=wr(r,s);i.payload=t,n!=null&&(i.callback=n),t=ti(e,i,s),t!==null&&(Sn(t,e,s,r),kl(t,e,s))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Rt(),s=ri(e),i=wr(r,s);i.tag=1,i.payload=t,n!=null&&(i.callback=n),t=ti(e,i,s),t!==null&&(Sn(t,e,s,r),kl(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Rt(),r=ri(e),s=wr(n,r);s.tag=2,t!=null&&(s.callback=t),t=ti(e,s,r),t!==null&&(Sn(t,e,r,n),kl(t,e,r))}};function lg(e,t,n,r,s,i,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,i,o):t.prototype&&t.prototype.isPureReactComponent?!na(n,r)||!na(s,i):!0}function am(e,t,n){var r=!1,s=ci,i=t.contextType;return typeof i=="object"&&i!==null?i=hn(i):(s=Ht(t)?Pi:Ct.current,r=t.contextTypes,i=(r=r!=null)?Ds(e,s):ci),t=new t(n,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=qc,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=i),t}function cg(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&qc.enqueueReplaceState(t,t.state,null)}function lf(e,t,n,r){var s=e.stateNode;s.props=n,s.state=e.memoizedState,s.refs={},EA(e);var i=t.contextType;typeof i=="object"&&i!==null?s.context=hn(i):(i=Ht(t)?Pi:Ct.current,s.context=Ds(e,i)),s.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(af(e,t,i,n),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&qc.enqueueReplaceState(s,s.state,null),ec(e,n,s,r),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function Fs(e,t){try{var n="",r=t;do n+=w2(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:s,digest:null}}function Wu(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function cf(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var YB=typeof WeakMap=="function"?WeakMap:Map;function lm(e,t,n){n=wr(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){sc||(sc=!0,wf=r),cf(e,t)},n}function cm(e,t,n){n=wr(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var s=t.value;n.payload=function(){return r(s)},n.callback=function(){cf(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){cf(e,t),typeof r!="function"&&(ni===null?ni=new Set([this]):ni.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),n}function ug(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new YB;var s=new Set;r.set(t,s)}else s=r.get(t),s===void 0&&(s=new Set,r.set(t,s));s.has(n)||(s.add(n),e=oI.bind(null,e,t,n),t.then(e,e))}function dg(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function fg(e,t,n,r,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=wr(-1,1),t.tag=2,ti(n,t,1))),n.lanes|=1),e)}var XB=Cr.ReactCurrentOwner,Lt=!1;function xt(e,t,n,r){t.child=e===null?Ly(t,null,n,r):Ps(t,e.child,n,r)}function Ag(e,t,n,r,s){n=n.render;var i=t.ref;return Ss(t,s),r=bA(e,t,n,r,i,s),n=xA(),e!==null&&!Lt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,vr(e,t,s)):(Le&&n&&AA(t),t.flags|=1,xt(e,t,r,s),t.child)}function hg(e,t,n,r,s){if(e===null){var i=n.type;return typeof i=="function"&&!MA(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=i,um(e,t,i,r,s)):(e=Pl(n.type,null,r,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:na,n(o,r)&&e.ref===t.ref)return vr(e,t,s)}return t.flags|=1,e=ii(i,r),e.ref=t.ref,e.return=t,t.child=e}function um(e,t,n,r,s){if(e!==null){var i=e.memoizedProps;if(na(i,r)&&e.ref===t.ref)if(Lt=!1,t.pendingProps=r=i,(e.lanes&s)!==0)e.flags&131072&&(Lt=!0);else return t.lanes=e.lanes,vr(e,t,s)}return uf(e,t,n,r,s)}function dm(e,t,n){var r=t.pendingProps,s=r.children,i=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},ke(Bs,Yt),Yt|=n;else{if(!(n&1073741824))return e=i!==null?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,ke(Bs,Yt),Yt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,ke(Bs,Yt),Yt|=r}else i!==null?(r=i.baseLanes|n,t.memoizedState=null):r=n,ke(Bs,Yt),Yt|=r;return xt(e,t,s,n),t.child}function fm(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function uf(e,t,n,r,s){var i=Ht(n)?Pi:Ct.current;return i=Ds(t,i),Ss(t,s),n=bA(e,t,n,r,i,s),r=xA(),e!==null&&!Lt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,vr(e,t,s)):(Le&&r&&AA(t),t.flags|=1,xt(e,t,n,s),t.child)}function gg(e,t,n,r,s){if(Ht(n)){var i=!0;Vl(t)}else i=!1;if(Ss(t,s),t.stateNode===null)Tl(e,t),am(t,n,r),lf(t,n,r,s),r=!0;else if(e===null){var o=t.stateNode,a=t.memoizedProps;o.props=a;var l=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=hn(c):(c=Ht(n)?Pi:Ct.current,c=Ds(t,c));var u=n.getDerivedStateFromProps,d=typeof u=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==c)&&cg(t,o,r,c),Lr=!1;var f=t.memoizedState;o.state=f,ec(t,r,o,s),l=t.memoizedState,a!==r||f!==l||Ot.current||Lr?(typeof u=="function"&&(af(t,n,u,r),l=t.memoizedState),(a=Lr||lg(t,n,a,r,f,l,c))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),o.props=r,o.state=l,o.context=c,r=a):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,Oy(e,t),a=t.memoizedProps,c=t.type===t.elementType?a:vn(t.type,a),o.props=c,d=t.pendingProps,f=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=hn(l):(l=Ht(n)?Pi:Ct.current,l=Ds(t,l));var A=n.getDerivedStateFromProps;(u=typeof A=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==d||f!==l)&&cg(t,o,r,l),Lr=!1,f=t.memoizedState,o.state=f,ec(t,r,o,s);var m=t.memoizedState;a!==d||f!==m||Ot.current||Lr?(typeof A=="function"&&(af(t,n,A,r),m=t.memoizedState),(c=Lr||lg(t,n,c,r,f,m,l)||!1)?(u||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,m,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,m,l)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=m),o.props=r,o.state=m,o.context=l,r=c):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),r=!1)}return df(e,t,n,r,i,s)}function df(e,t,n,r,s,i){fm(e,t);var o=(t.flags&128)!==0;if(!r&&!o)return s&&eg(t,n,!1),vr(e,t,i);r=t.stateNode,XB.current=t;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&o?(t.child=Ps(t,e.child,null,i),t.child=Ps(t,null,a,i)):xt(e,t,a,i),t.memoizedState=r.state,s&&eg(t,n,!0),t.child}function Am(e){var t=e.stateNode;t.pendingContext?Zh(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Zh(e,t.context,!1),BA(e,t.containerInfo)}function pg(e,t,n,r,s){return Ns(),gA(s),t.flags|=256,xt(e,t,n,r),t.child}var ff={dehydrated:null,treeContext:null,retryLane:0};function Af(e){return{baseLanes:e,cachePool:null,transitions:null}}function hm(e,t,n){var r=t.pendingProps,s=He.current,i=!1,o=(t.flags&128)!==0,a;if((a=o)||(a=e!==null&&e.memoizedState===null?!1:(s&2)!==0),a?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),ke(He,s&1),e===null)return sf(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=r.children,e=r.fallback,i?(r=t.mode,i=t.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=tu(o,r,0,null),e=Di(e,r,n,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=Af(n),t.memoizedState=ff,e):kA(t,o));if(s=e.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return WB(e,t,o,r,a,s,n);if(i){i=r.fallback,o=t.mode,s=e.child,a=s.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&t.child!==s?(r=t.child,r.childLanes=0,r.pendingProps=l,t.deletions=null):(r=ii(s,l),r.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=ii(a,i):(i=Di(i,o,n,null),i.flags|=2),i.return=t,r.return=t,r.sibling=i,t.child=r,r=i,i=t.child,o=e.child.memoizedState,o=o===null?Af(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=e.childLanes&~n,t.memoizedState=ff,r}return i=e.child,e=i.sibling,r=ii(i,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function kA(e,t){return t=tu({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function el(e,t,n,r){return r!==null&&gA(r),Ps(t,e.child,null,n),e=kA(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function WB(e,t,n,r,s,i,o){if(n)return t.flags&256?(t.flags&=-257,r=Wu(Error(G(422))),el(e,t,o,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=r.fallback,s=t.mode,r=tu({mode:"visible",children:r.children},s,0,null),i=Di(i,s,o,null),i.flags|=2,r.return=t,i.return=t,r.sibling=i,t.child=r,t.mode&1&&Ps(t,e.child,null,o),t.child.memoizedState=Af(o),t.memoizedState=ff,i);if(!(t.mode&1))return el(e,t,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var a=r.dgst;return r=a,i=Error(G(419)),r=Wu(i,r,void 0),el(e,t,o,r)}if(a=(o&e.childLanes)!==0,Lt||a){if(r=lt,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,Ir(e,s),Sn(r,e,s,-1))}return PA(),r=Wu(Error(G(421))),el(e,t,o,r)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=aI.bind(null,e),s._reactRetry=t,null):(e=i.treeContext,Wt=ei(s.nextSibling),$t=t,Le=!0,bn=null,e!==null&&(ln[cn++]=yr,ln[cn++]=mr,ln[cn++]=Mi,yr=e.id,mr=e.overflow,Mi=t),t=kA(t,r.children),t.flags|=4096,t)}function yg(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),of(e.return,t,n)}function Vu(e,t,n,r,s){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function gm(e,t,n){var r=t.pendingProps,s=r.revealOrder,i=r.tail;if(xt(e,t,r.children,n),r=He.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&yg(e,n,t);else if(e.tag===19)yg(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(ke(He,r),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(n=t.child,s=null;n!==null;)e=n.alternate,e!==null&&tc(e)===null&&(s=n),n=n.sibling;n=s,n===null?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),Vu(t,!1,s,n,i);break;case"backwards":for(n=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&tc(e)===null){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}Vu(t,!0,n,null,i);break;case"together":Vu(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Tl(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function vr(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Li|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(G(153));if(t.child!==null){for(e=t.child,n=ii(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=ii(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function VB(e,t,n){switch(t.tag){case 3:Am(t),Ns();break;case 5:Hy(t);break;case 1:Ht(t.type)&&Vl(t);break;case 4:BA(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,s=t.memoizedProps.value;ke(ql,r._currentValue),r._currentValue=s;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(ke(He,He.current&1),t.flags|=128,null):n&t.child.childLanes?hm(e,t,n):(ke(He,He.current&1),e=vr(e,t,n),e!==null?e.sibling:null);ke(He,He.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return gm(e,t,n);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),ke(He,He.current),r)break;return null;case 22:case 23:return t.lanes=0,dm(e,t,n)}return vr(e,t,n)}var pm,hf,ym,mm;pm=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};hf=function(){};ym=function(e,t,n,r){var s=e.memoizedProps;if(s!==r){e=t.stateNode,xi(Xn.current);var i=null;switch(n){case"input":s=Pd(e,s),r=Pd(e,r),i=[];break;case"select":s=je({},s,{value:void 0}),r=je({},r,{value:void 0}),i=[];break;case"textarea":s=Ld(e,s),r=Ld(e,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=Xl)}Od(n,r);var o;n=null;for(c in s)if(!r.hasOwnProperty(c)&&s.hasOwnProperty(c)&&s[c]!=null)if(c==="style"){var a=s[c];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Vo.hasOwnProperty(c)?i||(i=[]):(i=i||[]).push(c,null));for(c in r){var l=r[c];if(a=s!=null?s[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(i||(i=[]),i.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(i=i||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Vo.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&Qe("scroll",e),i||a===l||(i=[])):(i=i||[]).push(c,l))}n&&(i=i||[]).push("style",n);var c=i;(t.updateQueue=c)&&(t.flags|=4)}};mm=function(e,t,n,r){n!==r&&(t.flags|=4)};function lo(e,t){if(!Le)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function yt(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function $B(e,t,n){var r=t.pendingProps;switch(hA(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return yt(t),null;case 1:return Ht(t.type)&&Wl(),yt(t),null;case 3:return r=t.stateNode,Ms(),De(Ot),De(Ct),vA(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(qa(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,bn!==null&&(If(bn),bn=null))),hf(e,t),yt(t),null;case 5:IA(t);var s=xi(aa.current);if(n=t.type,e!==null&&t.stateNode!=null)ym(e,t,n,r,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(G(166));return yt(t),null}if(e=xi(Xn.current),qa(t)){r=t.stateNode,n=t.type;var i=t.memoizedProps;switch(r[Kn]=t,r[sa]=i,e=(t.mode&1)!==0,n){case"dialog":Qe("cancel",r),Qe("close",r);break;case"iframe":case"object":case"embed":Qe("load",r);break;case"video":case"audio":for(s=0;s<Co.length;s++)Qe(Co[s],r);break;case"source":Qe("error",r);break;case"img":case"image":case"link":Qe("error",r),Qe("load",r);break;case"details":Qe("toggle",r);break;case"input":xh(r,i),Qe("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},Qe("invalid",r);break;case"textarea":Sh(r,i),Qe("invalid",r)}Od(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?r.textContent!==a&&(i.suppressHydrationWarning!==!0&&Ja(r.textContent,a,e),s=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&Ja(r.textContent,a,e),s=["children",""+a]):Vo.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Qe("scroll",r)}switch(n){case"input":ja(r),_h(r,i,!0);break;case"textarea":ja(r),kh(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=Xl)}r=s,t.updateQueue=r,r!==null&&(t.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Y0(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=o.createElement(n,{is:r.is}):(e=o.createElement(n),n==="select"&&(o=e,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):e=o.createElementNS(e,n),e[Kn]=t,e[sa]=r,pm(e,t,!1,!1),t.stateNode=e;e:{switch(o=Hd(n,r),n){case"dialog":Qe("cancel",e),Qe("close",e),s=r;break;case"iframe":case"object":case"embed":Qe("load",e),s=r;break;case"video":case"audio":for(s=0;s<Co.length;s++)Qe(Co[s],e);s=r;break;case"source":Qe("error",e),s=r;break;case"img":case"image":case"link":Qe("error",e),Qe("load",e),s=r;break;case"details":Qe("toggle",e),s=r;break;case"input":xh(e,r),s=Pd(e,r),Qe("invalid",e);break;case"option":s=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},s=je({},r,{value:void 0}),Qe("invalid",e);break;case"textarea":Sh(e,r),s=Ld(e,r),Qe("invalid",e);break;default:s=r}Od(n,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var l=a[i];i==="style"?V0(e,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&X0(e,l)):i==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&$o(e,l):typeof l=="number"&&$o(e,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Vo.hasOwnProperty(i)?l!=null&&i==="onScroll"&&Qe("scroll",e):l!=null&&Zf(e,i,l,o))}switch(n){case"input":ja(e),_h(e,r,!1);break;case"textarea":ja(e),kh(e);break;case"option":r.value!=null&&e.setAttribute("value",""+li(r.value));break;case"select":e.multiple=!!r.multiple,i=r.value,i!=null?Cs(e,!!r.multiple,i,!1):r.defaultValue!=null&&Cs(e,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=Xl)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return yt(t),null;case 6:if(e&&t.stateNode!=null)mm(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(G(166));if(n=xi(aa.current),xi(Xn.current),qa(t)){if(r=t.stateNode,n=t.memoizedProps,r[Kn]=t,(i=r.nodeValue!==n)&&(e=$t,e!==null))switch(e.tag){case 3:Ja(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Ja(r.nodeValue,n,(e.mode&1)!==0)}i&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Kn]=t,t.stateNode=r}return yt(t),null;case 13:if(De(He),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Le&&Wt!==null&&t.mode&1&&!(t.flags&128))My(),Ns(),t.flags|=98560,i=!1;else if(i=qa(t),r!==null&&r.dehydrated!==null){if(e===null){if(!i)throw Error(G(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(G(317));i[Kn]=t}else Ns(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;yt(t),i=!1}else bn!==null&&(If(bn),bn=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||He.current&1?et===0&&(et=3):PA())),t.updateQueue!==null&&(t.flags|=4),yt(t),null);case 4:return Ms(),hf(e,t),e===null&&ra(t.stateNode.containerInfo),yt(t),null;case 10:return mA(t.type._context),yt(t),null;case 17:return Ht(t.type)&&Wl(),yt(t),null;case 19:if(De(He),i=t.memoizedState,i===null)return yt(t),null;if(r=(t.flags&128)!==0,o=i.rendering,o===null)if(r)lo(i,!1);else{if(et!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=tc(e),o!==null){for(t.flags|=128,lo(i,!1),r=o.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)i=n,e=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,e=o.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return ke(He,He.current&1|2),t.child}e=e.sibling}i.tail!==null&&We()>Ls&&(t.flags|=128,r=!0,lo(i,!1),t.lanes=4194304)}else{if(!r)if(e=tc(o),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),lo(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!Le)return yt(t),null}else 2*We()-i.renderingStartTime>Ls&&n!==1073741824&&(t.flags|=128,r=!0,lo(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(n=i.last,n!==null?n.sibling=o:t.child=o,i.last=o)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=We(),t.sibling=null,n=He.current,ke(He,r?n&1|2:n&1),t):(yt(t),null);case 22:case 23:return NA(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Yt&1073741824&&(yt(t),t.subtreeFlags&6&&(t.flags|=8192)):yt(t),null;case 24:return null;case 25:return null}throw Error(G(156,t.tag))}function JB(e,t){switch(hA(t),t.tag){case 1:return Ht(t.type)&&Wl(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Ms(),De(Ot),De(Ct),vA(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return IA(t),null;case 13:if(De(He),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(G(340));Ns()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return De(He),null;case 4:return Ms(),null;case 10:return mA(t.type._context),null;case 22:case 23:return NA(),null;case 24:return null;default:return null}}var tl=!1,vt=!1,qB=typeof WeakSet=="function"?WeakSet:Set,q=null;function Es(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Ge(e,t,r)}else n.current=null}function gf(e,t,n){try{n()}catch(r){Ge(e,t,r)}}var mg=!1;function ZB(e,t){if(Jd=zl,e=vy(),fA(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,c=0,u=0,d=e,f=null;t:for(;;){for(var A;d!==n||s!==0&&d.nodeType!==3||(a=o+s),d!==i||r!==0&&d.nodeType!==3||(l=o+r),d.nodeType===3&&(o+=d.nodeValue.length),(A=d.firstChild)!==null;)f=d,d=A;for(;;){if(d===e)break t;if(f===n&&++c===s&&(a=o),f===i&&++u===r&&(l=o),(A=d.nextSibling)!==null)break;d=f,f=d.parentNode}d=A}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(qd={focusedElem:e,selectionRange:n},zl=!1,q=t;q!==null;)if(t=q,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,q=e;else for(;q!==null;){t=q;try{var m=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(m!==null){var y=m.memoizedProps,B=m.memoizedState,h=t.stateNode,g=h.getSnapshotBeforeUpdate(t.elementType===t.type?y:vn(t.type,y),B);h.__reactInternalSnapshotBeforeUpdate=g}break;case 3:var w=t.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(G(163))}}catch(E){Ge(t,t.return,E)}if(e=t.sibling,e!==null){e.return=t.return,q=e;break}q=t.return}return m=mg,mg=!1,m}function Mo(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&e)===e){var i=s.destroy;s.destroy=void 0,i!==void 0&&gf(t,n,i)}s=s.next}while(s!==r)}}function Zc(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function pf(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function wm(e){var t=e.alternate;t!==null&&(e.alternate=null,wm(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Kn],delete t[sa],delete t[tf],delete t[PB],delete t[MB])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Em(e){return e.tag===5||e.tag===3||e.tag===4}function wg(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Em(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function yf(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Xl));else if(r!==4&&(e=e.child,e!==null))for(yf(e,t,n),e=e.sibling;e!==null;)yf(e,t,n),e=e.sibling}function mf(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(mf(e,t,n),e=e.sibling;e!==null;)mf(e,t,n),e=e.sibling}var ft=null,Cn=!1;function xr(e,t,n){for(n=n.child;n!==null;)Bm(e,t,n),n=n.sibling}function Bm(e,t,n){if(Yn&&typeof Yn.onCommitFiberUnmount=="function")try{Yn.onCommitFiberUnmount(Gc,n)}catch{}switch(n.tag){case 5:vt||Es(n,t);case 6:var r=ft,s=Cn;ft=null,xr(e,t,n),ft=r,Cn=s,ft!==null&&(Cn?(e=ft,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):ft.removeChild(n.stateNode));break;case 18:ft!==null&&(Cn?(e=ft,n=n.stateNode,e.nodeType===8?Ku(e.parentNode,n):e.nodeType===1&&Ku(e,n),ea(e)):Ku(ft,n.stateNode));break;case 4:r=ft,s=Cn,ft=n.stateNode.containerInfo,Cn=!0,xr(e,t,n),ft=r,Cn=s;break;case 0:case 11:case 14:case 15:if(!vt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&gf(n,t,o),s=s.next}while(s!==r)}xr(e,t,n);break;case 1:if(!vt&&(Es(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Ge(n,t,a)}xr(e,t,n);break;case 21:xr(e,t,n);break;case 22:n.mode&1?(vt=(r=vt)||n.memoizedState!==null,xr(e,t,n),vt=r):xr(e,t,n);break;default:xr(e,t,n)}}function Eg(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new qB),t.forEach(function(r){var s=lI.bind(null,e,r);n.has(r)||(n.add(r),r.then(s,s))})}}function In(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=e,o=t,a=o;e:for(;a!==null;){switch(a.tag){case 5:ft=a.stateNode,Cn=!1;break e;case 3:ft=a.stateNode.containerInfo,Cn=!0;break e;case 4:ft=a.stateNode.containerInfo,Cn=!0;break e}a=a.return}if(ft===null)throw Error(G(160));Bm(i,o,s),ft=null,Cn=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(c){Ge(s,t,c)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Im(t,e),t=t.sibling}function Im(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(In(t,e),Mn(e),r&4){try{Mo(3,e,e.return),Zc(3,e)}catch(y){Ge(e,e.return,y)}try{Mo(5,e,e.return)}catch(y){Ge(e,e.return,y)}}break;case 1:In(t,e),Mn(e),r&512&&n!==null&&Es(n,n.return);break;case 5:if(In(t,e),Mn(e),r&512&&n!==null&&Es(n,n.return),e.flags&32){var s=e.stateNode;try{$o(s,"")}catch(y){Ge(e,e.return,y)}}if(r&4&&(s=e.stateNode,s!=null)){var i=e.memoizedProps,o=n!==null?n.memoizedProps:i,a=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&z0(s,i),Hd(a,o);var c=Hd(a,i);for(o=0;o<l.length;o+=2){var u=l[o],d=l[o+1];u==="style"?V0(s,d):u==="dangerouslySetInnerHTML"?X0(s,d):u==="children"?$o(s,d):Zf(s,u,d,c)}switch(a){case"input":Md(s,i);break;case"textarea":G0(s,i);break;case"select":var f=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var A=i.value;A!=null?Cs(s,!!i.multiple,A,!1):f!==!!i.multiple&&(i.defaultValue!=null?Cs(s,!!i.multiple,i.defaultValue,!0):Cs(s,!!i.multiple,i.multiple?[]:"",!1))}s[sa]=i}catch(y){Ge(e,e.return,y)}}break;case 6:if(In(t,e),Mn(e),r&4){if(e.stateNode===null)throw Error(G(162));s=e.stateNode,i=e.memoizedProps;try{s.nodeValue=i}catch(y){Ge(e,e.return,y)}}break;case 3:if(In(t,e),Mn(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{ea(t.containerInfo)}catch(y){Ge(e,e.return,y)}break;case 4:In(t,e),Mn(e);break;case 13:In(t,e),Mn(e),s=e.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(TA=We())),r&4&&Eg(e);break;case 22:if(u=n!==null&&n.memoizedState!==null,e.mode&1?(vt=(c=vt)||u,In(t,e),vt=c):In(t,e),Mn(e),r&8192){if(c=e.memoizedState!==null,(e.stateNode.isHidden=c)&&!u&&e.mode&1)for(q=e,u=e.child;u!==null;){for(d=q=u;q!==null;){switch(f=q,A=f.child,f.tag){case 0:case 11:case 14:case 15:Mo(4,f,f.return);break;case 1:Es(f,f.return);var m=f.stateNode;if(typeof m.componentWillUnmount=="function"){r=f,n=f.return;try{t=r,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(y){Ge(r,n,y)}}break;case 5:Es(f,f.return);break;case 22:if(f.memoizedState!==null){Ig(d);continue}}A!==null?(A.return=f,q=A):Ig(d)}u=u.sibling}e:for(u=null,d=e;;){if(d.tag===5){if(u===null){u=d;try{s=d.stateNode,c?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=d.stateNode,l=d.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=W0("display",o))}catch(y){Ge(e,e.return,y)}}}else if(d.tag===6){if(u===null)try{d.stateNode.nodeValue=c?"":d.memoizedProps}catch(y){Ge(e,e.return,y)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===e)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;d.sibling===null;){if(d.return===null||d.return===e)break e;u===d&&(u=null),d=d.return}u===d&&(u=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:In(t,e),Mn(e),r&4&&Eg(e);break;case 21:break;default:In(t,e),Mn(e)}}function Mn(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(Em(n)){var r=n;break e}n=n.return}throw Error(G(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&($o(s,""),r.flags&=-33);var i=wg(e);mf(e,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,a=wg(e);yf(e,a,o);break;default:throw Error(G(161))}}catch(l){Ge(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function eI(e,t,n){q=e,vm(e)}function vm(e,t,n){for(var r=(e.mode&1)!==0;q!==null;){var s=q,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||tl;if(!o){var a=s.alternate,l=a!==null&&a.memoizedState!==null||vt;a=tl;var c=vt;if(tl=o,(vt=l)&&!c)for(q=s;q!==null;)o=q,l=o.child,o.tag===22&&o.memoizedState!==null?vg(s):l!==null?(l.return=o,q=l):vg(s);for(;i!==null;)q=i,vm(i),i=i.sibling;q=s,tl=a,vt=c}Bg(e)}else s.subtreeFlags&8772&&i!==null?(i.return=s,q=i):Bg(e)}}function Bg(e){for(;q!==null;){var t=q;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:vt||Zc(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!vt)if(n===null)r.componentDidMount();else{var s=t.elementType===t.type?n.memoizedProps:vn(t.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&sg(t,i,r);break;case 3:var o=t.updateQueue;if(o!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}sg(t,o,n)}break;case 5:var a=t.stateNode;if(n===null&&t.flags&4){n=a;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var c=t.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var d=u.dehydrated;d!==null&&ea(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(G(163))}vt||t.flags&512&&pf(t)}catch(f){Ge(t,t.return,f)}}if(t===e){q=null;break}if(n=t.sibling,n!==null){n.return=t.return,q=n;break}q=t.return}}function Ig(e){for(;q!==null;){var t=q;if(t===e){q=null;break}var n=t.sibling;if(n!==null){n.return=t.return,q=n;break}q=t.return}}function vg(e){for(;q!==null;){var t=q;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Zc(4,t)}catch(l){Ge(t,n,l)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var s=t.return;try{r.componentDidMount()}catch(l){Ge(t,s,l)}}var i=t.return;try{pf(t)}catch(l){Ge(t,i,l)}break;case 5:var o=t.return;try{pf(t)}catch(l){Ge(t,o,l)}}}catch(l){Ge(t,t.return,l)}if(t===e){q=null;break}var a=t.sibling;if(a!==null){a.return=t.return,q=a;break}q=t.return}}var tI=Math.ceil,ic=Cr.ReactCurrentDispatcher,RA=Cr.ReactCurrentOwner,An=Cr.ReactCurrentBatchConfig,we=0,lt=null,$e=null,ht=0,Yt=0,Bs=di(0),et=0,da=null,Li=0,eu=0,QA=0,Fo=null,Ft=null,TA=0,Ls=1/0,dr=null,sc=!1,wf=null,ni=null,nl=!1,Wr=null,oc=0,Lo=0,Ef=null,Dl=-1,Nl=0;function Rt(){return we&6?We():Dl!==-1?Dl:Dl=We()}function ri(e){return e.mode&1?we&2&&ht!==0?ht&-ht:LB.transition!==null?(Nl===0&&(Nl=ay()),Nl):(e=Ce,e!==0||(e=window.event,e=e===void 0?16:hy(e.type)),e):1}function Sn(e,t,n,r){if(50<Lo)throw Lo=0,Ef=null,Error(G(185));_a(e,n,r),(!(we&2)||e!==lt)&&(e===lt&&(!(we&2)&&(eu|=n),et===4&&Hr(e,ht)),Kt(e,r),n===1&&we===0&&!(t.mode&1)&&(Ls=We()+500,$c&&fi()))}function Kt(e,t){var n=e.callbackNode;L2(e,t);var r=jl(e,e===lt?ht:0);if(r===0)n!==null&&Th(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&Th(n),t===1)e.tag===0?FB(Cg.bind(null,e)):Dy(Cg.bind(null,e)),DB(function(){!(we&6)&&fi()}),n=null;else{switch(ly(r)){case 1:n=iA;break;case 4:n=sy;break;case 16:n=Kl;break;case 536870912:n=oy;break;default:n=Kl}n=Qm(n,Cm.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Cm(e,t){if(Dl=-1,Nl=0,we&6)throw Error(G(327));var n=e.callbackNode;if(ks()&&e.callbackNode!==n)return null;var r=jl(e,e===lt?ht:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=ac(e,r);else{t=r;var s=we;we|=2;var i=xm();(lt!==e||ht!==t)&&(dr=null,Ls=We()+500,Ti(e,t));do try{iI();break}catch(a){bm(e,a)}while(!0);yA(),ic.current=i,we=s,$e!==null?t=0:(lt=null,ht=0,t=et)}if(t!==0){if(t===2&&(s=Yd(e),s!==0&&(r=s,t=Bf(e,s))),t===1)throw n=da,Ti(e,0),Hr(e,r),Kt(e,We()),n;if(t===6)Hr(e,r);else{if(s=e.current.alternate,!(r&30)&&!nI(s)&&(t=ac(e,r),t===2&&(i=Yd(e),i!==0&&(r=i,t=Bf(e,i))),t===1))throw n=da,Ti(e,0),Hr(e,r),Kt(e,We()),n;switch(e.finishedWork=s,e.finishedLanes=r,t){case 0:case 1:throw Error(G(345));case 2:Ei(e,Ft,dr);break;case 3:if(Hr(e,r),(r&130023424)===r&&(t=TA+500-We(),10<t)){if(jl(e,0)!==0)break;if(s=e.suspendedLanes,(s&r)!==r){Rt(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=ef(Ei.bind(null,e,Ft,dr),t);break}Ei(e,Ft,dr);break;case 4:if(Hr(e,r),(r&4194240)===r)break;for(t=e.eventTimes,s=-1;0<r;){var o=31-_n(r);i=1<<o,o=t[o],o>s&&(s=o),r&=~i}if(r=s,r=We()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*tI(r/1960))-r,10<r){e.timeoutHandle=ef(Ei.bind(null,e,Ft,dr),r);break}Ei(e,Ft,dr);break;case 5:Ei(e,Ft,dr);break;default:throw Error(G(329))}}}return Kt(e,We()),e.callbackNode===n?Cm.bind(null,e):null}function Bf(e,t){var n=Fo;return e.current.memoizedState.isDehydrated&&(Ti(e,t).flags|=256),e=ac(e,t),e!==2&&(t=Ft,Ft=n,t!==null&&If(t)),e}function If(e){Ft===null?Ft=e:Ft.push.apply(Ft,e)}function nI(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!Tn(i(),s))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Hr(e,t){for(t&=~QA,t&=~eu,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-_n(t),r=1<<n;e[n]=-1,t&=~r}}function Cg(e){if(we&6)throw Error(G(327));ks();var t=jl(e,0);if(!(t&1))return Kt(e,We()),null;var n=ac(e,t);if(e.tag!==0&&n===2){var r=Yd(e);r!==0&&(t=r,n=Bf(e,r))}if(n===1)throw n=da,Ti(e,0),Hr(e,t),Kt(e,We()),n;if(n===6)throw Error(G(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Ei(e,Ft,dr),Kt(e,We()),null}function DA(e,t){var n=we;we|=1;try{return e(t)}finally{we=n,we===0&&(Ls=We()+500,$c&&fi())}}function Ui(e){Wr!==null&&Wr.tag===0&&!(we&6)&&ks();var t=we;we|=1;var n=An.transition,r=Ce;try{if(An.transition=null,Ce=1,e)return e()}finally{Ce=r,An.transition=n,we=t,!(we&6)&&fi()}}function NA(){Yt=Bs.current,De(Bs)}function Ti(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,TB(n)),$e!==null)for(n=$e.return;n!==null;){var r=n;switch(hA(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Wl();break;case 3:Ms(),De(Ot),De(Ct),vA();break;case 5:IA(r);break;case 4:Ms();break;case 13:De(He);break;case 19:De(He);break;case 10:mA(r.type._context);break;case 22:case 23:NA()}n=n.return}if(lt=e,$e=e=ii(e.current,null),ht=Yt=t,et=0,da=null,QA=eu=Li=0,Ft=Fo=null,bi!==null){for(t=0;t<bi.length;t++)if(n=bi[t],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}bi=null}return e}function bm(e,t){do{var n=$e;try{if(yA(),Rl.current=rc,nc){for(var r=Ke.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}nc=!1}if(Fi=0,ot=Ze=Ke=null,Po=!1,la=0,RA.current=null,n===null||n.return===null){et=1,da=t,$e=null;break}e:{var i=e,o=n.return,a=n,l=t;if(t=ht,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,u=a,d=u.tag;if(!(u.mode&1)&&(d===0||d===11||d===15)){var f=u.alternate;f?(u.updateQueue=f.updateQueue,u.memoizedState=f.memoizedState,u.lanes=f.lanes):(u.updateQueue=null,u.memoizedState=null)}var A=dg(o);if(A!==null){A.flags&=-257,fg(A,o,a,i,t),A.mode&1&&ug(i,c,t),t=A,l=c;var m=t.updateQueue;if(m===null){var y=new Set;y.add(l),t.updateQueue=y}else m.add(l);break e}else{if(!(t&1)){ug(i,c,t),PA();break e}l=Error(G(426))}}else if(Le&&a.mode&1){var B=dg(o);if(B!==null){!(B.flags&65536)&&(B.flags|=256),fg(B,o,a,i,t),gA(Fs(l,a));break e}}i=l=Fs(l,a),et!==4&&(et=2),Fo===null?Fo=[i]:Fo.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var h=lm(i,l,t);ig(i,h);break e;case 1:a=l;var g=i.type,w=i.stateNode;if(!(i.flags&128)&&(typeof g.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(ni===null||!ni.has(w)))){i.flags|=65536,t&=-t,i.lanes|=t;var E=cm(i,a,t);ig(i,E);break e}}i=i.return}while(i!==null)}Sm(n)}catch(v){t=v,$e===n&&n!==null&&($e=n=n.return);continue}break}while(!0)}function xm(){var e=ic.current;return ic.current=rc,e===null?rc:e}function PA(){(et===0||et===3||et===2)&&(et=4),lt===null||!(Li&268435455)&&!(eu&268435455)||Hr(lt,ht)}function ac(e,t){var n=we;we|=2;var r=xm();(lt!==e||ht!==t)&&(dr=null,Ti(e,t));do try{rI();break}catch(s){bm(e,s)}while(!0);if(yA(),we=n,ic.current=r,$e!==null)throw Error(G(261));return lt=null,ht=0,et}function rI(){for(;$e!==null;)_m($e)}function iI(){for(;$e!==null&&!k2();)_m($e)}function _m(e){var t=Rm(e.alternate,e,Yt);e.memoizedProps=e.pendingProps,t===null?Sm(e):$e=t,RA.current=null}function Sm(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=JB(n,t),n!==null){n.flags&=32767,$e=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{et=6,$e=null;return}}else if(n=$B(n,t,Yt),n!==null){$e=n;return}if(t=t.sibling,t!==null){$e=t;return}$e=t=e}while(t!==null);et===0&&(et=5)}function Ei(e,t,n){var r=Ce,s=An.transition;try{An.transition=null,Ce=1,sI(e,t,n,r)}finally{An.transition=s,Ce=r}return null}function sI(e,t,n,r){do ks();while(Wr!==null);if(we&6)throw Error(G(327));n=e.finishedWork;var s=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(G(177));e.callbackNode=null,e.callbackPriority=0;var i=n.lanes|n.childLanes;if(U2(e,i),e===lt&&($e=lt=null,ht=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||nl||(nl=!0,Qm(Kl,function(){return ks(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=An.transition,An.transition=null;var o=Ce;Ce=1;var a=we;we|=4,RA.current=null,ZB(e,n),Im(n,e),bB(qd),zl=!!Jd,qd=Jd=null,e.current=n,eI(n),R2(),we=a,Ce=o,An.transition=i}else e.current=n;if(nl&&(nl=!1,Wr=e,oc=s),i=e.pendingLanes,i===0&&(ni=null),D2(n.stateNode),Kt(e,We()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)s=t[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(sc)throw sc=!1,e=wf,wf=null,e;return oc&1&&e.tag!==0&&ks(),i=e.pendingLanes,i&1?e===Ef?Lo++:(Lo=0,Ef=e):Lo=0,fi(),null}function ks(){if(Wr!==null){var e=ly(oc),t=An.transition,n=Ce;try{if(An.transition=null,Ce=16>e?16:e,Wr===null)var r=!1;else{if(e=Wr,Wr=null,oc=0,we&6)throw Error(G(331));var s=we;for(we|=4,q=e.current;q!==null;){var i=q,o=i.child;if(q.flags&16){var a=i.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(q=c;q!==null;){var u=q;switch(u.tag){case 0:case 11:case 15:Mo(8,u,i)}var d=u.child;if(d!==null)d.return=u,q=d;else for(;q!==null;){u=q;var f=u.sibling,A=u.return;if(wm(u),u===c){q=null;break}if(f!==null){f.return=A,q=f;break}q=A}}}var m=i.alternate;if(m!==null){var y=m.child;if(y!==null){m.child=null;do{var B=y.sibling;y.sibling=null,y=B}while(y!==null)}}q=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,q=o;else e:for(;q!==null;){if(i=q,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Mo(9,i,i.return)}var h=i.sibling;if(h!==null){h.return=i.return,q=h;break e}q=i.return}}var g=e.current;for(q=g;q!==null;){o=q;var w=o.child;if(o.subtreeFlags&2064&&w!==null)w.return=o,q=w;else e:for(o=g;q!==null;){if(a=q,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Zc(9,a)}}catch(v){Ge(a,a.return,v)}if(a===o){q=null;break e}var E=a.sibling;if(E!==null){E.return=a.return,q=E;break e}q=a.return}}if(we=s,fi(),Yn&&typeof Yn.onPostCommitFiberRoot=="function")try{Yn.onPostCommitFiberRoot(Gc,e)}catch{}r=!0}return r}finally{Ce=n,An.transition=t}}return!1}function bg(e,t,n){t=Fs(n,t),t=lm(e,t,1),e=ti(e,t,1),t=Rt(),e!==null&&(_a(e,1,t),Kt(e,t))}function Ge(e,t,n){if(e.tag===3)bg(e,e,n);else for(;t!==null;){if(t.tag===3){bg(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(ni===null||!ni.has(r))){e=Fs(n,e),e=cm(t,e,1),t=ti(t,e,1),e=Rt(),t!==null&&(_a(t,1,e),Kt(t,e));break}}t=t.return}}function oI(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Rt(),e.pingedLanes|=e.suspendedLanes&n,lt===e&&(ht&n)===n&&(et===4||et===3&&(ht&130023424)===ht&&500>We()-TA?Ti(e,0):QA|=n),Kt(e,t)}function km(e,t){t===0&&(e.mode&1?(t=Ya,Ya<<=1,!(Ya&130023424)&&(Ya=4194304)):t=1);var n=Rt();e=Ir(e,t),e!==null&&(_a(e,t,n),Kt(e,n))}function aI(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),km(e,n)}function lI(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,s=e.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(G(314))}r!==null&&r.delete(t),km(e,n)}var Rm;Rm=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Ot.current)Lt=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Lt=!1,VB(e,t,n);Lt=!!(e.flags&131072)}else Lt=!1,Le&&t.flags&1048576&&Ny(t,Jl,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Tl(e,t),e=t.pendingProps;var s=Ds(t,Ct.current);Ss(t,n),s=bA(null,t,r,e,s,n);var i=xA();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ht(r)?(i=!0,Vl(t)):i=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,EA(t),s.updater=qc,t.stateNode=s,s._reactInternals=t,lf(t,r,e,n),t=df(null,t,r,!0,i,n)):(t.tag=0,Le&&i&&AA(t),xt(null,t,s,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Tl(e,t),e=t.pendingProps,s=r._init,r=s(r._payload),t.type=r,s=t.tag=uI(r),e=vn(r,e),s){case 0:t=uf(null,t,r,e,n);break e;case 1:t=gg(null,t,r,e,n);break e;case 11:t=Ag(null,t,r,e,n);break e;case 14:t=hg(null,t,r,vn(r.type,e),n);break e}throw Error(G(306,r,""))}return t;case 0:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:vn(r,s),uf(e,t,r,s,n);case 1:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:vn(r,s),gg(e,t,r,s,n);case 3:e:{if(Am(t),e===null)throw Error(G(387));r=t.pendingProps,i=t.memoizedState,s=i.element,Oy(e,t),ec(t,r,null,n);var o=t.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){s=Fs(Error(G(423)),t),t=pg(e,t,r,n,s);break e}else if(r!==s){s=Fs(Error(G(424)),t),t=pg(e,t,r,n,s);break e}else for(Wt=ei(t.stateNode.containerInfo.firstChild),$t=t,Le=!0,bn=null,n=Ly(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Ns(),r===s){t=vr(e,t,n);break e}xt(e,t,r,n)}t=t.child}return t;case 5:return Hy(t),e===null&&sf(t),r=t.type,s=t.pendingProps,i=e!==null?e.memoizedProps:null,o=s.children,Zd(r,s)?o=null:i!==null&&Zd(r,i)&&(t.flags|=32),fm(e,t),xt(e,t,o,n),t.child;case 6:return e===null&&sf(t),null;case 13:return hm(e,t,n);case 4:return BA(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Ps(t,null,r,n):xt(e,t,r,n),t.child;case 11:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:vn(r,s),Ag(e,t,r,s,n);case 7:return xt(e,t,t.pendingProps,n),t.child;case 8:return xt(e,t,t.pendingProps.children,n),t.child;case 12:return xt(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,s=t.pendingProps,i=t.memoizedProps,o=s.value,ke(ql,r._currentValue),r._currentValue=o,i!==null)if(Tn(i.value,o)){if(i.children===s.children&&!Ot.current){t=vr(e,t,n);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(i.tag===1){l=wr(-1,n&-n),l.tag=2;var c=i.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}i.lanes|=n,l=i.alternate,l!==null&&(l.lanes|=n),of(i.return,n,t),a.lanes|=n;break}l=l.next}}else if(i.tag===10)o=i.type===t.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(G(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),of(o,n,t),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===t){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}xt(e,t,s.children,n),t=t.child}return t;case 9:return s=t.type,r=t.pendingProps.children,Ss(t,n),s=hn(s),r=r(s),t.flags|=1,xt(e,t,r,n),t.child;case 14:return r=t.type,s=vn(r,t.pendingProps),s=vn(r.type,s),hg(e,t,r,s,n);case 15:return um(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:vn(r,s),Tl(e,t),t.tag=1,Ht(r)?(e=!0,Vl(t)):e=!1,Ss(t,n),am(t,r,s),lf(t,r,s,n),df(null,t,r,!0,e,n);case 19:return gm(e,t,n);case 22:return dm(e,t,n)}throw Error(G(156,t.tag))};function Qm(e,t){return iy(e,t)}function cI(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function fn(e,t,n,r){return new cI(e,t,n,r)}function MA(e){return e=e.prototype,!(!e||!e.isReactComponent)}function uI(e){if(typeof e=="function")return MA(e)?1:0;if(e!=null){if(e=e.$$typeof,e===tA)return 11;if(e===nA)return 14}return 2}function ii(e,t){var n=e.alternate;return n===null?(n=fn(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Pl(e,t,n,r,s,i){var o=2;if(r=e,typeof e=="function")MA(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case ds:return Di(n.children,s,i,t);case eA:o=8,s|=8;break;case Qd:return e=fn(12,n,t,s|2),e.elementType=Qd,e.lanes=i,e;case Td:return e=fn(13,n,t,s),e.elementType=Td,e.lanes=i,e;case Dd:return e=fn(19,n,t,s),e.elementType=Dd,e.lanes=i,e;case H0:return tu(n,s,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case U0:o=10;break e;case O0:o=9;break e;case tA:o=11;break e;case nA:o=14;break e;case Fr:o=16,r=null;break e}throw Error(G(130,e==null?e:typeof e,""))}return t=fn(o,n,t,s),t.elementType=e,t.type=r,t.lanes=i,t}function Di(e,t,n,r){return e=fn(7,e,r,t),e.lanes=n,e}function tu(e,t,n,r){return e=fn(22,e,r,t),e.elementType=H0,e.lanes=n,e.stateNode={isHidden:!1},e}function $u(e,t,n){return e=fn(6,e,null,t),e.lanes=n,e}function Ju(e,t,n){return t=fn(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function dI(e,t,n,r,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Qu(0),this.expirationTimes=Qu(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Qu(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function FA(e,t,n,r,s,i,o,a,l){return e=new dI(e,t,n,a,l),t===1?(t=1,i===!0&&(t|=8)):t=0,i=fn(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},EA(i),e}function fI(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:us,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function Tm(e){if(!e)return ci;e=e._reactInternals;e:{if(Xi(e)!==e||e.tag!==1)throw Error(G(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ht(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(G(171))}if(e.tag===1){var n=e.type;if(Ht(n))return Ty(e,n,t)}return t}function Dm(e,t,n,r,s,i,o,a,l){return e=FA(n,r,!0,e,s,i,o,a,l),e.context=Tm(null),n=e.current,r=Rt(),s=ri(n),i=wr(r,s),i.callback=t??null,ti(n,i,s),e.current.lanes=s,_a(e,s,r),Kt(e,r),e}function nu(e,t,n,r){var s=t.current,i=Rt(),o=ri(s);return n=Tm(n),t.context===null?t.context=n:t.pendingContext=n,t=wr(i,o),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=ti(s,t,o),e!==null&&(Sn(e,s,o,i),kl(e,s,o)),o}function lc(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function xg(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function LA(e,t){xg(e,t),(e=e.alternate)&&xg(e,t)}function AI(){return null}var Nm=typeof reportError=="function"?reportError:function(e){console.error(e)};function UA(e){this._internalRoot=e}ru.prototype.render=UA.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(G(409));nu(e,t,null,null)};ru.prototype.unmount=UA.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Ui(function(){nu(null,e,null,null)}),t[Br]=null}};function ru(e){this._internalRoot=e}ru.prototype.unstable_scheduleHydration=function(e){if(e){var t=dy();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Or.length&&t!==0&&t<Or[n].priority;n++);Or.splice(n,0,e),n===0&&Ay(e)}};function OA(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function iu(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function _g(){}function hI(e,t,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var c=lc(o);i.call(c)}}var o=Dm(t,r,e,0,null,!1,!1,"",_g);return e._reactRootContainer=o,e[Br]=o.current,ra(e.nodeType===8?e.parentNode:e),Ui(),o}for(;s=e.lastChild;)e.removeChild(s);if(typeof r=="function"){var a=r;r=function(){var c=lc(l);a.call(c)}}var l=FA(e,0,!1,null,null,!1,!1,"",_g);return e._reactRootContainer=l,e[Br]=l.current,ra(e.nodeType===8?e.parentNode:e),Ui(function(){nu(t,l,n,r)}),l}function su(e,t,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var l=lc(o);a.call(l)}}nu(t,o,e,s)}else o=hI(n,t,e,s,r);return lc(o)}cy=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=vo(t.pendingLanes);n!==0&&(sA(t,n|1),Kt(t,We()),!(we&6)&&(Ls=We()+500,fi()))}break;case 13:Ui(function(){var r=Ir(e,1);if(r!==null){var s=Rt();Sn(r,e,1,s)}}),LA(e,1)}};oA=function(e){if(e.tag===13){var t=Ir(e,134217728);if(t!==null){var n=Rt();Sn(t,e,134217728,n)}LA(e,134217728)}};uy=function(e){if(e.tag===13){var t=ri(e),n=Ir(e,t);if(n!==null){var r=Rt();Sn(n,e,t,r)}LA(e,t)}};dy=function(){return Ce};fy=function(e,t){var n=Ce;try{return Ce=e,t()}finally{Ce=n}};jd=function(e,t,n){switch(t){case"input":if(Md(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var s=Vc(r);if(!s)throw Error(G(90));j0(r),Md(r,s)}}}break;case"textarea":G0(e,n);break;case"select":t=n.value,t!=null&&Cs(e,!!n.multiple,t,!1)}};q0=DA;Z0=Ui;var gI={usingClientEntryPoint:!1,Events:[ka,gs,Vc,$0,J0,DA]},co={findFiberByHostInstance:Ci,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},pI={bundleType:co.bundleType,version:co.version,rendererPackageName:co.rendererPackageName,rendererConfig:co.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Cr.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=ny(e),e===null?null:e.stateNode},findFiberByHostInstance:co.findFiberByHostInstance||AI,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var rl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!rl.isDisabled&&rl.supportsFiber)try{Gc=rl.inject(pI),Yn=rl}catch{}}qt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=gI;qt.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!OA(t))throw Error(G(200));return fI(e,t,null,n)};qt.createRoot=function(e,t){if(!OA(e))throw Error(G(299));var n=!1,r="",s=Nm;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=FA(e,1,!1,null,null,n,!1,r,s),e[Br]=t.current,ra(e.nodeType===8?e.parentNode:e),new UA(t)};qt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(G(188)):(e=Object.keys(e).join(","),Error(G(268,e)));return e=ny(t),e=e===null?null:e.stateNode,e};qt.flushSync=function(e){return Ui(e)};qt.hydrate=function(e,t,n){if(!iu(t))throw Error(G(200));return su(null,e,t,!0,n)};qt.hydrateRoot=function(e,t,n){if(!OA(e))throw Error(G(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=Nm;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),t=Dm(t,null,e,1,n??null,s,!1,i,o),e[Br]=t.current,ra(e),r)for(e=0;e<r.length;e++)n=r[e],s=n._getVersion,s=s(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,s]:t.mutableSourceEagerHydrationData.push(n,s);return new ru(t)};qt.render=function(e,t,n){if(!iu(t))throw Error(G(200));return su(null,e,t,!1,n)};qt.unmountComponentAtNode=function(e){if(!iu(e))throw Error(G(40));return e._reactRootContainer?(Ui(function(){su(null,null,e,!1,function(){e._reactRootContainer=null,e[Br]=null})}),!0):!1};qt.unstable_batchedUpdates=DA;qt.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!iu(n))throw Error(G(200));if(e==null||e._reactInternals===void 0)throw Error(G(38));return su(e,t,n,!1,r)};qt.version="18.3.1-next-f1338f8080-20240426";function Pm(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Pm)}catch(e){console.error(e)}}Pm(),P0.exports=qt;var yI=P0.exports,Mm,Sg=yI;Mm=Sg.createRoot,Sg.hydrateRoot;function Fm(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(n=Fm(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function HA(){for(var e,t,n=0,r="",s=arguments.length;n<s;n++)(e=arguments[n])&&(t=Fm(e))&&(r&&(r+=" "),r+=t);return r}const KA="-",mI=e=>{const t=EI(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=e;return{getClassGroupId:o=>{const a=o.split(KA);return a[0]===""&&a.length!==1&&a.shift(),Lm(a,t)||wI(o)},getConflictingClassGroupIds:(o,a)=>{const l=n[o]||[];return a&&r[o]?[...l,...r[o]]:l}}},Lm=(e,t)=>{var o;if(e.length===0)return t.classGroupId;const n=e[0],r=t.nextPart.get(n),s=r?Lm(e.slice(1),r):void 0;if(s)return s;if(t.validators.length===0)return;const i=e.join(KA);return(o=t.validators.find(({validator:a})=>a(i)))==null?void 0:o.classGroupId},kg=/^\[(.+)\]$/,wI=e=>{if(kg.test(e)){const t=kg.exec(e)[1],n=t==null?void 0:t.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}},EI=e=>{const{theme:t,prefix:n}=e,r={nextPart:new Map,validators:[]};return II(Object.entries(e.classGroups),n).forEach(([i,o])=>{vf(o,r,i,t)}),r},vf=(e,t,n,r)=>{e.forEach(s=>{if(typeof s=="string"){const i=s===""?t:Rg(t,s);i.classGroupId=n;return}if(typeof s=="function"){if(BI(s)){vf(s(r),t,n,r);return}t.validators.push({validator:s,classGroupId:n});return}Object.entries(s).forEach(([i,o])=>{vf(o,Rg(t,i),n,r)})})},Rg=(e,t)=>{let n=e;return t.split(KA).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},BI=e=>e.isThemeGetter,II=(e,t)=>t?e.map(([n,r])=>{const s=r.map(i=>typeof i=="string"?t+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([o,a])=>[t+o,a])):i);return[n,s]}):e,vI=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=new Map,r=new Map;const s=(i,o)=>{n.set(i,o),t++,t>e&&(t=0,r=n,n=new Map)};return{get(i){let o=n.get(i);if(o!==void 0)return o;if((o=r.get(i))!==void 0)return s(i,o),o},set(i,o){n.has(i)?n.set(i,o):s(i,o)}}},Um="!",CI=e=>{const{separator:t,experimentalParseClassName:n}=e,r=t.length===1,s=t[0],i=t.length,o=a=>{const l=[];let c=0,u=0,d;for(let B=0;B<a.length;B++){let h=a[B];if(c===0){if(h===s&&(r||a.slice(B,B+i)===t)){l.push(a.slice(u,B)),u=B+i;continue}if(h==="/"){d=B;continue}}h==="["?c++:h==="]"&&c--}const f=l.length===0?a:a.substring(u),A=f.startsWith(Um),m=A?f.substring(1):f,y=d&&d>u?d-u:void 0;return{modifiers:l,hasImportantModifier:A,baseClassName:m,maybePostfixModifierPosition:y}};return n?a=>n({className:a,parseClassName:o}):o},bI=e=>{if(e.length<=1)return e;const t=[];let n=[];return e.forEach(r=>{r[0]==="["?(t.push(...n.sort(),r),n=[]):n.push(r)}),t.push(...n.sort()),t},xI=e=>({cache:vI(e.cacheSize),parseClassName:CI(e),...mI(e)}),_I=/\s+/,SI=(e,t)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:s}=t,i=[],o=e.trim().split(_I);let a="";for(let l=o.length-1;l>=0;l-=1){const c=o[l],{modifiers:u,hasImportantModifier:d,baseClassName:f,maybePostfixModifierPosition:A}=n(c);let m=!!A,y=r(m?f.substring(0,A):f);if(!y){if(!m){a=c+(a.length>0?" "+a:a);continue}if(y=r(f),!y){a=c+(a.length>0?" "+a:a);continue}m=!1}const B=bI(u).join(":"),h=d?B+Um:B,g=h+y;if(i.includes(g))continue;i.push(g);const w=s(y,m);for(let E=0;E<w.length;++E){const v=w[E];i.push(h+v)}a=c+(a.length>0?" "+a:a)}return a};function kI(){let e=0,t,n,r="";for(;e<arguments.length;)(t=arguments[e++])&&(n=Om(t))&&(r&&(r+=" "),r+=n);return r}const Om=e=>{if(typeof e=="string")return e;let t,n="";for(let r=0;r<e.length;r++)e[r]&&(t=Om(e[r]))&&(n&&(n+=" "),n+=t);return n};function RI(e,...t){let n,r,s,i=o;function o(l){const c=t.reduce((u,d)=>d(u),e());return n=xI(c),r=n.cache.get,s=n.cache.set,i=a,a(l)}function a(l){const c=r(l);if(c)return c;const u=SI(l,n);return s(l,u),u}return function(){return i(kI.apply(null,arguments))}}const Re=e=>{const t=n=>n[e]||[];return t.isThemeGetter=!0,t},Hm=/^\[(?:([a-z-]+):)?(.+)\]$/i,QI=/^\d+\/\d+$/,TI=new Set(["px","full","screen"]),DI=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,NI=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,PI=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,MI=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,FI=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,nr=e=>Rs(e)||TI.has(e)||QI.test(e),_r=e=>Xs(e,"length",GI),Rs=e=>!!e&&!Number.isNaN(Number(e)),qu=e=>Xs(e,"number",Rs),uo=e=>!!e&&Number.isInteger(Number(e)),LI=e=>e.endsWith("%")&&Rs(e.slice(0,-1)),ce=e=>Hm.test(e),Sr=e=>DI.test(e),UI=new Set(["length","size","percentage"]),OI=e=>Xs(e,UI,Km),HI=e=>Xs(e,"position",Km),KI=new Set(["image","url"]),jI=e=>Xs(e,KI,XI),zI=e=>Xs(e,"",YI),fo=()=>!0,Xs=(e,t,n)=>{const r=Hm.exec(e);return r?r[1]?typeof t=="string"?r[1]===t:t.has(r[1]):n(r[2]):!1},GI=e=>NI.test(e)&&!PI.test(e),Km=()=>!1,YI=e=>MI.test(e),XI=e=>FI.test(e),WI=()=>{const e=Re("colors"),t=Re("spacing"),n=Re("blur"),r=Re("brightness"),s=Re("borderColor"),i=Re("borderRadius"),o=Re("borderSpacing"),a=Re("borderWidth"),l=Re("contrast"),c=Re("grayscale"),u=Re("hueRotate"),d=Re("invert"),f=Re("gap"),A=Re("gradientColorStops"),m=Re("gradientColorStopPositions"),y=Re("inset"),B=Re("margin"),h=Re("opacity"),g=Re("padding"),w=Re("saturate"),E=Re("scale"),v=Re("sepia"),b=Re("skew"),C=Re("space"),T=Re("translate"),x=()=>["auto","contain","none"],R=()=>["auto","hidden","clip","visible","scroll"],S=()=>["auto",ce,t],$=()=>[ce,t],Ae=()=>["",nr,_r],le=()=>["auto",Rs,ce],me=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],K=()=>["solid","dashed","dotted","double","none"],Ue=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],M=()=>["start","end","center","between","around","evenly","stretch"],O=()=>["","0",ce],F=()=>["auto","avoid","all","avoid-page","page","left","right","column"],_=()=>[Rs,ce];return{cacheSize:500,separator:":",theme:{colors:[fo],spacing:[nr,_r],blur:["none","",Sr,ce],brightness:_(),borderColor:[e],borderRadius:["none","","full",Sr,ce],borderSpacing:$(),borderWidth:Ae(),contrast:_(),grayscale:O(),hueRotate:_(),invert:O(),gap:$(),gradientColorStops:[e],gradientColorStopPositions:[LI,_r],inset:S(),margin:S(),opacity:_(),padding:$(),saturate:_(),scale:_(),sepia:O(),skew:_(),space:$(),translate:$()},classGroups:{aspect:[{aspect:["auto","square","video",ce]}],container:["container"],columns:[{columns:[Sr]}],"break-after":[{"break-after":F()}],"break-before":[{"break-before":F()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...me(),ce]}],overflow:[{overflow:R()}],"overflow-x":[{"overflow-x":R()}],"overflow-y":[{"overflow-y":R()}],overscroll:[{overscroll:x()}],"overscroll-x":[{"overscroll-x":x()}],"overscroll-y":[{"overscroll-y":x()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[y]}],"inset-x":[{"inset-x":[y]}],"inset-y":[{"inset-y":[y]}],start:[{start:[y]}],end:[{end:[y]}],top:[{top:[y]}],right:[{right:[y]}],bottom:[{bottom:[y]}],left:[{left:[y]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",uo,ce]}],basis:[{basis:S()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",ce]}],grow:[{grow:O()}],shrink:[{shrink:O()}],order:[{order:["first","last","none",uo,ce]}],"grid-cols":[{"grid-cols":[fo]}],"col-start-end":[{col:["auto",{span:["full",uo,ce]},ce]}],"col-start":[{"col-start":le()}],"col-end":[{"col-end":le()}],"grid-rows":[{"grid-rows":[fo]}],"row-start-end":[{row:["auto",{span:[uo,ce]},ce]}],"row-start":[{"row-start":le()}],"row-end":[{"row-end":le()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",ce]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",ce]}],gap:[{gap:[f]}],"gap-x":[{"gap-x":[f]}],"gap-y":[{"gap-y":[f]}],"justify-content":[{justify:["normal",...M()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...M(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...M(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[g]}],px:[{px:[g]}],py:[{py:[g]}],ps:[{ps:[g]}],pe:[{pe:[g]}],pt:[{pt:[g]}],pr:[{pr:[g]}],pb:[{pb:[g]}],pl:[{pl:[g]}],m:[{m:[B]}],mx:[{mx:[B]}],my:[{my:[B]}],ms:[{ms:[B]}],me:[{me:[B]}],mt:[{mt:[B]}],mr:[{mr:[B]}],mb:[{mb:[B]}],ml:[{ml:[B]}],"space-x":[{"space-x":[C]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[C]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",ce,t]}],"min-w":[{"min-w":[ce,t,"min","max","fit"]}],"max-w":[{"max-w":[ce,t,"none","full","min","max","fit","prose",{screen:[Sr]},Sr]}],h:[{h:[ce,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[ce,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[ce,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[ce,t,"auto","min","max","fit"]}],"font-size":[{text:["base",Sr,_r]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",qu]}],"font-family":[{font:[fo]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",ce]}],"line-clamp":[{"line-clamp":["none",Rs,qu]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",nr,ce]}],"list-image":[{"list-image":["none",ce]}],"list-style-type":[{list:["none","disc","decimal",ce]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[h]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[h]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...K(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",nr,_r]}],"underline-offset":[{"underline-offset":["auto",nr,ce]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:$()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",ce]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",ce]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[h]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...me(),HI]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",OI]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},jI]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[m]}],"gradient-via-pos":[{via:[m]}],"gradient-to-pos":[{to:[m]}],"gradient-from":[{from:[A]}],"gradient-via":[{via:[A]}],"gradient-to":[{to:[A]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[h]}],"border-style":[{border:[...K(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[h]}],"divide-style":[{divide:K()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...K()]}],"outline-offset":[{"outline-offset":[nr,ce]}],"outline-w":[{outline:[nr,_r]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:Ae()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[h]}],"ring-offset-w":[{"ring-offset":[nr,_r]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",Sr,zI]}],"shadow-color":[{shadow:[fo]}],opacity:[{opacity:[h]}],"mix-blend":[{"mix-blend":[...Ue(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":Ue()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",Sr,ce]}],grayscale:[{grayscale:[c]}],"hue-rotate":[{"hue-rotate":[u]}],invert:[{invert:[d]}],saturate:[{saturate:[w]}],sepia:[{sepia:[v]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[c]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[u]}],"backdrop-invert":[{"backdrop-invert":[d]}],"backdrop-opacity":[{"backdrop-opacity":[h]}],"backdrop-saturate":[{"backdrop-saturate":[w]}],"backdrop-sepia":[{"backdrop-sepia":[v]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",ce]}],duration:[{duration:_()}],ease:[{ease:["linear","in","out","in-out",ce]}],delay:[{delay:_()}],animate:[{animate:["none","spin","ping","pulse","bounce",ce]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[E]}],"scale-x":[{"scale-x":[E]}],"scale-y":[{"scale-y":[E]}],rotate:[{rotate:[uo,ce]}],"translate-x":[{"translate-x":[T]}],"translate-y":[{"translate-y":[T]}],"skew-x":[{"skew-x":[b]}],"skew-y":[{"skew-y":[b]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",ce]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",ce]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":$()}],"scroll-mx":[{"scroll-mx":$()}],"scroll-my":[{"scroll-my":$()}],"scroll-ms":[{"scroll-ms":$()}],"scroll-me":[{"scroll-me":$()}],"scroll-mt":[{"scroll-mt":$()}],"scroll-mr":[{"scroll-mr":$()}],"scroll-mb":[{"scroll-mb":$()}],"scroll-ml":[{"scroll-ml":$()}],"scroll-p":[{"scroll-p":$()}],"scroll-px":[{"scroll-px":$()}],"scroll-py":[{"scroll-py":$()}],"scroll-ps":[{"scroll-ps":$()}],"scroll-pe":[{"scroll-pe":$()}],"scroll-pt":[{"scroll-pt":$()}],"scroll-pr":[{"scroll-pr":$()}],"scroll-pb":[{"scroll-pb":$()}],"scroll-pl":[{"scroll-pl":$()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",ce]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[nr,_r,qu]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},jm=RI(WI);function ie(...e){return jm(HA(e))}const jA=I.forwardRef(({className:e,...t},n)=>p.jsx("div",{ref:n,className:ie("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));jA.displayName="Card";const zm=I.forwardRef(({className:e,...t},n)=>p.jsx("div",{ref:n,className:ie("flex flex-col space-y-1.5 p-6",e),...t}));zm.displayName="CardHeader";const Gm=I.forwardRef(({className:e,...t},n)=>p.jsx("h3",{ref:n,className:ie("text-2xl font-semibold leading-none tracking-tight",e),...t}));Gm.displayName="CardTitle";const Ym=I.forwardRef(({className:e,...t},n)=>p.jsx("p",{ref:n,className:ie("text-sm text-muted-foreground",e),...t}));Ym.displayName="CardDescription";const Xm=I.forwardRef(({className:e,...t},n)=>p.jsx("div",{ref:n,className:ie("p-6 pt-0",e),...t}));Xm.displayName="CardContent";const Wm=I.forwardRef(({className:e,...t},n)=>p.jsx("div",{ref:n,className:ie("flex items-center p-6 pt-0",e),...t}));Wm.displayName="CardFooter";function Vm(...e){return jm(HA(e))}const VI={default:"bg-gray-100 text-gray-800",destructive:"bg-red-100 text-red-800"};function $I({variant:e="default",children:t,className:n=""}){return p.jsx("div",{className:Vm("p-4 rounded-md",VI[e],n),children:t})}function JI({children:e,className:t=""}){return p.jsx("p",{className:Vm("text-sm",t),children:e})}function Qa(e,t){if(e==null)return{};var n={},r=Object.keys(e),s,i;for(i=0;i<r.length;i++)s=r[i],!(t.indexOf(s)>=0)&&(n[s]=e[s]);return n}var qI=["color"],ZI=I.forwardRef(function(e,t){var n=e.color,r=n===void 0?"currentColor":n,s=Qa(e,qI);return I.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},s,{ref:t}),I.createElement("path",{d:"M11.4669 3.72684C11.7558 3.91574 11.8369 4.30308 11.648 4.59198L7.39799 11.092C7.29783 11.2452 7.13556 11.3467 6.95402 11.3699C6.77247 11.3931 6.58989 11.3355 6.45446 11.2124L3.70446 8.71241C3.44905 8.48022 3.43023 8.08494 3.66242 7.82953C3.89461 7.57412 4.28989 7.55529 4.5453 7.78749L6.75292 9.79441L10.6018 3.90792C10.7907 3.61902 11.178 3.53795 11.4669 3.72684Z",fill:r,fillRule:"evenodd",clipRule:"evenodd"}))}),ev=["color"],$m=I.forwardRef(function(e,t){var n=e.color,r=n===void 0?"currentColor":n,s=Qa(e,ev);return I.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},s,{ref:t}),I.createElement("path",{d:"M11.7816 4.03157C12.0062 3.80702 12.0062 3.44295 11.7816 3.2184C11.5571 2.99385 11.193 2.99385 10.9685 3.2184L7.50005 6.68682L4.03164 3.2184C3.80708 2.99385 3.44301 2.99385 3.21846 3.2184C2.99391 3.44295 2.99391 3.80702 3.21846 4.03157L6.68688 7.49999L3.21846 10.9684C2.99391 11.193 2.99391 11.557 3.21846 11.7816C3.44301 12.0061 3.80708 12.0061 4.03164 11.7816L7.50005 8.31316L10.9685 11.7816C11.193 12.0061 11.5571 12.0061 11.7816 11.7816C12.0062 11.557 12.0062 11.193 11.7816 10.9684L8.31322 7.49999L11.7816 4.03157Z",fill:r,fillRule:"evenodd",clipRule:"evenodd"}))}),tv=["color"],nv=I.forwardRef(function(e,t){var n=e.color,r=n===void 0?"currentColor":n,s=Qa(e,tv);return I.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},s,{ref:t}),I.createElement("path",{d:"M1.20308 1.04312C1.00481 0.954998 0.772341 1.0048 0.627577 1.16641C0.482813 1.32802 0.458794 1.56455 0.568117 1.75196L3.92115 7.50002L0.568117 13.2481C0.458794 13.4355 0.482813 13.672 0.627577 13.8336C0.772341 13.9952 1.00481 14.045 1.20308 13.9569L14.7031 7.95693C14.8836 7.87668 15 7.69762 15 7.50002C15 7.30243 14.8836 7.12337 14.7031 7.04312L1.20308 1.04312ZM4.84553 7.10002L2.21234 2.586L13.2689 7.50002L2.21234 12.414L4.84552 7.90002H9C9.22092 7.90002 9.4 7.72094 9.4 7.50002C9.4 7.27911 9.22092 7.10002 9 7.10002H4.84553Z",fill:r,fillRule:"evenodd",clipRule:"evenodd"}))}),rv=["color"],iv=I.forwardRef(function(e,t){var n=e.color,r=n===void 0?"currentColor":n,s=Qa(e,rv);return I.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},s,{ref:t}),I.createElement("path",{d:"M11.8536 1.14645C11.6583 0.951184 11.3417 0.951184 11.1465 1.14645L3.71455 8.57836C3.62459 8.66832 3.55263 8.77461 3.50251 8.89155L2.04044 12.303C1.9599 12.491 2.00189 12.709 2.14646 12.8536C2.29103 12.9981 2.50905 13.0401 2.69697 12.9596L6.10847 11.4975C6.2254 11.4474 6.3317 11.3754 6.42166 11.2855L13.8536 3.85355C14.0488 3.65829 14.0488 3.34171 13.8536 3.14645L11.8536 1.14645ZM4.42166 9.28547L11.5 2.20711L12.7929 3.5L5.71455 10.5784L4.21924 11.2192L3.78081 10.7808L4.42166 9.28547Z",fill:r,fillRule:"evenodd",clipRule:"evenodd"}))}),sv=["color"],ov=I.forwardRef(function(e,t){var n=e.color,r=n===void 0?"currentColor":n,s=Qa(e,sv);return I.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},s,{ref:t}),I.createElement("path",{d:"M5.5 1C5.22386 1 5 1.22386 5 1.5C5 1.77614 5.22386 2 5.5 2H9.5C9.77614 2 10 1.77614 10 1.5C10 1.22386 9.77614 1 9.5 1H5.5ZM3 3.5C3 3.22386 3.22386 3 3.5 3H5H10H11.5C11.7761 3 12 3.22386 12 3.5C12 3.77614 11.7761 4 11.5 4H11V12C11 12.5523 10.5523 13 10 13H5C4.44772 13 4 12.5523 4 12V4L3.5 4C3.22386 4 3 3.77614 3 3.5ZM5 4H10V12H5V4Z",fill:r,fillRule:"evenodd",clipRule:"evenodd"}))});function av(e){return p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...e,children:[p.jsx("rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2"}),p.jsx("path",{d:"M7 11V7a5 5 0 0 1 10 0v4"}),p.jsx("circle",{cx:"12",cy:"16",r:"1"})]})}function Jm(e){return p.jsx("svg",{...e,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:p.jsx("path",{d:"m21.44 11.05-9.19 9.19a6 6 0 0 1-8.49-8.49l9.19-9.19a4 4 0 0 1 5.66 5.66l-9.2 9.19a2 2 0 0 1-2.83-2.83l8.49-8.48"})})}function il(e){return p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"size-5",...e,children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 16.5v2.25A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75V16.5M16.5 12 12 16.5m0 0L7.5 12m4.5 4.5V3"})})}function lv(e){return p.jsxs("svg",{...e,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[p.jsx("rect",{x:"3",y:"11",width:"18",height:"11",rx:"2",ry:"2"}),p.jsx("path",{d:"M7 11V7a5 5 0 0 1 10 0v4"})]})}const kn=I.forwardRef(({className:e,type:t,...n},r)=>p.jsx("input",{type:t,className:ie("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:r,...n}));kn.displayName="Input";function Qg(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function qm(...e){return t=>{let n=!1;const r=e.map(s=>{const i=Qg(s,t);return!n&&typeof i=="function"&&(n=!0),i});if(n)return()=>{for(let s=0;s<r.length;s++){const i=r[s];typeof i=="function"?i():Qg(e[s],null)}}}}function Wi(...e){return I.useCallback(qm(...e),e)}function Zm(e){const t=uv(e),n=I.forwardRef((r,s)=>{const{children:i,...o}=r,a=I.Children.toArray(i),l=a.find(fv);if(l){const c=l.props.children,u=a.map(d=>d===l?I.Children.count(c)>1?I.Children.only(null):I.isValidElement(c)?c.props.children:null:d);return p.jsx(t,{...o,ref:s,children:I.isValidElement(c)?I.cloneElement(c,void 0,u):null})}return p.jsx(t,{...o,ref:s,children:i})});return n.displayName=`${e}.Slot`,n}var cv=Zm("Slot");function uv(e){const t=I.forwardRef((n,r)=>{const{children:s,...i}=n;if(I.isValidElement(s)){const o=hv(s),a=Av(i,s.props);return s.type!==I.Fragment&&(a.ref=r?qm(r,o):o),I.cloneElement(s,a)}return I.Children.count(s)>1?I.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var dv=Symbol("radix.slottable");function fv(e){return I.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===dv}function Av(e,t){const n={...t};for(const r in t){const s=e[r],i=t[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...a)=>{const l=i(...a);return s(...a),l}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...e,...n}}function hv(e){var r,s;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var gv=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],qn=gv.reduce((e,t)=>{const n=Zm(`Primitive.${t}`),r=I.forwardRef((s,i)=>{const{asChild:o,...a}=s,l=o?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),p.jsx(l,{...a,ref:i})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{}),pv="Label",e1=I.forwardRef((e,t)=>p.jsx(qn.label,{...e,ref:t,onMouseDown:n=>{var s;n.target.closest("button, input, select, textarea")||((s=e.onMouseDown)==null||s.call(e,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));e1.displayName=pv;var t1=e1;const Tg=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,Dg=HA,n1=(e,t)=>n=>{var r;if((t==null?void 0:t.variants)==null)return Dg(e,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:s,defaultVariants:i}=t,o=Object.keys(s).map(c=>{const u=n==null?void 0:n[c],d=i==null?void 0:i[c];if(u===null)return null;const f=Tg(u)||Tg(d);return s[c][f]}),a=n&&Object.entries(n).reduce((c,u)=>{let[d,f]=u;return f===void 0||(c[d]=f),c},{}),l=t==null||(r=t.compoundVariants)===null||r===void 0?void 0:r.reduce((c,u)=>{let{class:d,className:f,...A}=u;return Object.entries(A).every(m=>{let[y,B]=m;return Array.isArray(B)?B.includes({...i,...a}[y]):{...i,...a}[y]===B})?[...c,d,f]:c},[]);return Dg(e,o,l,n==null?void 0:n.class,n==null?void 0:n.className)},yv=n1("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Wn=I.forwardRef(({className:e,...t},n)=>p.jsx(t1,{ref:n,className:ie(yv(),e),...t}));Wn.displayName=t1.displayName;const mv=n1("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),Dn=I.forwardRef(({className:e,variant:t,size:n,asChild:r=!1,...s},i)=>{const o=r?cv:"button";return p.jsx(o,{className:ie(mv({variant:t,size:n,className:e})),ref:i,...s})});Dn.displayName="Button";function wv({onSubmit:e,disabled:t,error:n,hasServerTrustRequest:r}){const[s,i]=I.useState(""),[o,a]=I.useState(""),[l,c]=I.useState(!1),u=s.trim().length>=3&&o.length>0,d=async f=>{if(f.preventDefault(),!(t||l||!u)){c(!0);try{await e(s.trim(),o)}finally{c(!1)}}};return p.jsxs("form",{onSubmit:d,className:"space-y-4",children:[p.jsxs("div",{className:"space-y-2",children:[p.jsx(Wn,{htmlFor:"username",children:"Username"}),p.jsx(kn,{id:"username",placeholder:"Enter your username",value:s,onChange:f=>i(f.target.value),disabled:t||l,required:!0,minLength:3})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx(Wn,{htmlFor:"password",children:"Password"}),p.jsx(kn,{id:"password",type:"password",placeholder:"Enter your password",value:o,onChange:f=>a(f.target.value),disabled:t||l,required:!0})]}),r&&!l&&p.jsx("p",{className:"text-amber-600 text-sm text-center",children:"Please verify the server identity before logging in"}),p.jsx(Dn,{type:"submit",className:"w-full",disabled:t||l||!u,children:l?"Logging In...":"Login to Account"})]})}function Ev({onSubmit:e,disabled:t,error:n,hasServerTrustRequest:r}){const[s,i]=I.useState(""),[o,a]=I.useState(""),[l,c]=I.useState(""),[u,d]=I.useState(!1),f=s.trim().length>=3,A=o.length>0,m=o===l,y=f&&A&&m,B=async h=>{if(h.preventDefault(),!(t||u||!y)){d(!0);try{await e(s.trim(),o)}finally{d(!1)}}};return p.jsxs("form",{onSubmit:B,className:"space-y-4",children:[p.jsxs("div",{className:"space-y-2",children:[p.jsx(Wn,{htmlFor:"username",children:"Username"}),p.jsx(kn,{id:"username",placeholder:"Choose your username",value:s,onChange:h=>i(h.target.value),disabled:t||u,required:!0,minLength:3})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx(Wn,{htmlFor:"password",children:"Create Password"}),p.jsx(kn,{id:"password",type:"password",placeholder:"Choose a password",value:o,onChange:h=>a(h.target.value),disabled:t||u,required:!0})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx(Wn,{htmlFor:"confirmPassword",children:"Confirm Password"}),p.jsx(kn,{id:"confirmPassword",type:"password",placeholder:"Confirm your password",value:l,onChange:h=>c(h.target.value),disabled:t||u,required:!0}),!m&&l.length>0&&p.jsx("p",{className:"text-red-500 text-xs",children:"Passwords do not match"})]}),r&&!u&&p.jsx("p",{className:"text-amber-600 text-sm text-center",children:"Please verify the server identity before registering"}),p.jsx(Dn,{type:"submit",className:"w-full",disabled:t||u||!y,children:u?"Registering...":"Register Account"})]})}function Bv({label:e,value:t,confirmValue:n,onChange:r,onConfirmChange:s,required:i=!1,minLength:o=0,strengthCheck:a=!1,warningMessage:l,disabled:c=!1}){const u=t.length>=o,d=t&&n&&t!==n;return p.jsxs(p.Fragment,{children:[p.jsxs("div",{className:"space-y-2",children:[p.jsx(Wn,{htmlFor:`${e}-main`,children:e}),p.jsx(kn,{id:`${e}-main`,type:"password",placeholder:`Enter ${e.toLowerCase()}`,value:t,onChange:f=>r(f.target.value),required:i,minLength:o,disabled:c}),a&&!u&&t.length>0&&p.jsxs("p",{className:"text-xs text-red-500",children:[e," should be at least ",o," characters long."]})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsxs(Wn,{htmlFor:`${e}-confirm`,children:["Confirm ",e]}),p.jsx(kn,{id:`${e}-confirm`,type:"password",placeholder:`Confirm ${e.toLowerCase()}`,value:n,onChange:f=>s(f.target.value),required:i,minLength:o,disabled:c}),d&&p.jsxs("p",{className:"text-xs text-red-500",children:[e,"s do not match"]}),l&&p.jsx("p",{className:"text-xs text-yellow-600",children:l})]})]})}function Iv({mode:e,onSubmit:t,disabled:n}){const[r,s]=I.useState(""),[i,o]=I.useState(""),[a,l]=I.useState(!1),c=r.length>=12,u=r===i,d=async f=>{if(f.preventDefault(),!a&&r.trim()&&!(e==="register"&&!u)&&c){l(!0);try{await t(r)}finally{l(!1)}}};return p.jsxs("form",{onSubmit:d,className:"space-y-4",children:[e==="register"?p.jsx(Bv,{label:"Secure Encryption Passphrase",value:r,confirmValue:i,onChange:s,onConfirmChange:o,required:!0,minLength:12,strengthCheck:!0,warningMessage:p.jsxs(p.Fragment,{children:["This passphrase encrypts all your account data. If you forget it,"," ",p.jsx("strong",{children:"you will lose access"})," to all your messages and files."]}),disabled:n||a}):p.jsxs("div",{className:"space-y-2",children:[p.jsx(Wn,{htmlFor:"passphrase",children:"Secure Encryption Passphrase"}),p.jsx(kn,{id:"passphrase",type:"password",placeholder:"Enter your encryption passphrase",value:r,onChange:f=>s(f.target.value),disabled:n||a,required:!0})]}),p.jsx(Dn,{type:"submit",className:"w-full",disabled:n||a||!r.trim()||e==="register"&&!u||!c,children:a?"Submitting Passphrase...":"Submit Passphrase"})]})}function vv({serverPassword:e,setServerPassword:t,disabled:n,onSubmit:r}){return p.jsxs("form",{onSubmit:r,className:"space-y-4",children:[p.jsxs("div",{className:"space-y-2",children:[p.jsx(Wn,{htmlFor:"serverPassword",children:"Server Password"}),p.jsx(kn,{id:"serverPassword",type:"password",placeholder:"Enter server password",value:e,onChange:s=>t(s.target.value),disabled:n,required:!0})]}),p.jsx(Dn,{type:"submit",className:"w-full",disabled:n,children:n?"Submitting...":"Submit Server Password"})]})}function Cv({onAccountSubmit:e,onServerPasswordSubmit:t,isGeneratingKeys:n,error:r,onPassphraseSubmit:s,accountAuthenticated:i,showPassphrasePrompt:o,serverTrustRequest:a,onAcceptServerTrust:l,onRejectServerTrust:c}){var w,E;const[u,d]=I.useState(""),[f,A]=I.useState(!1),[m,y]=I.useState("login"),B=async(v,b)=>{A(!0);try{await e(m,v,b)}catch(C){console.error("Account Login/Register failed",C)}finally{A(!1)}},h=async v=>{A(!0);try{await(s==null?void 0:s(v,m))}catch(b){console.error("Passphrase submission failed",b)}finally{A(!1)}},g=async v=>{if(v.preventDefault(),!(!u.trim()||f||n||!t)){A(!0);try{await t(u)}catch(b){console.error("Server password submission failed",b)}finally{A(!1)}}};return p.jsx("div",{className:"w-full max-w-md mx-auto",children:p.jsxs(jA,{className:"w-full",children:[p.jsxs(zm,{className:"space-y-4",children:[p.jsx("div",{className:"mx-auto w-16 h-16 rounded-full bg-primary/10 flex items-center justify-center",children:p.jsx(av,{className:"h-8 w-8 text-primary"})}),p.jsx(Gm,{className:"text-2xl text-center",children:"SecureChat"}),p.jsx(Ym,{className:"text-center",children:"End-to-end encrypted messaging using X25519 + Kyber768 hybrid encryption and AES-GCM"})]}),p.jsxs(Xm,{className:"space-y-6",children:[a&&p.jsxs("div",{className:"p-3 border rounded-md bg-amber-50 border-amber-200",children:[p.jsx("div",{className:"font-semibold mb-2",children:"Server identity changed"}),p.jsx("div",{className:"text-sm mb-2",children:"Verify the new server keys below before trusting."}),p.jsxs("div",{className:"text-xs font-mono break-all",children:[p.jsxs("div",{className:"mb-1",children:[p.jsx("span",{className:"font-semibold",children:"Old X25519:"})," ",(((w=a.pinned)==null?void 0:w.x25519PublicBase64)||"").slice(0,44),"..."]}),p.jsxs("div",{className:"mb-2",children:[p.jsx("span",{className:"font-semibold",children:"Old Kyber:"})," ",(((E=a.pinned)==null?void 0:E.kyberPublicBase64)||"").slice(0,44),"..."]}),p.jsxs("div",{className:"mb-1",children:[p.jsx("span",{className:"font-semibold",children:"New X25519:"})," ",a.newKeys.x25519PublicBase64.slice(0,44),"..."]}),p.jsxs("div",{className:"mb-3",children:[p.jsx("span",{className:"font-semibold",children:"New Kyber:"})," ",a.newKeys.kyberPublicBase64.slice(0,44),"..."]})]}),p.jsxs("div",{className:"flex gap-2",children:[p.jsx("button",{type:"button",className:"px-3 py-1.5 rounded-md bg-primary text-white",onClick:l,disabled:f||n,children:"Trust new server"}),p.jsx("button",{type:"button",className:"px-3 py-1.5 rounded-md border",onClick:c,disabled:f||n,children:"Cancel"})]})]}),o?p.jsx(Iv,{mode:m,onSubmit:h,disabled:f||n}):i?p.jsx(vv,{serverPassword:u,setServerPassword:d,disabled:f||n,onSubmit:g}):m==="register"?p.jsx(Ev,{onSubmit:B,disabled:f||n||!!a,error:r,hasServerTrustRequest:!!a}):p.jsx(wv,{onSubmit:B,disabled:f||n||!!a,error:r,hasServerTrustRequest:!!a}),r&&p.jsx($I,{variant:"destructive",children:p.jsx(JI,{children:r})}),p.jsxs("div",{className:"space-y-2",children:[p.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground text-sm",children:[p.jsx(lv,{className:"h-3 w-3"}),p.jsx("span",{children:"Your messages are secured with end-to-end encryption"})]}),p.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground text-sm",children:[p.jsx(ZI,{className:"h-3 w-3"}),p.jsx("span",{children:"Only the intended recipients can read your messages"})]})]})]}),p.jsx(Wm,{className:"flex flex-col gap-2",children:!i&&!o&&p.jsx("div",{className:"text-sm text-center text-muted-foreground",children:m==="login"?p.jsxs(p.Fragment,{children:["Dont have an account?"," ",p.jsx("button",{type:"button",className:"text-primary underline",onClick:()=>y("register"),children:"Register"})]}):p.jsxs(p.Fragment,{children:["Already have an account?"," ",p.jsx("button",{type:"button",className:"text-primary underline",onClick:()=>y("login"),children:"Login"})]})})})]})})}/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bv=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),r1=(...e)=>e.filter((t,n,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===n).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var xv={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _v=I.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:i,iconNode:o,...a},l)=>I.createElement("svg",{ref:l,...xv,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:r1("lucide",s),...a},[...o.map(([c,u])=>I.createElement(c,u)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ta=(e,t)=>{const n=I.forwardRef(({className:r,...s},i)=>I.createElement(_v,{ref:i,iconNode:t,className:r1(`lucide-${bv(e)}`,r),...s}));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sv=Ta("CheckCheck",[["path",{d:"M18 6 7 17l-5-5",key:"116fxf"}],["path",{d:"m22 10-7.5 7.5L13 16",key:"ke71qq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kv=Ta("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rv=Ta("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qv=Ta("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tv=Ta("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);function Dv({className:e,children:t,currentUsername:n,onAddConversation:r,onLogout:s,onActiveTabChange:i}){const[o,a]=I.useState("messages"),[l,c]=I.useState(!1),[u,d]=I.useState(""),f=()=>{u.trim()&&u.trim()!==n&&(r==null||r(u.trim()),d(""),c(!1))},A=m=>{m.key==="Enter"?f():m.key==="Escape"&&(c(!1),d(""))};return p.jsxs("div",{className:ie("flex flex-col justify-start items-center relative transition-all duration-500 ease-in-out w-16",e),children:[p.jsxs("article",{className:"border border-solid border-gray-300 w-full ease-in-out duration-500 left-0 rounded-2xl inline-block shadow-lg shadow-black/15 bg-white h-full flex flex-col",children:[p.jsxs("div",{className:"flex flex-col",children:[p.jsxs("label",{className:ie("has-[:checked]:shadow-lg relative w-full h-16 p-4 ease-in-out duration-300 border-solid border-black/10 has-[:checked]:border group flex flex-row gap-3 items-center justify-center text-black rounded-xl cursor-pointer",o==="newchat"&&"shadow-lg border border-black/10"),onClick:()=>{a("newchat"),c(!0),i==null||i("newchat")},children:[p.jsx("input",{className:"hidden peer/expand",type:"radio",name:"path",id:"newchat",checked:o==="newchat",onChange:()=>{}}),p.jsx(Qv,{className:"peer-hover/expand:scale-125 peer-hover/expand:text-blue-400 peer-checked/expand:text-blue-400 text-2xl peer-checked/expand:scale-125 ease-in-out duration-300 w-6 h-6"})]}),p.jsxs("label",{className:ie("has-[:checked]:shadow-lg relative w-full h-16 p-4 ease-in-out duration-300 border-solid border-black/10 has-[:checked]:border group flex flex-row gap-3 items-center justify-center text-black rounded-xl cursor-pointer",o==="messages"&&"shadow-lg border border-black/10"),onClick:()=>{a("messages"),i==null||i("messages")},children:[p.jsx("input",{className:"hidden peer/expand",type:"radio",name:"path",id:"messages",checked:o==="messages",onChange:()=>{}}),p.jsx(Rv,{className:"peer-hover/expand:scale-125 peer-hover/expand:text-blue-400 peer-checked/expand:text-blue-400 text-2xl peer-checked/expand:scale-125 ease-in-out duration-300 w-6 h-6"})]})]}),p.jsx("div",{className:"flex-1"}),p.jsxs("div",{className:"flex flex-col",children:[p.jsxs("label",{className:ie("has-[:checked]:shadow-lg relative w-full h-16 p-4 ease-in-out duration-300 border-solid border-black/10 has-[:checked]:border group flex flex-row gap-3 items-center justify-center text-black rounded-xl cursor-pointer",o==="settings"&&"shadow-lg border border-black/10"),onClick:()=>{a("settings"),i==null||i("settings")},children:[p.jsx("input",{className:"hidden peer/expand",type:"radio",name:"path",id:"settings",checked:o==="settings",onChange:()=>{}}),p.jsx(Tv,{className:"peer-hover/expand:scale-125 peer-hover/expand:text-blue-400 peer-checked/expand:text-blue-400 text-2xl peer-checked/expand:scale-125 ease-in-out duration-300 w-6 h-6"})]}),p.jsxs("label",{className:ie("has-[:checked]:shadow-lg relative w-full h-16 p-4 ease-in-out duration-300 border-solid border-black/10 has-[:checked]:border group flex flex-row gap-3 items-center justify-center text-black rounded-xl cursor-pointer",o==="logout"&&"shadow-lg border border-black/10"),onClick:()=>{a("logout"),i==null||i("logout"),s==null||s()},children:[p.jsx("input",{className:"hidden peer/expand",type:"radio",name:"path",id:"logout",checked:o==="logout",onChange:()=>{}}),p.jsx("div",{className:"peer-hover/expand:scale-125 peer-checked/expand:scale-125 ease-in-out duration-300 w-6 h-6 bg-orange-500 rounded-full flex items-center justify-center",children:p.jsx("span",{className:"text-white text-xs font-medium",children:(n==null?void 0:n.charAt(0).toUpperCase())||"U"})})]})]})]}),l&&p.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:p.jsxs("div",{className:"bg-white rounded-lg p-6 w-80 shadow-xl",children:[p.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Add New Conversation"}),p.jsxs("div",{className:"space-y-4",children:[p.jsx(kn,{placeholder:"Enter username...",value:u,onChange:m=>d(m.target.value),onKeyDown:A,className:"w-full",autoFocus:!0}),p.jsxs("div",{className:"flex gap-2",children:[p.jsx(Dn,{onClick:f,className:"flex-1",disabled:!u.trim(),children:"Add Conversation"}),p.jsx(Dn,{onClick:()=>{c(!1),d(""),a("messages")},variant:"outline",className:"flex-1",children:"Cancel"})]})]})]})}),o==="messages"&&p.jsx("div",{className:"fixed left-16 top-0 h-full w-64 bg-white border border-gray-300 rounded-r-2xl shadow-lg shadow-black/15 z-30",children:p.jsxs("div",{className:"h-full flex flex-col",children:[p.jsx("div",{className:"p-4 border-b border-gray-200",children:p.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Conversations"})}),p.jsx("div",{className:"flex-1 overflow-hidden",children:t})]})})]})}var Us=globalThis!=null&&globalThis.document?I.useLayoutEffect:()=>{};function Nv(e,t){return I.useReducer((n,r)=>t[n][r]??n,e)}var Da=e=>{const{present:t,children:n}=e,r=Pv(t),s=typeof n=="function"?n({present:r.isPresent}):I.Children.only(n),i=Wi(r.ref,Mv(s));return typeof n=="function"||r.isPresent?I.cloneElement(s,{ref:i}):null};Da.displayName="Presence";function Pv(e){const[t,n]=I.useState(),r=I.useRef(null),s=I.useRef(e),i=I.useRef("none"),o=e?"mounted":"unmounted",[a,l]=Nv(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return I.useEffect(()=>{const c=sl(r.current);i.current=a==="mounted"?c:"none"},[a]),Us(()=>{const c=r.current,u=s.current;if(u!==e){const f=i.current,A=sl(c);e?l("MOUNT"):A==="none"||(c==null?void 0:c.display)==="none"?l("UNMOUNT"):l(u&&f!==A?"ANIMATION_OUT":"UNMOUNT"),s.current=e}},[e,l]),Us(()=>{if(t){let c;const u=t.ownerDocument.defaultView??window,d=A=>{const y=sl(r.current).includes(CSS.escape(A.animationName));if(A.target===t&&y&&(l("ANIMATION_END"),!s.current)){const B=t.style.animationFillMode;t.style.animationFillMode="forwards",c=u.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=B)})}},f=A=>{A.target===t&&(i.current=sl(r.current))};return t.addEventListener("animationstart",f),t.addEventListener("animationcancel",d),t.addEventListener("animationend",d),()=>{u.clearTimeout(c),t.removeEventListener("animationstart",f),t.removeEventListener("animationcancel",d),t.removeEventListener("animationend",d)}}else l("ANIMATION_END")},[t,l]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:I.useCallback(c=>{r.current=c?getComputedStyle(c):null,n(c)},[])}}function sl(e){return(e==null?void 0:e.animationName)||"none"}function Mv(e){var r,s;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function i1(e,t=[]){let n=[];function r(i,o){const a=I.createContext(o),l=n.length;n=[...n,o];const c=d=>{var h;const{scope:f,children:A,...m}=d,y=((h=f==null?void 0:f[e])==null?void 0:h[l])||a,B=I.useMemo(()=>m,Object.values(m));return p.jsx(y.Provider,{value:B,children:A})};c.displayName=i+"Provider";function u(d,f){var y;const A=((y=f==null?void 0:f[e])==null?void 0:y[l])||a,m=I.useContext(A);if(m)return m;if(o!==void 0)return o;throw new Error(`\`${d}\` must be used within \`${i}\``)}return[c,u]}const s=()=>{const i=n.map(o=>I.createContext(o));return function(a){const l=(a==null?void 0:a[e])||i;return I.useMemo(()=>({[`__scope${e}`]:{...a,[e]:l}}),[a,l])}};return s.scopeName=e,[r,Fv(s,...t)]}function Fv(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((a,{useScope:l,scopeName:c})=>{const d=l(i)[`__scope${c}`];return{...a,...d}},{});return I.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return n.scopeName=t.scopeName,n}function Kr(e){const t=I.useRef(e);return I.useEffect(()=>{t.current=e}),I.useMemo(()=>(...n)=>{var r;return(r=t.current)==null?void 0:r.call(t,...n)},[])}var Lv=I.createContext(void 0);function Uv(e){const t=I.useContext(Lv);return e||t||"ltr"}function Ov(e,[t,n]){return Math.min(n,Math.max(t,e))}function Ni(e,t,{checkForDefaultPrevented:n=!0}={}){return function(s){if(e==null||e(s),n===!1||!s.defaultPrevented)return t==null?void 0:t(s)}}function Hv(e,t){return I.useReducer((n,r)=>t[n][r]??n,e)}var zA="ScrollArea",[s1,g4]=i1(zA),[Kv,yn]=s1(zA),o1=I.forwardRef((e,t)=>{const{__scopeScrollArea:n,type:r="hover",dir:s,scrollHideDelay:i=600,...o}=e,[a,l]=I.useState(null),[c,u]=I.useState(null),[d,f]=I.useState(null),[A,m]=I.useState(null),[y,B]=I.useState(null),[h,g]=I.useState(0),[w,E]=I.useState(0),[v,b]=I.useState(!1),[C,T]=I.useState(!1),x=Wi(t,S=>l(S)),R=Uv(s);return p.jsx(Kv,{scope:n,type:r,dir:R,scrollHideDelay:i,scrollArea:a,viewport:c,onViewportChange:u,content:d,onContentChange:f,scrollbarX:A,onScrollbarXChange:m,scrollbarXEnabled:v,onScrollbarXEnabledChange:b,scrollbarY:y,onScrollbarYChange:B,scrollbarYEnabled:C,onScrollbarYEnabledChange:T,onCornerWidthChange:g,onCornerHeightChange:E,children:p.jsx(qn.div,{dir:R,...o,ref:x,style:{position:"relative","--radix-scroll-area-corner-width":h+"px","--radix-scroll-area-corner-height":w+"px",...e.style}})})});o1.displayName=zA;var a1="ScrollAreaViewport",l1=I.forwardRef((e,t)=>{const{__scopeScrollArea:n,children:r,nonce:s,...i}=e,o=yn(a1,n),a=I.useRef(null),l=Wi(t,a,o.onViewportChange);return p.jsxs(p.Fragment,{children:[p.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:s}),p.jsx(qn.div,{"data-radix-scroll-area-viewport":"",...i,ref:l,style:{overflowX:o.scrollbarXEnabled?"scroll":"hidden",overflowY:o.scrollbarYEnabled?"scroll":"hidden",...e.style},children:p.jsx("div",{ref:o.onContentChange,style:{minWidth:"100%",display:"table"},children:r})})]})});l1.displayName=a1;var Zn="ScrollAreaScrollbar",GA=I.forwardRef((e,t)=>{const{forceMount:n,...r}=e,s=yn(Zn,e.__scopeScrollArea),{onScrollbarXEnabledChange:i,onScrollbarYEnabledChange:o}=s,a=e.orientation==="horizontal";return I.useEffect(()=>(a?i(!0):o(!0),()=>{a?i(!1):o(!1)}),[a,i,o]),s.type==="hover"?p.jsx(jv,{...r,ref:t,forceMount:n}):s.type==="scroll"?p.jsx(zv,{...r,ref:t,forceMount:n}):s.type==="auto"?p.jsx(c1,{...r,ref:t,forceMount:n}):s.type==="always"?p.jsx(YA,{...r,ref:t}):null});GA.displayName=Zn;var jv=I.forwardRef((e,t)=>{const{forceMount:n,...r}=e,s=yn(Zn,e.__scopeScrollArea),[i,o]=I.useState(!1);return I.useEffect(()=>{const a=s.scrollArea;let l=0;if(a){const c=()=>{window.clearTimeout(l),o(!0)},u=()=>{l=window.setTimeout(()=>o(!1),s.scrollHideDelay)};return a.addEventListener("pointerenter",c),a.addEventListener("pointerleave",u),()=>{window.clearTimeout(l),a.removeEventListener("pointerenter",c),a.removeEventListener("pointerleave",u)}}},[s.scrollArea,s.scrollHideDelay]),p.jsx(Da,{present:n||i,children:p.jsx(c1,{"data-state":i?"visible":"hidden",...r,ref:t})})}),zv=I.forwardRef((e,t)=>{const{forceMount:n,...r}=e,s=yn(Zn,e.__scopeScrollArea),i=e.orientation==="horizontal",o=au(()=>l("SCROLL_END"),100),[a,l]=Hv("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return I.useEffect(()=>{if(a==="idle"){const c=window.setTimeout(()=>l("HIDE"),s.scrollHideDelay);return()=>window.clearTimeout(c)}},[a,s.scrollHideDelay,l]),I.useEffect(()=>{const c=s.viewport,u=i?"scrollLeft":"scrollTop";if(c){let d=c[u];const f=()=>{const A=c[u];d!==A&&(l("SCROLL"),o()),d=A};return c.addEventListener("scroll",f),()=>c.removeEventListener("scroll",f)}},[s.viewport,i,l,o]),p.jsx(Da,{present:n||a!=="hidden",children:p.jsx(YA,{"data-state":a==="hidden"?"hidden":"visible",...r,ref:t,onPointerEnter:Ni(e.onPointerEnter,()=>l("POINTER_ENTER")),onPointerLeave:Ni(e.onPointerLeave,()=>l("POINTER_LEAVE"))})})}),c1=I.forwardRef((e,t)=>{const n=yn(Zn,e.__scopeScrollArea),{forceMount:r,...s}=e,[i,o]=I.useState(!1),a=e.orientation==="horizontal",l=au(()=>{if(n.viewport){const c=n.viewport.offsetWidth<n.viewport.scrollWidth,u=n.viewport.offsetHeight<n.viewport.scrollHeight;o(a?c:u)}},10);return Os(n.viewport,l),Os(n.content,l),p.jsx(Da,{present:r||i,children:p.jsx(YA,{"data-state":i?"visible":"hidden",...s,ref:t})})}),YA=I.forwardRef((e,t)=>{const{orientation:n="vertical",...r}=e,s=yn(Zn,e.__scopeScrollArea),i=I.useRef(null),o=I.useRef(0),[a,l]=I.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),c=h1(a.viewport,a.content),u={...r,sizes:a,onSizesChange:l,hasThumb:c>0&&c<1,onThumbChange:f=>i.current=f,onThumbPointerUp:()=>o.current=0,onThumbPointerDown:f=>o.current=f};function d(f,A){return $v(f,o.current,a,A)}return n==="horizontal"?p.jsx(Gv,{...u,ref:t,onThumbPositionChange:()=>{if(s.viewport&&i.current){const f=s.viewport.scrollLeft,A=Ng(f,a,s.dir);i.current.style.transform=`translate3d(${A}px, 0, 0)`}},onWheelScroll:f=>{s.viewport&&(s.viewport.scrollLeft=f)},onDragScroll:f=>{s.viewport&&(s.viewport.scrollLeft=d(f,s.dir))}}):n==="vertical"?p.jsx(Yv,{...u,ref:t,onThumbPositionChange:()=>{if(s.viewport&&i.current){const f=s.viewport.scrollTop,A=Ng(f,a);i.current.style.transform=`translate3d(0, ${A}px, 0)`}},onWheelScroll:f=>{s.viewport&&(s.viewport.scrollTop=f)},onDragScroll:f=>{s.viewport&&(s.viewport.scrollTop=d(f))}}):null}),Gv=I.forwardRef((e,t)=>{const{sizes:n,onSizesChange:r,...s}=e,i=yn(Zn,e.__scopeScrollArea),[o,a]=I.useState(),l=I.useRef(null),c=Wi(t,l,i.onScrollbarXChange);return I.useEffect(()=>{l.current&&a(getComputedStyle(l.current))},[l]),p.jsx(d1,{"data-orientation":"horizontal",...s,ref:c,sizes:n,style:{bottom:0,left:i.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:i.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":ou(n)+"px",...e.style},onThumbPointerDown:u=>e.onThumbPointerDown(u.x),onDragScroll:u=>e.onDragScroll(u.x),onWheelScroll:(u,d)=>{if(i.viewport){const f=i.viewport.scrollLeft+u.deltaX;e.onWheelScroll(f),p1(f,d)&&u.preventDefault()}},onResize:()=>{l.current&&i.viewport&&o&&r({content:i.viewport.scrollWidth,viewport:i.viewport.offsetWidth,scrollbar:{size:l.current.clientWidth,paddingStart:uc(o.paddingLeft),paddingEnd:uc(o.paddingRight)}})}})}),Yv=I.forwardRef((e,t)=>{const{sizes:n,onSizesChange:r,...s}=e,i=yn(Zn,e.__scopeScrollArea),[o,a]=I.useState(),l=I.useRef(null),c=Wi(t,l,i.onScrollbarYChange);return I.useEffect(()=>{l.current&&a(getComputedStyle(l.current))},[l]),p.jsx(d1,{"data-orientation":"vertical",...s,ref:c,sizes:n,style:{top:0,right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":ou(n)+"px",...e.style},onThumbPointerDown:u=>e.onThumbPointerDown(u.y),onDragScroll:u=>e.onDragScroll(u.y),onWheelScroll:(u,d)=>{if(i.viewport){const f=i.viewport.scrollTop+u.deltaY;e.onWheelScroll(f),p1(f,d)&&u.preventDefault()}},onResize:()=>{l.current&&i.viewport&&o&&r({content:i.viewport.scrollHeight,viewport:i.viewport.offsetHeight,scrollbar:{size:l.current.clientHeight,paddingStart:uc(o.paddingTop),paddingEnd:uc(o.paddingBottom)}})}})}),[Xv,u1]=s1(Zn),d1=I.forwardRef((e,t)=>{const{__scopeScrollArea:n,sizes:r,hasThumb:s,onThumbChange:i,onThumbPointerUp:o,onThumbPointerDown:a,onThumbPositionChange:l,onDragScroll:c,onWheelScroll:u,onResize:d,...f}=e,A=yn(Zn,n),[m,y]=I.useState(null),B=Wi(t,x=>y(x)),h=I.useRef(null),g=I.useRef(""),w=A.viewport,E=r.content-r.viewport,v=Kr(u),b=Kr(l),C=au(d,10);function T(x){if(h.current){const R=x.clientX-h.current.left,S=x.clientY-h.current.top;c({x:R,y:S})}}return I.useEffect(()=>{const x=R=>{const S=R.target;(m==null?void 0:m.contains(S))&&v(R,E)};return document.addEventListener("wheel",x,{passive:!1}),()=>document.removeEventListener("wheel",x,{passive:!1})},[w,m,E,v]),I.useEffect(b,[r,b]),Os(m,C),Os(A.content,C),p.jsx(Xv,{scope:n,scrollbar:m,hasThumb:s,onThumbChange:Kr(i),onThumbPointerUp:Kr(o),onThumbPositionChange:b,onThumbPointerDown:Kr(a),children:p.jsx(qn.div,{...f,ref:B,style:{position:"absolute",...f.style},onPointerDown:Ni(e.onPointerDown,x=>{x.button===0&&(x.target.setPointerCapture(x.pointerId),h.current=m.getBoundingClientRect(),g.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",A.viewport&&(A.viewport.style.scrollBehavior="auto"),T(x))}),onPointerMove:Ni(e.onPointerMove,T),onPointerUp:Ni(e.onPointerUp,x=>{const R=x.target;R.hasPointerCapture(x.pointerId)&&R.releasePointerCapture(x.pointerId),document.body.style.webkitUserSelect=g.current,A.viewport&&(A.viewport.style.scrollBehavior=""),h.current=null})})})}),cc="ScrollAreaThumb",f1=I.forwardRef((e,t)=>{const{forceMount:n,...r}=e,s=u1(cc,e.__scopeScrollArea);return p.jsx(Da,{present:n||s.hasThumb,children:p.jsx(Wv,{ref:t,...r})})}),Wv=I.forwardRef((e,t)=>{const{__scopeScrollArea:n,style:r,...s}=e,i=yn(cc,n),o=u1(cc,n),{onThumbPositionChange:a}=o,l=Wi(t,d=>o.onThumbChange(d)),c=I.useRef(void 0),u=au(()=>{c.current&&(c.current(),c.current=void 0)},100);return I.useEffect(()=>{const d=i.viewport;if(d){const f=()=>{if(u(),!c.current){const A=Jv(d,a);c.current=A,a()}};return a(),d.addEventListener("scroll",f),()=>d.removeEventListener("scroll",f)}},[i.viewport,u,a]),p.jsx(qn.div,{"data-state":o.hasThumb?"visible":"hidden",...s,ref:l,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...r},onPointerDownCapture:Ni(e.onPointerDownCapture,d=>{const A=d.target.getBoundingClientRect(),m=d.clientX-A.left,y=d.clientY-A.top;o.onThumbPointerDown({x:m,y})}),onPointerUp:Ni(e.onPointerUp,o.onThumbPointerUp)})});f1.displayName=cc;var XA="ScrollAreaCorner",A1=I.forwardRef((e,t)=>{const n=yn(XA,e.__scopeScrollArea),r=!!(n.scrollbarX&&n.scrollbarY);return n.type!=="scroll"&&r?p.jsx(Vv,{...e,ref:t}):null});A1.displayName=XA;var Vv=I.forwardRef((e,t)=>{const{__scopeScrollArea:n,...r}=e,s=yn(XA,n),[i,o]=I.useState(0),[a,l]=I.useState(0),c=!!(i&&a);return Os(s.scrollbarX,()=>{var d;const u=((d=s.scrollbarX)==null?void 0:d.offsetHeight)||0;s.onCornerHeightChange(u),l(u)}),Os(s.scrollbarY,()=>{var d;const u=((d=s.scrollbarY)==null?void 0:d.offsetWidth)||0;s.onCornerWidthChange(u),o(u)}),c?p.jsx(qn.div,{...r,ref:t,style:{width:i,height:a,position:"absolute",right:s.dir==="ltr"?0:void 0,left:s.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function uc(e){return e?parseInt(e,10):0}function h1(e,t){const n=e/t;return isNaN(n)?0:n}function ou(e){const t=h1(e.viewport,e.content),n=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,r=(e.scrollbar.size-n)*t;return Math.max(r,18)}function $v(e,t,n,r="ltr"){const s=ou(n),i=s/2,o=t||i,a=s-o,l=n.scrollbar.paddingStart+o,c=n.scrollbar.size-n.scrollbar.paddingEnd-a,u=n.content-n.viewport,d=r==="ltr"?[0,u]:[u*-1,0];return g1([l,c],d)(e)}function Ng(e,t,n="ltr"){const r=ou(t),s=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,i=t.scrollbar.size-s,o=t.content-t.viewport,a=i-r,l=n==="ltr"?[0,o]:[o*-1,0],c=Ov(e,l);return g1([0,o],[0,a])(c)}function g1(e,t){return n=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const r=(t[1]-t[0])/(e[1]-e[0]);return t[0]+r*(n-e[0])}}function p1(e,t){return e>0&&e<t}var Jv=(e,t=()=>{})=>{let n={left:e.scrollLeft,top:e.scrollTop},r=0;return function s(){const i={left:e.scrollLeft,top:e.scrollTop},o=n.left!==i.left,a=n.top!==i.top;(o||a)&&t(),n=i,r=window.requestAnimationFrame(s)}(),()=>window.cancelAnimationFrame(r)};function au(e,t){const n=Kr(e),r=I.useRef(0);return I.useEffect(()=>()=>window.clearTimeout(r.current),[]),I.useCallback(()=>{window.clearTimeout(r.current),r.current=window.setTimeout(n,t)},[n,t])}function Os(e,t){const n=Kr(t);Us(()=>{let r=0;if(e){const s=new ResizeObserver(()=>{cancelAnimationFrame(r),r=window.requestAnimationFrame(n)});return s.observe(e),()=>{window.cancelAnimationFrame(r),s.unobserve(e)}}},[e,n])}var y1=o1,qv=l1,Zv=A1;const WA=I.forwardRef(({className:e,children:t,...n},r)=>p.jsxs(y1,{ref:r,className:ie("relative overflow-hidden",e),...n,children:[p.jsx(qv,{className:"h-full w-full rounded-[inherit]",children:t}),p.jsx(m1,{}),p.jsx(Zv,{})]}));WA.displayName=y1.displayName;const m1=I.forwardRef(({className:e,orientation:t="vertical",...n},r)=>p.jsx(GA,{ref:r,orientation:t,className:ie("flex touch-none select-none transition-colors",t==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",t==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...n,children:p.jsx(f1,{className:"relative flex-1 rounded-full bg-border"})}));m1.displayName=GA.displayName;const eC=I.memo(({conversation:e,isSelected:t,onSelect:n,formatTime:r})=>p.jsxs("div",{onClick:()=>n(e.username),className:ie("flex items-center gap-2 p-2 rounded cursor-pointer transition-colors",t?"bg-blue-100 border border-blue-200":"hover:bg-gray-100"),children:[p.jsxs("div",{className:"relative",children:[p.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-blue-500 to-purple-600 rounded-full flex items-center justify-center text-white text-xs font-medium",children:e.username.charAt(0).toUpperCase()}),e.isOnline&&p.jsx("div",{className:"absolute -bottom-0.5 -right-0.5 w-3 h-3 bg-green-500 border-2 border-white rounded-full"})]}),p.jsxs("div",{className:"flex-1 min-w-0",children:[p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsx("span",{className:"text-sm font-medium text-gray-900 truncate",children:e.username}),e.lastMessageTime&&p.jsx("span",{className:"text-xs text-gray-500",children:r(e.lastMessageTime)})]}),e.lastMessage&&p.jsx("p",{className:"text-xs text-gray-600 truncate",children:e.lastMessage})]}),e.unreadCount&&e.unreadCount>0&&p.jsx("div",{className:"bg-red-500 text-white text-xs rounded-full w-5 h-5 flex items-center justify-center",children:e.unreadCount>99?"99+":e.unreadCount})]})),tC=I.memo(function({conversations:t,selectedConversation:n,onSelectConversation:r,currentUsername:s}){const i=I.useMemo(()=>o=>{if(!o)return"";const l=new Date().getTime()-o.getTime(),c=Math.floor(l/6e4),u=Math.floor(l/36e5),d=Math.floor(l/864e5);return c<1?"now":c<60?`${c}m`:u<24?`${u}h`:`${d}d`},[]);return p.jsx(WA,{className:"h-full",children:p.jsx("div",{className:"p-1",children:t.length===0?p.jsx("div",{className:"text-center text-gray-500 text-xs py-4",children:"No conversations yet"}):t.map(o=>p.jsx(eC,{conversation:o,isSelected:n===o.username,onSelect:r,formatTime:i},o.id))})})});var w1={exports:{}},E1={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hs=I;function nC(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var rC=typeof Object.is=="function"?Object.is:nC,iC=Hs.useState,sC=Hs.useEffect,oC=Hs.useLayoutEffect,aC=Hs.useDebugValue;function lC(e,t){var n=t(),r=iC({inst:{value:n,getSnapshot:t}}),s=r[0].inst,i=r[1];return oC(function(){s.value=n,s.getSnapshot=t,Zu(s)&&i({inst:s})},[e,n,t]),sC(function(){return Zu(s)&&i({inst:s}),e(function(){Zu(s)&&i({inst:s})})},[e]),aC(n),n}function Zu(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!rC(e,n)}catch{return!0}}function cC(e,t){return t()}var uC=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?cC:lC;E1.useSyncExternalStore=Hs.useSyncExternalStore!==void 0?Hs.useSyncExternalStore:uC;w1.exports=E1;var dC=w1.exports;function fC(){return dC.useSyncExternalStore(AC,()=>!0,()=>!1)}function AC(){return()=>{}}var VA="Avatar",[hC,p4]=i1(VA),[gC,B1]=hC(VA),I1=I.forwardRef((e,t)=>{const{__scopeAvatar:n,...r}=e,[s,i]=I.useState("idle");return p.jsx(gC,{scope:n,imageLoadingStatus:s,onImageLoadingStatusChange:i,children:p.jsx(qn.span,{...r,ref:t})})});I1.displayName=VA;var v1="AvatarImage",C1=I.forwardRef((e,t)=>{const{__scopeAvatar:n,src:r,onLoadingStatusChange:s=()=>{},...i}=e,o=B1(v1,n),a=pC(r,i),l=Kr(c=>{s(c),o.onImageLoadingStatusChange(c)});return Us(()=>{a!=="idle"&&l(a)},[a,l]),a==="loaded"?p.jsx(qn.img,{...i,ref:t,src:r}):null});C1.displayName=v1;var b1="AvatarFallback",x1=I.forwardRef((e,t)=>{const{__scopeAvatar:n,delayMs:r,...s}=e,i=B1(b1,n),[o,a]=I.useState(r===void 0);return I.useEffect(()=>{if(r!==void 0){const l=window.setTimeout(()=>a(!0),r);return()=>window.clearTimeout(l)}},[r]),o&&i.imageLoadingStatus!=="loaded"?p.jsx(qn.span,{...s,ref:t}):null});x1.displayName=b1;function Pg(e,t){return e?t?(e.src!==t&&(e.src=t),e.complete&&e.naturalWidth>0?"loaded":"loading"):"error":"idle"}function pC(e,{referrerPolicy:t,crossOrigin:n}){const r=fC(),s=I.useRef(null),i=r?(s.current||(s.current=new window.Image),s.current):null,[o,a]=I.useState(()=>Pg(i,e));return Us(()=>{a(Pg(i,e))},[i,e]),Us(()=>{const l=d=>()=>{a(d)};if(!i)return;const c=l("loaded"),u=l("error");return i.addEventListener("load",c),i.addEventListener("error",u),t&&(i.referrerPolicy=t),typeof n=="string"&&(i.crossOrigin=n),()=>{i.removeEventListener("load",c),i.removeEventListener("error",u)}},[i,n,t]),o}var _1=I1,S1=C1,k1=x1;const lu=I.forwardRef(({className:e,...t},n)=>p.jsx(_1,{ref:n,className:ie("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",e),...t}));lu.displayName=_1.displayName;const yC=I.forwardRef(({className:e,...t},n)=>p.jsx(S1,{ref:n,className:ie("aspect-square h-full w-full",e),...t}));yC.displayName=S1.displayName;const cu=I.forwardRef(({className:e,...t},n)=>p.jsx(k1,{ref:n,className:ie("flex h-full w-full items-center justify-center rounded-full bg-muted",e),...t}));cu.displayName=k1.displayName;function mn(e){const t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}function Oi(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}const R1=6048e5,mC=864e5;let wC={};function uu(){return wC}function fa(e,t){var a,l,c,u;const n=uu(),r=(t==null?void 0:t.weekStartsOn)??((l=(a=t==null?void 0:t.locale)==null?void 0:a.options)==null?void 0:l.weekStartsOn)??n.weekStartsOn??((u=(c=n.locale)==null?void 0:c.options)==null?void 0:u.weekStartsOn)??0,s=mn(e),i=s.getDay(),o=(i<r?7:0)+i-r;return s.setDate(s.getDate()-o),s.setHours(0,0,0,0),s}function dc(e){return fa(e,{weekStartsOn:1})}function Q1(e){const t=mn(e),n=t.getFullYear(),r=Oi(e,0);r.setFullYear(n+1,0,4),r.setHours(0,0,0,0);const s=dc(r),i=Oi(e,0);i.setFullYear(n,0,4),i.setHours(0,0,0,0);const o=dc(i);return t.getTime()>=s.getTime()?n+1:t.getTime()>=o.getTime()?n:n-1}function Mg(e){const t=mn(e);return t.setHours(0,0,0,0),t}function Fg(e){const t=mn(e),n=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return n.setUTCFullYear(t.getFullYear()),+e-+n}function EC(e,t){const n=Mg(e),r=Mg(t),s=+n-Fg(n),i=+r-Fg(r);return Math.round((s-i)/mC)}function BC(e){const t=Q1(e),n=Oi(e,0);return n.setFullYear(t,0,4),n.setHours(0,0,0,0),dc(n)}function IC(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function vC(e){if(!IC(e)&&typeof e!="number")return!1;const t=mn(e);return!isNaN(Number(t))}function Lg(e){const t=mn(e);return t.setSeconds(0,0),t}function CC(e){const t=mn(e),n=Oi(e,0);return n.setFullYear(t.getFullYear(),0,1),n.setHours(0,0,0,0),n}const bC={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},xC=(e,t,n)=>{let r;const s=bC[e];return typeof s=="string"?r=s:t===1?r=s.one:r=s.other.replace("{{count}}",t.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function ed(e){return(t={})=>{const n=t.width?String(t.width):e.defaultWidth;return e.formats[n]||e.formats[e.defaultWidth]}}const _C={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},SC={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},kC={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},RC={date:ed({formats:_C,defaultWidth:"full"}),time:ed({formats:SC,defaultWidth:"full"}),dateTime:ed({formats:kC,defaultWidth:"full"})},QC={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},TC=(e,t,n,r)=>QC[e];function Ao(e){return(t,n)=>{const r=n!=null&&n.context?String(n.context):"standalone";let s;if(r==="formatting"&&e.formattingValues){const o=e.defaultFormattingWidth||e.defaultWidth,a=n!=null&&n.width?String(n.width):o;s=e.formattingValues[a]||e.formattingValues[o]}else{const o=e.defaultWidth,a=n!=null&&n.width?String(n.width):e.defaultWidth;s=e.values[a]||e.values[o]}const i=e.argumentCallback?e.argumentCallback(t):t;return s[i]}}const DC={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},NC={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},PC={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},MC={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},FC={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},LC={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},UC=(e,t)=>{const n=Number(e),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},OC={ordinalNumber:UC,era:Ao({values:DC,defaultWidth:"wide"}),quarter:Ao({values:NC,defaultWidth:"wide",argumentCallback:e=>e-1}),month:Ao({values:PC,defaultWidth:"wide"}),day:Ao({values:MC,defaultWidth:"wide"}),dayPeriod:Ao({values:FC,defaultWidth:"wide",formattingValues:LC,defaultFormattingWidth:"wide"})};function ho(e){return(t,n={})=>{const r=n.width,s=r&&e.matchPatterns[r]||e.matchPatterns[e.defaultMatchWidth],i=t.match(s);if(!i)return null;const o=i[0],a=r&&e.parsePatterns[r]||e.parsePatterns[e.defaultParseWidth],l=Array.isArray(a)?KC(a,d=>d.test(o)):HC(a,d=>d.test(o));let c;c=e.valueCallback?e.valueCallback(l):l,c=n.valueCallback?n.valueCallback(c):c;const u=t.slice(o.length);return{value:c,rest:u}}}function HC(e,t){for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t(e[n]))return n}function KC(e,t){for(let n=0;n<e.length;n++)if(t(e[n]))return n}function jC(e){return(t,n={})=>{const r=t.match(e.matchPattern);if(!r)return null;const s=r[0],i=t.match(e.parsePattern);if(!i)return null;let o=e.valueCallback?e.valueCallback(i[0]):i[0];o=n.valueCallback?n.valueCallback(o):o;const a=t.slice(s.length);return{value:o,rest:a}}}const zC=/^(\d+)(th|st|nd|rd)?/i,GC=/\d+/i,YC={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},XC={any:[/^b/i,/^(a|c)/i]},WC={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},VC={any:[/1/i,/2/i,/3/i,/4/i]},$C={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},JC={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},qC={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},ZC={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},eb={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},tb={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},nb={ordinalNumber:jC({matchPattern:zC,parsePattern:GC,valueCallback:e=>parseInt(e,10)}),era:ho({matchPatterns:YC,defaultMatchWidth:"wide",parsePatterns:XC,defaultParseWidth:"any"}),quarter:ho({matchPatterns:WC,defaultMatchWidth:"wide",parsePatterns:VC,defaultParseWidth:"any",valueCallback:e=>e+1}),month:ho({matchPatterns:$C,defaultMatchWidth:"wide",parsePatterns:JC,defaultParseWidth:"any"}),day:ho({matchPatterns:qC,defaultMatchWidth:"wide",parsePatterns:ZC,defaultParseWidth:"any"}),dayPeriod:ho({matchPatterns:eb,defaultMatchWidth:"any",parsePatterns:tb,defaultParseWidth:"any"})},rb={code:"en-US",formatDistance:xC,formatLong:RC,formatRelative:TC,localize:OC,match:nb,options:{weekStartsOn:0,firstWeekContainsDate:1}};function ib(e){const t=mn(e);return EC(t,CC(t))+1}function sb(e){const t=mn(e),n=+dc(t)-+BC(t);return Math.round(n/R1)+1}function T1(e,t){var u,d,f,A;const n=mn(e),r=n.getFullYear(),s=uu(),i=(t==null?void 0:t.firstWeekContainsDate)??((d=(u=t==null?void 0:t.locale)==null?void 0:u.options)==null?void 0:d.firstWeekContainsDate)??s.firstWeekContainsDate??((A=(f=s.locale)==null?void 0:f.options)==null?void 0:A.firstWeekContainsDate)??1,o=Oi(e,0);o.setFullYear(r+1,0,i),o.setHours(0,0,0,0);const a=fa(o,t),l=Oi(e,0);l.setFullYear(r,0,i),l.setHours(0,0,0,0);const c=fa(l,t);return n.getTime()>=a.getTime()?r+1:n.getTime()>=c.getTime()?r:r-1}function ob(e,t){var a,l,c,u;const n=uu(),r=(t==null?void 0:t.firstWeekContainsDate)??((l=(a=t==null?void 0:t.locale)==null?void 0:a.options)==null?void 0:l.firstWeekContainsDate)??n.firstWeekContainsDate??((u=(c=n.locale)==null?void 0:c.options)==null?void 0:u.firstWeekContainsDate)??1,s=T1(e,t),i=Oi(e,0);return i.setFullYear(s,0,r),i.setHours(0,0,0,0),fa(i,t)}function ab(e,t){const n=mn(e),r=+fa(n,t)-+ob(n,t);return Math.round(r/R1)+1}function ve(e,t){const n=e<0?"-":"",r=Math.abs(e).toString().padStart(t,"0");return n+r}const kr={y(e,t){const n=e.getFullYear(),r=n>0?n:1-n;return ve(t==="yy"?r%100:r,t.length)},M(e,t){const n=e.getMonth();return t==="M"?String(n+1):ve(n+1,2)},d(e,t){return ve(e.getDate(),t.length)},a(e,t){const n=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(e,t){return ve(e.getHours()%12||12,t.length)},H(e,t){return ve(e.getHours(),t.length)},m(e,t){return ve(e.getMinutes(),t.length)},s(e,t){return ve(e.getSeconds(),t.length)},S(e,t){const n=t.length,r=e.getMilliseconds(),s=Math.trunc(r*Math.pow(10,n-3));return ve(s,t.length)}},es={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},Ug={G:function(e,t,n){const r=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(e,t,n){if(t==="yo"){const r=e.getFullYear(),s=r>0?r:1-r;return n.ordinalNumber(s,{unit:"year"})}return kr.y(e,t)},Y:function(e,t,n,r){const s=T1(e,r),i=s>0?s:1-s;if(t==="YY"){const o=i%100;return ve(o,2)}return t==="Yo"?n.ordinalNumber(i,{unit:"year"}):ve(i,t.length)},R:function(e,t){const n=Q1(e);return ve(n,t.length)},u:function(e,t){const n=e.getFullYear();return ve(n,t.length)},Q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(r);case"QQ":return ve(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(r);case"qq":return ve(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(e,t,n){const r=e.getMonth();switch(t){case"M":case"MM":return kr.M(e,t);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(e,t,n){const r=e.getMonth();switch(t){case"L":return String(r+1);case"LL":return ve(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(e,t,n,r){const s=ab(e,r);return t==="wo"?n.ordinalNumber(s,{unit:"week"}):ve(s,t.length)},I:function(e,t,n){const r=sb(e);return t==="Io"?n.ordinalNumber(r,{unit:"week"}):ve(r,t.length)},d:function(e,t,n){return t==="do"?n.ordinalNumber(e.getDate(),{unit:"date"}):kr.d(e,t)},D:function(e,t,n){const r=ib(e);return t==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):ve(r,t.length)},E:function(e,t,n){const r=e.getDay();switch(t){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(e,t,n,r){const s=e.getDay(),i=(s-r.weekStartsOn+8)%7||7;switch(t){case"e":return String(i);case"ee":return ve(i,2);case"eo":return n.ordinalNumber(i,{unit:"day"});case"eee":return n.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(s,{width:"short",context:"formatting"});case"eeee":default:return n.day(s,{width:"wide",context:"formatting"})}},c:function(e,t,n,r){const s=e.getDay(),i=(s-r.weekStartsOn+8)%7||7;switch(t){case"c":return String(i);case"cc":return ve(i,t.length);case"co":return n.ordinalNumber(i,{unit:"day"});case"ccc":return n.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(s,{width:"narrow",context:"standalone"});case"cccccc":return n.day(s,{width:"short",context:"standalone"});case"cccc":default:return n.day(s,{width:"wide",context:"standalone"})}},i:function(e,t,n){const r=e.getDay(),s=r===0?7:r;switch(t){case"i":return String(s);case"ii":return ve(s,t.length);case"io":return n.ordinalNumber(s,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(e,t,n){const s=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},b:function(e,t,n){const r=e.getHours();let s;switch(r===12?s=es.noon:r===0?s=es.midnight:s=r/12>=1?"pm":"am",t){case"b":case"bb":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(e,t,n){const r=e.getHours();let s;switch(r>=17?s=es.evening:r>=12?s=es.afternoon:r>=4?s=es.morning:s=es.night,t){case"B":case"BB":case"BBB":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(e,t,n){if(t==="ho"){let r=e.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return kr.h(e,t)},H:function(e,t,n){return t==="Ho"?n.ordinalNumber(e.getHours(),{unit:"hour"}):kr.H(e,t)},K:function(e,t,n){const r=e.getHours()%12;return t==="Ko"?n.ordinalNumber(r,{unit:"hour"}):ve(r,t.length)},k:function(e,t,n){let r=e.getHours();return r===0&&(r=24),t==="ko"?n.ordinalNumber(r,{unit:"hour"}):ve(r,t.length)},m:function(e,t,n){return t==="mo"?n.ordinalNumber(e.getMinutes(),{unit:"minute"}):kr.m(e,t)},s:function(e,t,n){return t==="so"?n.ordinalNumber(e.getSeconds(),{unit:"second"}):kr.s(e,t)},S:function(e,t){return kr.S(e,t)},X:function(e,t,n){const r=e.getTimezoneOffset();if(r===0)return"Z";switch(t){case"X":return Hg(r);case"XXXX":case"XX":return Bi(r);case"XXXXX":case"XXX":default:return Bi(r,":")}},x:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"x":return Hg(r);case"xxxx":case"xx":return Bi(r);case"xxxxx":case"xxx":default:return Bi(r,":")}},O:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+Og(r,":");case"OOOO":default:return"GMT"+Bi(r,":")}},z:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+Og(r,":");case"zzzz":default:return"GMT"+Bi(r,":")}},t:function(e,t,n){const r=Math.trunc(e.getTime()/1e3);return ve(r,t.length)},T:function(e,t,n){const r=e.getTime();return ve(r,t.length)}};function Og(e,t=""){const n=e>0?"-":"+",r=Math.abs(e),s=Math.trunc(r/60),i=r%60;return i===0?n+String(s):n+String(s)+t+ve(i,2)}function Hg(e,t){return e%60===0?(e>0?"-":"+")+ve(Math.abs(e)/60,2):Bi(e,t)}function Bi(e,t=""){const n=e>0?"-":"+",r=Math.abs(e),s=ve(Math.trunc(r/60),2),i=ve(r%60,2);return n+s+t+i}const Kg=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},D1=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},lb=(e,t)=>{const n=e.match(/(P+)(p+)?/)||[],r=n[1],s=n[2];if(!s)return Kg(e,t);let i;switch(r){case"P":i=t.dateTime({width:"short"});break;case"PP":i=t.dateTime({width:"medium"});break;case"PPP":i=t.dateTime({width:"long"});break;case"PPPP":default:i=t.dateTime({width:"full"});break}return i.replace("{{date}}",Kg(r,t)).replace("{{time}}",D1(s,t))},cb={p:D1,P:lb},ub=/^D+$/,db=/^Y+$/,fb=["D","DD","YY","YYYY"];function Ab(e){return ub.test(e)}function hb(e){return db.test(e)}function gb(e,t,n){const r=pb(e,t,n);if(console.warn(r),fb.includes(e))throw new RangeError(r)}function pb(e,t,n){const r=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const yb=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,mb=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,wb=/^'([^]*?)'?$/,Eb=/''/g,Bb=/[a-zA-Z]/;function $A(e,t,n){var u,d,f,A;const r=uu(),s=r.locale??rb,i=r.firstWeekContainsDate??((d=(u=r.locale)==null?void 0:u.options)==null?void 0:d.firstWeekContainsDate)??1,o=r.weekStartsOn??((A=(f=r.locale)==null?void 0:f.options)==null?void 0:A.weekStartsOn)??0,a=mn(e);if(!vC(a))throw new RangeError("Invalid time value");let l=t.match(mb).map(m=>{const y=m[0];if(y==="p"||y==="P"){const B=cb[y];return B(m,s.formatLong)}return m}).join("").match(yb).map(m=>{if(m==="''")return{isToken:!1,value:"'"};const y=m[0];if(y==="'")return{isToken:!1,value:Ib(m)};if(Ug[y])return{isToken:!0,value:m};if(y.match(Bb))throw new RangeError("Format string contains an unescaped latin alphabet character `"+y+"`");return{isToken:!1,value:m}});s.localize.preprocessor&&(l=s.localize.preprocessor(a,l));const c={firstWeekContainsDate:i,weekStartsOn:o,locale:s};return l.map(m=>{if(!m.isToken)return m.value;const y=m.value;(hb(y)||Ab(y))&&gb(y,t,String(e));const B=Ug[y[0]];return B(a,y,s.localize,c)}).join("")}function Ib(e){const t=e.match(wb);return t?t[1].replace(Eb,"'"):e}function vb(e,t){const n=Lg(e),r=Lg(t);return+n==+r}const Cb="aaa1rp3bb0ott3vie4c1le2ogado5udhabi7c0ademy5centure6ountant0s9o1tor4d0s1ult4e0g1ro2tna4f0l1rica5g0akhan5ency5i0g1rbus3force5tel5kdn3l0ibaba4pay4lfinanz6state5y2sace3tom5m0azon4ericanexpress7family11x2fam3ica3sterdam8nalytics7droid5quan4z2o0l2partments8p0le4q0uarelle8r0ab1mco4chi3my2pa2t0e3s0da2ia2sociates9t0hleta5torney7u0ction5di0ble3o3spost5thor3o0s4w0s2x0a2z0ure5ba0by2idu3namex4d1k2r0celona5laycard4s5efoot5gains6seball5ketball8uhaus5yern5b0c1t1va3cg1n2d1e0ats2uty4er2rlin4st0buy5t2f1g1h0arti5i0ble3d1ke2ng0o3o1z2j1lack0friday9ockbuster8g1omberg7ue3m0s1w2n0pparibas9o0ats3ehringer8fa2m1nd2o0k0ing5sch2tik2on4t1utique6x2r0adesco6idgestone9oadway5ker3ther5ussels7s1t1uild0ers6siness6y1zz3v1w1y1z0h3ca0b1fe2l0l1vinklein9m0era3p2non3petown5ital0one8r0avan4ds2e0er0s4s2sa1e1h1ino4t0ering5holic7ba1n1re3c1d1enter4o1rn3f0a1d2g1h0anel2nel4rity4se2t2eap3intai5ristmas6ome4urch5i0priani6rcle4sco3tadel4i0c2y3k1l0aims4eaning6ick2nic1que6othing5ud3ub0med6m1n1o0ach3des3ffee4llege4ogne5m0mbank4unity6pany2re3uter5sec4ndos3struction8ulting7tact3ractors9oking4l1p2rsica5untry4pon0s4rses6pa2r0edit0card4union9icket5own3s1uise0s6u0isinella9v1w1x1y0mru3ou3z2dad1nce3ta1e1ing3sun4y2clk3ds2e0al0er2s3gree4livery5l1oitte5ta3mocrat6ntal2ist5si0gn4v2hl2iamonds6et2gital5rect0ory7scount3ver5h2y2j1k1m1np2o0cs1tor4g1mains5t1wnload7rive4tv2ubai3nlop4pont4rban5vag2r2z2earth3t2c0o2deka3u0cation8e1g1mail3erck5nergy4gineer0ing9terprises10pson4quipment8r0icsson6ni3s0q1tate5t1u0rovision8s2vents5xchange6pert3osed4ress5traspace10fage2il1rwinds6th3mily4n0s2rm0ers5shion4t3edex3edback6rrari3ero6i0delity5o2lm2nal1nce1ial7re0stone6mdale6sh0ing5t0ness6j1k1lickr3ghts4r2orist4wers5y2m1o0o0d1tball6rd1ex2sale4um3undation8x2r0ee1senius7l1ogans4ntier7tr2ujitsu5n0d2rniture7tbol5yi3ga0l0lery3o1up4me0s3p1rden4y2b0iz3d0n2e0a1nt0ing5orge5f1g0ee3h1i0ft0s3ves2ing5l0ass3e1obal2o4m0ail3bh2o1x2n1odaddy5ld0point6f2o0dyear5g0le4p1t1v2p1q1r0ainger5phics5tis4een3ipe3ocery4up4s1t1u0cci3ge2ide2tars5ru3w1y2hair2mburg5ngout5us3bo2dfc0bank7ealth0care8lp1sinki6re1mes5iphop4samitsu7tachi5v2k0t2m1n1ockey4ldings5iday5medepot5goods5s0ense7nda3rse3spital5t0ing5t0els3mail5use3w2r1sbc3t1u0ghes5yatt3undai7ibm2cbc2e1u2d1e0ee3fm2kano4l1m0amat4db2mo0bilien9n0c1dustries8finiti5o2g1k1stitute6urance4e4t0ernational10uit4vestments10o1piranga7q1r0ish4s0maili5t0anbul7t0au2v3jaguar4va3cb2e0ep2tzt3welry6io2ll2m0p2nj2o0bs1urg4t1y2p0morgan6rs3uegos4niper7kaufen5ddi3e0rryhotels6properties14fh2g1h1i0a1ds2m1ndle4tchen5wi3m1n1oeln3matsu5sher5p0mg2n2r0d1ed3uokgroup8w1y0oto4z2la0caixa5mborghini8er3nd0rover6xess5salle5t0ino3robe5w0yer5b1c1ds2ease3clerc5frak4gal2o2xus4gbt3i0dl2fe0insurance9style7ghting6ke2lly3mited4o2ncoln4k2ve1ing5k1lc1p2oan0s3cker3us3l1ndon4tte1o3ve3pl0financial11r1s1t0d0a3u0ndbeck6xe1ury5v1y2ma0drid4if1son4keup4n0agement7go3p1rket0ing3s4riott5shalls7ttel5ba2c0kinsey7d1e0d0ia3et2lbourne7me1orial6n0u2rckmsd7g1h1iami3crosoft7l1ni1t2t0subishi9k1l0b1s2m0a2n1o0bi0le4da2e1i1m1nash3ey2ster5rmon3tgage6scow4to0rcycles9v0ie4p1q1r1s0d2t0n1r2u0seum3ic4v1w1x1y1z2na0b1goya4me2vy3ba2c1e0c1t0bank4flix4work5ustar5w0s2xt0direct7us4f0l2g0o2hk2i0co2ke1on3nja3ssan1y5l1o0kia3rton4w0ruz3tv4p1r0a1w2tt2u1yc2z2obi1server7ffice5kinawa6layan0group9lo3m0ega4ne1g1l0ine5oo2pen3racle3nge4g0anic5igins6saka4tsuka4t2vh3pa0ge2nasonic7ris2s1tners4s1y3y2ccw3e0t2f0izer5g1h0armacy6d1ilips5one2to0graphy6s4ysio5ics1tet2ures6d1n0g1k2oneer5zza4k1l0ace2y0station9umbing5s3m1n0c2ohl2ker3litie5rn2st3r0axi3ess3ime3o0d0uctions8f1gressive8mo2perties3y5tection8u0dential9s1t1ub2w0c2y2qa1pon3uebec3st5racing4dio4e0ad1lestate6tor2y4cipes5d0stone5umbrella9hab3ise0n3t2liance6n0t0als5pair3ort3ublican8st0aurant8view0s5xroth6ich0ardli6oh3l1o1p2o0cks3deo3gers4om3s0vp3u0gby3hr2n2w0e2yukyu6sa0arland6fe0ty4kura4le1on3msclub4ung5ndvik0coromant12ofi4p1rl2s1ve2xo3b0i1s2c0b1haeffler7midt4olarships8ol3ule3warz5ience5ot3d1e0arch3t2cure1ity6ek2lect4ner3rvices6ven3w1x0y3fr2g1h0angrila6rp3ell3ia1ksha5oes2p0ping5uji3w3i0lk2na1gles5te3j1k0i0n2y0pe4l0ing4m0art3ile4n0cf3o0ccer3ial4ftbank4ware6hu2lar2utions7ng1y2y2pa0ce3ort2t3r0l2s1t0ada2ples4r1tebank4farm7c0group6ockholm6rage3e3ream4udio2y3yle4u0cks3pplies3y2ort5rf1gery5zuki5v1watch4iss4x1y0dney4stems6z2tab1ipei4lk2obao4rget4tamotors6r2too4x0i3c0i2d0k2eam2ch0nology8l1masek5nnis4va3f1g1h0d1eater2re6iaa2ckets5enda4ps2res2ol4j0maxx4x2k0maxx5l1m0all4n1o0day3kyo3ols3p1ray3shiba5tal3urs3wn2yota3s3r0ade1ing4ining5vel0ers0insurance16ust3v2t1ube2i1nes3shu4v0s2w1z2ua1bank3s2g1k1nicom3versity8o2ol2ps2s1y1z2va0cations7na1guard7c1e0gas3ntures6risign5mgensberater2ung14sicherung10t2g1i0ajes4deo3g1king4llas4n1p1rgin4sa1ion4va1o3laanderen9n1odka3lvo3te1ing3o2yage5u2wales2mart4ter4ng0gou5tch0es6eather0channel12bcam3er2site5d0ding5ibo2r3f1hoswho6ien2ki2lliamhill9n0dows4e1ners6me2olterskluwer11odside6rk0s2ld3w2s1tc1f3xbox3erox4ihuan4n2xx2yz3yachts4hoo3maxun5ndex5e1odobashi7ga2kohama6u0tube6t1un3za0ppos4ra3ero3ip2m1one3uerich6w2",bb="121342632165322333335355455655552435435422463632574574330355524444661154543332344423364211133222221212112052232222232212222223222241112222224322321222",Cf="numeric",bf="ascii",xf="alpha",Uo="asciinumeric",bo="alphanumeric",_f="domain",N1="emoji",xb="scheme",_b="slashscheme",td="whitespace";function Sb(e,t){return e in t||(t[e]=[]),t[e]}function _i(e,t,n){t[Cf]&&(t[Uo]=!0,t[bo]=!0),t[bf]&&(t[Uo]=!0,t[xf]=!0),t[Uo]&&(t[bo]=!0),t[xf]&&(t[bo]=!0),t[bo]&&(t[_f]=!0),t[N1]&&(t[_f]=!0);for(const r in t){const s=Sb(r,n);s.indexOf(e)<0&&s.push(e)}}function kb(e,t){const n={};for(const r in t)t[r].indexOf(e)>=0&&(n[r]=!0);return n}function Xt(e=null){this.j={},this.jr=[],this.jd=null,this.t=e}Xt.groups={};Xt.prototype={accepts(){return!!this.t},go(e){const t=this,n=t.j[e];if(n)return n;for(let r=0;r<t.jr.length;r++){const s=t.jr[r][0],i=t.jr[r][1];if(i&&s.test(e))return i}return t.jd},has(e,t=!1){return t?e in this.j:!!this.go(e)},ta(e,t,n,r){for(let s=0;s<e.length;s++)this.tt(e[s],t,n,r)},tr(e,t,n,r){r=r||Xt.groups;let s;return t&&t.j?s=t:(s=new Xt(t),n&&r&&_i(t,n,r)),this.jr.push([e,s]),s},ts(e,t,n,r){let s=this;const i=e.length;if(!i)return s;for(let o=0;o<i-1;o++)s=s.tt(e[o]);return s.tt(e[i-1],t,n,r)},tt(e,t,n,r){r=r||Xt.groups;const s=this;if(t&&t.j)return s.j[e]=t,t;const i=t;let o,a=s.go(e);if(a?(o=new Xt,Object.assign(o.j,a.j),o.jr.push.apply(o.jr,a.jr),o.jd=a.jd,o.t=a.t):o=new Xt,i){if(r)if(o.t&&typeof o.t=="string"){const l=Object.assign(kb(o.t,r),n);_i(i,l,r)}else n&&_i(i,n,r);o.t=i}return s.j[e]=o,o}};const fe=(e,t,n,r,s)=>e.ta(t,n,r,s),ze=(e,t,n,r,s)=>e.tr(t,n,r,s),jg=(e,t,n,r,s)=>e.ts(t,n,r,s),z=(e,t,n,r,s)=>e.tt(t,n,r,s),cr="WORD",Sf="UWORD",P1="ASCIINUMERICAL",M1="ALPHANUMERICAL",Aa="LOCALHOST",kf="TLD",Rf="UTLD",Ml="SCHEME",cs="SLASH_SCHEME",JA="NUM",Qf="WS",qA="NL",Oo="OPENBRACE",Ho="CLOSEBRACE",fc="OPENBRACKET",Ac="CLOSEBRACKET",hc="OPENPAREN",gc="CLOSEPAREN",pc="OPENANGLEBRACKET",yc="CLOSEANGLEBRACKET",mc="FULLWIDTHLEFTPAREN",wc="FULLWIDTHRIGHTPAREN",Ec="LEFTCORNERBRACKET",Bc="RIGHTCORNERBRACKET",Ic="LEFTWHITECORNERBRACKET",vc="RIGHTWHITECORNERBRACKET",Cc="FULLWIDTHLESSTHAN",bc="FULLWIDTHGREATERTHAN",xc="AMPERSAND",_c="APOSTROPHE",Sc="ASTERISK",Ur="AT",kc="BACKSLASH",Rc="BACKTICK",Qc="CARET",jr="COLON",ZA="COMMA",Tc="DOLLAR",On="DOT",Dc="EQUALS",eh="EXCLAMATION",sn="HYPHEN",Ko="PERCENT",Nc="PIPE",Pc="PLUS",Mc="POUND",jo="QUERY",th="QUOTE",F1="FULLWIDTHMIDDLEDOT",nh="SEMI",Hn="SLASH",zo="TILDE",Fc="UNDERSCORE",L1="EMOJI",Lc="SYM";var U1=Object.freeze({__proto__:null,ALPHANUMERICAL:M1,AMPERSAND:xc,APOSTROPHE:_c,ASCIINUMERICAL:P1,ASTERISK:Sc,AT:Ur,BACKSLASH:kc,BACKTICK:Rc,CARET:Qc,CLOSEANGLEBRACKET:yc,CLOSEBRACE:Ho,CLOSEBRACKET:Ac,CLOSEPAREN:gc,COLON:jr,COMMA:ZA,DOLLAR:Tc,DOT:On,EMOJI:L1,EQUALS:Dc,EXCLAMATION:eh,FULLWIDTHGREATERTHAN:bc,FULLWIDTHLEFTPAREN:mc,FULLWIDTHLESSTHAN:Cc,FULLWIDTHMIDDLEDOT:F1,FULLWIDTHRIGHTPAREN:wc,HYPHEN:sn,LEFTCORNERBRACKET:Ec,LEFTWHITECORNERBRACKET:Ic,LOCALHOST:Aa,NL:qA,NUM:JA,OPENANGLEBRACKET:pc,OPENBRACE:Oo,OPENBRACKET:fc,OPENPAREN:hc,PERCENT:Ko,PIPE:Nc,PLUS:Pc,POUND:Mc,QUERY:jo,QUOTE:th,RIGHTCORNERBRACKET:Bc,RIGHTWHITECORNERBRACKET:vc,SCHEME:Ml,SEMI:nh,SLASH:Hn,SLASH_SCHEME:cs,SYM:Lc,TILDE:zo,TLD:kf,UNDERSCORE:Fc,UTLD:Rf,UWORD:Sf,WORD:cr,WS:Qf});const rr=/[a-z]/,go=new RegExp("\\p{L}","u"),nd=new RegExp("\\p{Emoji}","u"),ir=/\d/,rd=/\s/,zg="\r",id=`
`,Rb="",Qb="",sd="";let ol=null,al=null;function Tb(e=[]){const t={};Xt.groups=t;const n=new Xt;ol==null&&(ol=Gg(Cb)),al==null&&(al=Gg(bb)),z(n,"'",_c),z(n,"{",Oo),z(n,"}",Ho),z(n,"[",fc),z(n,"]",Ac),z(n,"(",hc),z(n,")",gc),z(n,"<",pc),z(n,">",yc),z(n,"",mc),z(n,"",wc),z(n,"",Ec),z(n,"",Bc),z(n,"",Ic),z(n,"",vc),z(n,"",Cc),z(n,"",bc),z(n,"&",xc),z(n,"*",Sc),z(n,"@",Ur),z(n,"`",Rc),z(n,"^",Qc),z(n,":",jr),z(n,",",ZA),z(n,"$",Tc),z(n,".",On),z(n,"=",Dc),z(n,"!",eh),z(n,"-",sn),z(n,"%",Ko),z(n,"|",Nc),z(n,"+",Pc),z(n,"#",Mc),z(n,"?",jo),z(n,'"',th),z(n,"/",Hn),z(n,";",nh),z(n,"~",zo),z(n,"_",Fc),z(n,"\\",kc),z(n,"",F1);const r=ze(n,ir,JA,{[Cf]:!0});ze(r,ir,r);const s=ze(r,rr,P1,{[Uo]:!0}),i=ze(r,go,M1,{[bo]:!0}),o=ze(n,rr,cr,{[bf]:!0});ze(o,ir,s),ze(o,rr,o),ze(s,ir,s),ze(s,rr,s);const a=ze(n,go,Sf,{[xf]:!0});ze(a,rr),ze(a,ir,i),ze(a,go,a),ze(i,ir,i),ze(i,rr),ze(i,go,i);const l=z(n,id,qA,{[td]:!0}),c=z(n,zg,Qf,{[td]:!0}),u=ze(n,rd,Qf,{[td]:!0});z(n,sd,u),z(c,id,l),z(c,sd,u),ze(c,rd,u),z(u,zg),z(u,id),ze(u,rd,u),z(u,sd,u);const d=ze(n,nd,L1,{[N1]:!0});z(d,"#"),ze(d,nd,d),z(d,Rb,d);const f=z(d,Qb);z(f,"#"),ze(f,nd,d);const A=[[rr,o],[ir,s]],m=[[rr,null],[go,a],[ir,i]];for(let y=0;y<ol.length;y++)Rr(n,ol[y],kf,cr,A);for(let y=0;y<al.length;y++)Rr(n,al[y],Rf,Sf,m);_i(kf,{tld:!0,ascii:!0},t),_i(Rf,{utld:!0,alpha:!0},t),Rr(n,"file",Ml,cr,A),Rr(n,"mailto",Ml,cr,A),Rr(n,"http",cs,cr,A),Rr(n,"https",cs,cr,A),Rr(n,"ftp",cs,cr,A),Rr(n,"ftps",cs,cr,A),_i(Ml,{scheme:!0,ascii:!0},t),_i(cs,{slashscheme:!0,ascii:!0},t),e=e.sort((y,B)=>y[0]>B[0]?1:-1);for(let y=0;y<e.length;y++){const B=e[y][0],g=e[y][1]?{[xb]:!0}:{[_b]:!0};B.indexOf("-")>=0?g[_f]=!0:rr.test(B)?ir.test(B)?g[Uo]=!0:g[bf]=!0:g[Cf]=!0,jg(n,B,B,g)}return jg(n,"localhost",Aa,{ascii:!0}),n.jd=new Xt(Lc),{start:n,tokens:Object.assign({groups:t},U1)}}function O1(e,t){const n=Db(t.replace(/[A-Z]/g,a=>a.toLowerCase())),r=n.length,s=[];let i=0,o=0;for(;o<r;){let a=e,l=null,c=0,u=null,d=-1,f=-1;for(;o<r&&(l=a.go(n[o]));)a=l,a.accepts()?(d=0,f=0,u=a):d>=0&&(d+=n[o].length,f++),c+=n[o].length,i+=n[o].length,o++;i-=d,o-=f,c-=d,s.push({t:u.t,v:t.slice(i-c,i),s:i-c,e:i})}return s}function Db(e){const t=[],n=e.length;let r=0;for(;r<n;){let s=e.charCodeAt(r),i,o=s<55296||s>56319||r+1===n||(i=e.charCodeAt(r+1))<56320||i>57343?e[r]:e.slice(r,r+2);t.push(o),r+=o.length}return t}function Rr(e,t,n,r,s){let i;const o=t.length;for(let a=0;a<o-1;a++){const l=t[a];e.j[l]?i=e.j[l]:(i=new Xt(r),i.jr=s.slice(),e.j[l]=i),e=i}return i=new Xt(n),i.jr=s.slice(),e.j[t[o-1]]=i,i}function Gg(e){const t=[],n=[];let r=0,s="0123456789";for(;r<e.length;){let i=0;for(;s.indexOf(e[r+i])>=0;)i++;if(i>0){t.push(n.join(""));for(let o=parseInt(e.substring(r,r+i),10);o>0;o--)n.pop();r+=i}else n.push(e[r]),r++}return t}const ha={defaultProtocol:"http",events:null,format:Yg,formatHref:Yg,nl2br:!1,tagName:"a",target:null,rel:null,validate:!0,truncate:1/0,className:null,attributes:null,ignoreTags:[],render:null};function rh(e,t=null){let n=Object.assign({},ha);e&&(n=Object.assign(n,e instanceof rh?e.o:e));const r=n.ignoreTags,s=[];for(let i=0;i<r.length;i++)s.push(r[i].toUpperCase());this.o=n,t&&(this.defaultRender=t),this.ignoreTags=s}rh.prototype={o:ha,ignoreTags:[],defaultRender(e){return e},check(e){return this.get("validate",e.toString(),e)},get(e,t,n){const r=t!=null;let s=this.o[e];return s&&(typeof s=="object"?(s=n.t in s?s[n.t]:ha[e],typeof s=="function"&&r&&(s=s(t,n))):typeof s=="function"&&r&&(s=s(t,n.t,n)),s)},getObj(e,t,n){let r=this.o[e];return typeof r=="function"&&t!=null&&(r=r(t,n.t,n)),r},render(e){const t=e.render(this);return(this.get("render",null,e)||this.defaultRender)(t,e.t,e)}};function Yg(e){return e}function H1(e,t){this.t="token",this.v=e,this.tk=t}H1.prototype={isLink:!1,toString(){return this.v},toHref(e){return this.toString()},toFormattedString(e){const t=this.toString(),n=e.get("truncate",t,this),r=e.get("format",t,this);return n&&r.length>n?r.substring(0,n)+"":r},toFormattedHref(e){return e.get("formatHref",this.toHref(e.get("defaultProtocol")),this)},startIndex(){return this.tk[0].s},endIndex(){return this.tk[this.tk.length-1].e},toObject(e=ha.defaultProtocol){return{type:this.t,value:this.toString(),isLink:this.isLink,href:this.toHref(e),start:this.startIndex(),end:this.endIndex()}},toFormattedObject(e){return{type:this.t,value:this.toFormattedString(e),isLink:this.isLink,href:this.toFormattedHref(e),start:this.startIndex(),end:this.endIndex()}},validate(e){return e.get("validate",this.toString(),this)},render(e){const t=this,n=this.toHref(e.get("defaultProtocol")),r=e.get("formatHref",n,this),s=e.get("tagName",n,t),i=this.toFormattedString(e),o={},a=e.get("className",n,t),l=e.get("target",n,t),c=e.get("rel",n,t),u=e.getObj("attributes",n,t),d=e.getObj("events",n,t);return o.href=r,a&&(o.class=a),l&&(o.target=l),c&&(o.rel=c),u&&Object.assign(o,u),{tagName:s,attributes:o,content:i,eventListeners:d}}};function du(e,t){class n extends H1{constructor(s,i){super(s,i),this.t=e}}for(const r in t)n.prototype[r]=t[r];return n.t=e,n}const Xg=du("email",{isLink:!0,toHref(){return"mailto:"+this.toString()}}),Wg=du("text"),Nb=du("nl"),ll=du("url",{isLink:!0,toHref(e=ha.defaultProtocol){return this.hasProtocol()?this.v:`${e}://${this.v}`},hasProtocol(){const e=this.tk;return e.length>=2&&e[0].t!==Aa&&e[1].t===jr}}),nn=e=>new Xt(e);function Pb({groups:e}){const t=e.domain.concat([xc,Sc,Ur,kc,Rc,Qc,Tc,Dc,sn,JA,Ko,Nc,Pc,Mc,Hn,Lc,zo,Fc]),n=[_c,jr,ZA,On,eh,Ko,jo,th,nh,pc,yc,Oo,Ho,Ac,fc,hc,gc,mc,wc,Ec,Bc,Ic,vc,Cc,bc],r=[xc,_c,Sc,kc,Rc,Qc,Tc,Dc,sn,Oo,Ho,Ko,Nc,Pc,Mc,jo,Hn,Lc,zo,Fc],s=nn(),i=z(s,zo);fe(i,r,i),fe(i,e.domain,i);const o=nn(),a=nn(),l=nn();fe(s,e.domain,o),fe(s,e.scheme,a),fe(s,e.slashscheme,l),fe(o,r,i),fe(o,e.domain,o);const c=z(o,Ur);z(i,Ur,c),z(a,Ur,c),z(l,Ur,c);const u=z(i,On);fe(u,r,i),fe(u,e.domain,i);const d=nn();fe(c,e.domain,d),fe(d,e.domain,d);const f=z(d,On);fe(f,e.domain,d);const A=nn(Xg);fe(f,e.tld,A),fe(f,e.utld,A),z(c,Aa,A);const m=z(d,sn);z(m,sn,m),fe(m,e.domain,d),fe(A,e.domain,d),z(A,On,f),z(A,sn,m);const y=z(A,jr);fe(y,e.numeric,Xg);const B=z(o,sn),h=z(o,On);z(B,sn,B),fe(B,e.domain,o),fe(h,r,i),fe(h,e.domain,o);const g=nn(ll);fe(h,e.tld,g),fe(h,e.utld,g),fe(g,e.domain,o),fe(g,r,i),z(g,On,h),z(g,sn,B),z(g,Ur,c);const w=z(g,jr),E=nn(ll);fe(w,e.numeric,E);const v=nn(ll),b=nn();fe(v,t,v),fe(v,n,b),fe(b,t,v),fe(b,n,b),z(g,Hn,v),z(E,Hn,v);const C=z(a,jr),T=z(l,jr),x=z(T,Hn),R=z(x,Hn);fe(a,e.domain,o),z(a,On,h),z(a,sn,B),fe(l,e.domain,o),z(l,On,h),z(l,sn,B),fe(C,e.domain,v),z(C,Hn,v),z(C,jo,v),fe(R,e.domain,v),fe(R,t,v),z(R,Hn,v);const S=[[Oo,Ho],[fc,Ac],[hc,gc],[pc,yc],[mc,wc],[Ec,Bc],[Ic,vc],[Cc,bc]];for(let $=0;$<S.length;$++){const[Ae,le]=S[$],me=z(v,Ae);z(b,Ae,me),z(me,le,v);const K=nn(ll);fe(me,t,K);const Ue=nn();fe(me,n),fe(K,t,K),fe(K,n,Ue),fe(Ue,t,K),fe(Ue,n,Ue),z(K,le,v),z(Ue,le,v)}return z(s,Aa,g),z(s,qA,Nb),{start:s,tokens:U1}}function Mb(e,t,n){let r=n.length,s=0,i=[],o=[];for(;s<r;){let a=e,l=null,c=null,u=0,d=null,f=-1;for(;s<r&&!(l=a.go(n[s].t));)o.push(n[s++]);for(;s<r&&(c=l||a.go(n[s].t));)l=null,a=c,a.accepts()?(f=0,d=a):f>=0&&f++,s++,u++;if(f<0)s-=u,s<r&&(o.push(n[s]),s++);else{o.length>0&&(i.push(od(Wg,t,o)),o=[]),s-=f,u-=f;const A=d.t,m=n.slice(s-u,s);i.push(od(A,t,m))}}return o.length>0&&i.push(od(Wg,t,o)),i}function od(e,t,n){const r=n[0].s,s=n[n.length-1].e,i=t.slice(r,s);return new e(i,n)}const It={scanner:null,parser:null,tokenQueue:[],pluginQueue:[],customSchemes:[],initialized:!1};function Fb(){It.scanner=Tb(It.customSchemes);for(let e=0;e<It.tokenQueue.length;e++)It.tokenQueue[e][1]({scanner:It.scanner});It.parser=Pb(It.scanner.tokens);for(let e=0;e<It.pluginQueue.length;e++)It.pluginQueue[e][1]({scanner:It.scanner,parser:It.parser});return It.initialized=!0,It}function K1(e){return It.initialized||Fb(),Mb(It.parser.start,e,O1(It.scanner.start,e))}K1.scan=O1;function Lb(e,t,n){const r=K1(e),s=[];for(let i=0;i<r.length;i++){const o=r[i];if(o.t==="nl"&&t.get("nl2br")){const a=`__linkify-el-${n.elementId++}`;s.push(I.createElement("br",{key:a}))}else if(!o.isLink||!t.check(o))s.push(o.toString());else{let a=t.render(o);if(!("key"in a.props)){const l=`__linkify-el-${n.elementId++}`,c=Object.assign({key:l},a.props);a=I.cloneElement(a,c)}s.push(a)}}return s}function j1(e,t,n){if(I.Children.count(e.props.children)===0)return e;const r=[];I.Children.forEach(e.props.children,o=>{typeof o=="string"?r.push.apply(r,Lb(o,t,n)):I.isValidElement(o)?typeof o.type=="string"&&t.ignoreTags.indexOf(o.type.toUpperCase())>=0?r.push(o):r.push(j1(o,t,n)):r.push(o)});const s=`__linkify-el-${n.elementId++}`,i=Object.assign({key:s},e.props);return I.cloneElement(e,i,r)}const Ub=e=>{let t=0;const n=({tagName:l,attributes:c,content:u})=>(c.key=`__linkify-lnk-${t++}`,c.class&&(c.className=c.class,delete c.class),I.createElement(l,c,u)),r={key:"__linkify-wrapper"};for(const l in e)l!=="options"&&l!=="as"&&l!=="tagName"&&l!=="children"&&(r[l]=e[l]);const s=new rh(e.options,n),i=e.as||e.tagName||I.Fragment||"span",o=e.children,a=I.createElement(i,r,o);return j1(a,s,{elementId:0})};function Ob({content:e}){return p.jsx("div",{className:"flex items-center justify-center my-2",children:p.jsx("div",{className:"bg-muted text-muted-foreground text-xs rounded-full px-3 py-1",children:e})})}function Hb({sender:e,timestamp:t,isCurrentUser:n}){return p.jsxs("div",{className:ie("flex items-start gap-2 mb-4",n?"flex-row-reverse":""),children:[p.jsx(lu,{className:"w-8 h-8",children:p.jsx(cu,{className:ie(n?"bg-blue-500 text-white":"bg-muted"),children:e.charAt(0).toUpperCase()})}),p.jsxs("div",{className:ie("flex flex-col min-w-0",n?"items-end":"items-start"),style:{maxWidth:"75%"},children:[p.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[p.jsx("span",{className:"text-sm font-medium",children:e}),p.jsx("span",{className:"text-xs text-muted-foreground",children:$A(t,"h:mm a")})]}),p.jsx("div",{className:ie("rounded-lg px-3 py-2 text-sm min-w-[5rem] whitespace-pre-wrap break-words",n?"bg-primary text-primary-foreground":"bg-muted","italic text-gray-500"),children:"Message deleted"})]})]})}const Vg=["jpg","jpeg","png","gif","webp"],$g=["mp4","webm","ogg"],Jg=["mp3","wav","ogg","m4a"];function cl(e,t){return new RegExp(`\\.(${t.join("|")})$`,"i").test(e)}function ad(e){if(e===0)return"0 Bytes";const t=1024,n=["Bytes","KB","MB","GB"],r=Math.floor(Math.log(e)/Math.log(t));return parseFloat((e/Math.pow(t,r)).toFixed(1))+" "+n[r]}function Kb({message:e,isCurrentUser:t}){const{content:n,sender:r,timestamp:s,filename:i,fileSize:o}=e;return p.jsxs("div",{className:ie("flex items-start gap-2 mb-4",t?"flex-row-reverse":""),children:[p.jsx(lu,{className:"w-8 h-8",children:p.jsx(cu,{className:ie(t?"bg-blue-500 text-white":"bg-muted"),children:r.charAt(0).toUpperCase()})}),p.jsxs("div",{className:ie("flex flex-col",t?"items-end":"items-start"),children:[p.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[p.jsx("span",{className:"text-sm font-medium",children:r}),p.jsx("span",{className:"text-xs text-muted-foreground",children:$A(s,"h:mm a")})]}),cl(i||"",Vg)&&p.jsx("div",{className:ie("rounded-lg px-0 py-0 text-sm max-w-[60%] break-words","bg-muted"),children:p.jsxs("div",{className:"relative group",children:[p.jsx("img",{src:n,alt:i,className:"max-w-full rounded-md"}),p.jsx("a",{href:n,download:i,className:"absolute top-2 right-2 bg-white p-1 rounded-full shadow hidden group-hover:block","aria-label":`Download ${i}`,children:p.jsx(il,{})})]})}),cl(i||"",$g)&&p.jsx("div",{className:ie("rounded-lg text-sm max-w-[60%] break-words",t?"bg-primary text-primary-foreground":"bg-muted"),children:p.jsxs("div",{className:"flex flex-col gap-2",children:[p.jsxs("video",{controls:!0,className:"max-w-full rounded-md",children:[p.jsx("source",{src:n}),"Your browser does not support the video tag."]}),p.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[p.jsx("span",{className:"font-medium break-all ml-1 mb-1",children:i}),p.jsxs("span",{className:"text-xs text-muted-foreground",children:["(",ad(o??0),")"]}),p.jsx("a",{href:n,download:i,className:"text-blue-500 hover:text-blue-700",title:"Download",children:p.jsx(il,{className:"w-5 h-5 hover:scale-110 transition-transform duration-100 ease-in-out"})})]})]})}),cl(i||"",Jg)&&p.jsx("div",{className:ie("rounded-lg mr-1 py-0 text-sm max-w-[75%] break-words",t?"bg-primary text-primary-foreground":"bg-muted"),children:p.jsxs("div",{className:"flex flex-col gap-1",children:[p.jsxs("audio",{controls:!0,className:"w-full rounded-md",children:[p.jsx("source",{src:n}),"Your browser does not support the audio element."]}),p.jsxs("div",{className:"flex justify-between items-center gap-1 text-sm text-blue-500",children:[p.jsx("span",{className:"truncate max-w-[250px] ml-1",title:i,children:i}),p.jsx("a",{href:n,download:i,title:"Download","aria-label":`Download ${i}`,children:p.jsx(il,{className:"w-5 h-5 hover:scale-110 transition-transform duration-100 ease-in-out"})})]}),p.jsxs("span",{className:"text-xs text-muted-foreground",children:["(",ad(o??0),")"]})]})}),!cl(i||"",[...Vg,...$g,...Jg])&&p.jsx("div",{className:ie("rounded-lg px-1 py-1 text-sm max-w-[60%] break-words",t?"bg-primary text-primary-foreground":"bg-muted"),children:p.jsxs("div",{className:"flex items-start gap-2 w-full text-blue-500",children:[p.jsx(Jm,{className:"h-5 w-5 shrink-0 mt-1"}),p.jsxs("div",{className:"flex flex-col min-w-0",children:[p.jsxs("div",{className:"flex justify-between items-center gap-2",children:[p.jsx("span",{className:"text-sm truncate max-w-[250px] w-full",title:i,children:i}),p.jsx("a",{href:n,download:i,title:"Download","aria-label":`Download ${i}`,children:p.jsx(il,{className:"w-5 h-5 hover:scale-110 transition-transform duration-100 ease-in-out"})})]}),p.jsxs("span",{className:"text-xs text-muted-foreground leading-tight",children:["(",ad(o??0),")"]})]})]})})]})]})}function jb({receipt:e,isCurrentUser:t,className:n}){return!t||!e?null:e.read?p.jsxs("div",{className:`flex items-center gap-1 text-xs text-blue-600 ${n}`,children:[p.jsx(Sv,{size:12}),p.jsx("span",{children:"Read"})]}):e.delivered?p.jsxs("div",{className:`flex items-center gap-1 text-xs text-gray-500 ${n}`,children:[p.jsx(kv,{size:12}),p.jsx("span",{children:"Delivered"})]}):p.jsx("div",{className:`flex items-center gap-1 text-xs text-gray-400 ${n}`,children:p.jsx("span",{children:"Sent"})})}function zb({message:e,onReply:t,previousMessage:n,onDelete:r,onEdit:s}){const{content:i,sender:o,timestamp:a,isCurrentUser:l,isSystemMessage:c,isDeleted:u,type:d}=e,f=n&&n.sender===o&&vb(n.timestamp,a);return c?p.jsx(Ob,{content:i}):u?p.jsx(Hb,{sender:o,timestamp:a,isCurrentUser:l}):d==="FILE_MESSAGE"?p.jsx(Kb,{message:e,isCurrentUser:l}):p.jsxs("div",{className:ie("flex items-start gap-2 mb-4",l?"flex-row-reverse":""),children:[p.jsx("div",{className:ie("w-9 h-9",f?"invisible":"mb-5"),children:!f&&p.jsx(lu,{className:"w-9 h-9",children:p.jsx(cu,{className:ie(l?"bg-blue-500 text-white":"bg-muted"),children:o.charAt(0).toUpperCase()})})}),p.jsxs("div",{className:ie("flex flex-col min-w-0",l?"items-end":"items-start"),style:{maxWidth:"75%"},children:[!f&&p.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[p.jsx("span",{className:"text-sm font-medium",children:o}),p.jsx("span",{className:"text-xs text-muted-foreground",children:$A(a,"h:mm a")})]}),e.replyTo&&p.jsxs("div",{className:"mb-1 p-2 border-l-2 border-blue-500 bg-blue-50 text-xs text-gray-500 rounded max-w-full truncate",children:[p.jsx("span",{className:"font-medium",children:e.replyTo.sender}),":"," ",p.jsx("span",{className:"italic",children:e.replyTo.content==="Message deleted"?"Message deleted":e.replyTo.content.slice(0,100)+(e.replyTo.content.length>100?"...":"")})]}),p.jsxs("div",{className:ie("group flex items-center gap-2",l?"flex-row-reverse":""),children:[p.jsx("div",{className:ie("rounded-lg px-3 py-2 text-sm min-w-[5rem] whitespace-pre-wrap break-words",l?"bg-primary text-primary-foreground":"bg-muted"),style:{wordBreak:"break-word",whiteSpace:"pre-wrap"},children:p.jsx(Ub,{options:{target:"_blank",rel:"noopener noreferrer"},children:i})}),p.jsxs("div",{className:ie("flex gap-1 opacity-0 group-hover:opacity-100 transition-opacity duration-200",l?"mr-1 flex-row-reverse":"ml-1"),children:[p.jsx("button",{onClick:()=>navigator.clipboard.writeText(i),"aria-label":"Copy message",className:"hover:text-primary",children:p.jsx("svg",{width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:p.jsx("path",{d:"M1 9.50006C1 10.3285 1.67157 11.0001 2.5 11.0001H4L4 10.0001H2.5C2.22386 10.0001 2 9.7762 2 9.50006L2 2.50006C2 2.22392 2.22386 2.00006 2.5 2.00006L9.5 2.00006C9.77614 2.00006 10 2.22392 10 2.50006V4.00002H5.5C4.67158 4.00002 4 4.67159 4 5.50002V12.5C4 13.3284 4.67158 14 5.5 14H12.5C13.3284 14 14 13.3284 14 12.5V5.50002C14 4.67159 13.3284 4.00002 12.5 4.00002H11V2.50006C11 1.67163 10.3284 1.00006 9.5 1.00006H2.5C1.67157 1.00006 1 1.67163 1 2.50006V9.50006ZM5 5.50002C5 5.22388 5.22386 5.00002 5.5 5.00002H12.5C12.7761 5.00002 13 5.22388 13 5.50002V12.5C13 12.7762 12.7761 13 12.5 13H5.5C5.22386 13 5 12.7762 5 12.5V5.50002Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"})})}),p.jsx("button",{onClick:()=>t==null?void 0:t(e),"aria-label":"Reply to message",className:"hover:text-primary",children:p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-4 h-4",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 15 3 9m0 0 6-6M3 9h12a6 6 0 0 1 0 12h-3"})})}),l&&!c&&p.jsx("button",{onClick:()=>r==null?void 0:r(e),"aria-label":"Delete message",className:"hover:text-destructive",children:p.jsx(ov,{className:"w-4 h-4"})}),e.isEdited&&p.jsx("span",{className:"text-xs text-muted-foreground italic",children:"(edited)"}),l&&!e.isDeleted&&p.jsx("button",{onClick:()=>s==null?void 0:s(e.content),"aria-label":"Edit message",className:"hover:text-primary",children:p.jsx(iv,{className:"w-4 h-4"})})]})]}),p.jsx(jb,{receipt:e.receipt,isCurrentUser:l,className:"mt-1"})]})]})}const dt=[];for(let e=0;e<256;++e)dt.push((e+256).toString(16).slice(1));function Gb(e,t=0){return(dt[e[t+0]]+dt[e[t+1]]+dt[e[t+2]]+dt[e[t+3]]+"-"+dt[e[t+4]]+dt[e[t+5]]+"-"+dt[e[t+6]]+dt[e[t+7]]+"-"+dt[e[t+8]]+dt[e[t+9]]+"-"+dt[e[t+10]]+dt[e[t+11]]+dt[e[t+12]]+dt[e[t+13]]+dt[e[t+14]]+dt[e[t+15]]).toLowerCase()}let ld;const Yb=new Uint8Array(16);function Xb(){if(!ld){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");ld=crypto.getRandomValues.bind(crypto)}return ld(Yb)}const Wb=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),qg={randomUUID:Wb};function ga(e,t,n){var s;if(qg.randomUUID&&!e)return qg.randomUUID();e=e||{};const r=e.random??((s=e.rng)==null?void 0:s.call(e))??Xb();if(r.length<16)throw new Error("Random bytes length must be >= 16");return r[6]=r[6]&15|64,r[8]=r[8]&63|128,Gb(r)}const Vb="modulepreload",$b=function(e){return"/"+e},Zg={},Me=function(t,n,r){let s=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),a=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));s=Promise.allSettled(n.map(l=>{if(l=$b(l),l in Zg)return;Zg[l]=!0;const c=l.endsWith(".css"),u=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${u}`))return;const d=document.createElement("link");if(d.rel=c?"stylesheet":Vb,c||(d.as="script"),d.crossOrigin="",d.href=l,a&&d.setAttribute("nonce",a),document.head.appendChild(d),c)return new Promise((f,A)=>{d.addEventListener("load",f),d.addEventListener("error",()=>A(new Error(`Unable to preload CSS for ${l}`)))})}))}function i(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return s.then(o=>{for(const a of o||[])a.status==="rejected"&&i(a.reason);return t().catch(i)})};function Jb(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var z1={exports:{}};const qb={},G1=Object.freeze(Object.defineProperty({__proto__:null,default:qb},Symbol.toStringTag,{value:"Module"})),ep=GE(G1);(function(e,t){var n=function(){var r=typeof document<"u"&&document.currentScript?document.currentScript.src:void 0;return function(i){i=i||{};var i=typeof i<"u"?i:{},o={},a;for(a in i)i.hasOwnProperty(a)&&(o[a]=i[a]);i.arguments=[],i.thisProgram="./this.program",i.quit=function(k,Q){throw Q},i.preRun=[],i.postRun=[];var l=!1,c=!1,u=!1,d=!1;if(l=typeof window=="object",c=typeof importScripts=="function",u=typeof process=="object"&&typeof Jb=="function"&&!l&&!c,d=!l&&!u&&!c,i.ENVIRONMENT)throw new Error("Module.ENVIRONMENT has been deprecated. To force the environment, use the ENVIRONMENT compile-time option (for example, -s ENVIRONMENT=web or -s ENVIRONMENT=node)");S(typeof i.memoryInitializerPrefixURL>"u","Module.memoryInitializerPrefixURL option was removed, use Module.locateFile instead"),S(typeof i.pthreadMainPrefixURL>"u","Module.pthreadMainPrefixURL option was removed, use Module.locateFile instead"),S(typeof i.cdInitializerPrefixURL>"u","Module.cdInitializerPrefixURL option was removed, use Module.locateFile instead"),S(typeof i.filePackagePrefixURL>"u","Module.filePackagePrefixURL option was removed, use Module.locateFile instead");var f="";function A(k){return i.locateFile?i.locateFile(k,f):f+k}if(u){f=__dirname+"/";var m,y;i.read=function(Q,U){var Z;return m||(m=ep),y||(y=ep),Q=y.normalize(Q),Z=m.readFileSync(Q),U?Z:Z.toString()},i.readBinary=function(Q){var U=i.read(Q,!0);return U.buffer||(U=new Uint8Array(U)),S(U.buffer),U},process.argv.length>1&&(i.thisProgram=process.argv[1].replace(/\\/g,"/")),i.arguments=process.argv.slice(2),process.on("uncaughtException",function(k){if(!(k instanceof La))throw k}),process.on("unhandledRejection",function(k,Q){h("node.js exiting due to unhandled promise rejection"),process.exit(1)}),i.quit=function(k){process.exit(k)},i.inspect=function(){return"[Emscripten Module object]"}}else if(d)typeof read<"u"&&(i.read=function(Q){return read(Q)}),i.readBinary=function(Q){var U;return typeof readbuffer=="function"?new Uint8Array(readbuffer(Q)):(U=read(Q,"binary"),S(typeof U=="object"),U)},typeof scriptArgs<"u"?i.arguments=scriptArgs:typeof arguments<"u"&&(i.arguments=arguments),typeof quit=="function"&&(i.quit=function(k){quit(k)});else if(l||c)l?document.currentScript&&(f=document.currentScript.src):f=self.location.href,r&&(f=r),f.indexOf("blob:")!==0?f=f.substr(0,f.lastIndexOf("/")+1):f="",i.read=function(Q){var U=new XMLHttpRequest;return U.open("GET",Q,!1),U.send(null),U.responseText},c&&(i.readBinary=function(Q){var U=new XMLHttpRequest;return U.open("GET",Q,!1),U.responseType="arraybuffer",U.send(null),new Uint8Array(U.response)}),i.readAsync=function(Q,U,Z){var de=new XMLHttpRequest;de.open("GET",Q,!0),de.responseType="arraybuffer",de.onload=function(){if(de.status==200||de.status==0&&de.response){U(de.response);return}Z()},de.onerror=Z,de.send(null)},i.setWindowTitle=function(k){document.title=k};else throw new Error("environment detection error");var B=i.print||(typeof console<"u"?console.log.bind(console):typeof print<"u"?print:null),h=i.printErr||(typeof printErr<"u"?printErr:typeof console<"u"&&console.warn.bind(console)||B);for(a in o)o.hasOwnProperty(a)&&(i[a]=o[a]);o=void 0;var g=16;yh=ph=function(){X("cannot use the stack before compiled code is ready to run, and has provided stack access")};function w(k){S(!Dt);var Q=xe;return xe=xe+k+15&-16,S(xe<rt,"not enough memory for static allocation - increase TOTAL_MEMORY"),Q}function E(k){S(En);var Q=ae[En>>2],U=Q+k+15&-16;if(ae[En>>2]=U,U>=rt){var Z=Bn();if(!Z)return ae[En>>2]=Q,0}return Q}function v(k,Q){Q||(Q=g);var U=k=Math.ceil(k/Q)*Q;return U}function b(k){switch(k){case"i1":case"i8":return 1;case"i16":return 2;case"i32":return 4;case"i64":return 8;case"float":return 4;case"double":return 8;default:{if(k[k.length-1]==="*")return 4;if(k[0]==="i"){var Q=parseInt(k.substr(1));return S(Q%8===0),Q/8}else return 0}}}function C(k){C.shown||(C.shown={}),C.shown[k]||(C.shown[k]=1,h(k))}var T={"f64-rem":function(k,Q){return k%Q},debugger:function(){debugger}};new Array(0);var x=1024,R=!1;function S(k,Q){k||X("Assertion failed: "+Q)}function $(k,Q,U,Z){switch(U=U||"i8",U.charAt(U.length-1)==="*"&&(U="i32"),U){case"i1":ne[k>>0]=Q;break;case"i8":ne[k>>0]=Q;break;case"i16":ee[k>>1]=Q;break;case"i32":ae[k>>2]=Q;break;case"i64":tempI64=[Q>>>0,(tempDouble=Q,+mE(tempDouble)>=1?tempDouble>0?(BE(+EE(tempDouble/4294967296),4294967295)|0)>>>0:~~+wE((tempDouble-+(~~tempDouble>>>0))/4294967296)>>>0:0)],ae[k>>2]=tempI64[0],ae[k+4>>2]=tempI64[1];break;case"float":Je[k>>2]=Q;break;case"double":tt[k>>3]=Q;break;default:X("invalid type for setValue: "+U)}}var Ae=0,le=2,me=4;function K(k,Q,U,Z){var de,Ee;typeof k=="number"?(de=!0,Ee=k):(de=!1,Ee=k.length);var qe=typeof Q=="string"?Q:null,re;if(U==me?re=Z:re=[typeof gh=="function"?gh:w,ph,w,E][U===void 0?le:U](Math.max(Ee,qe?1:Q.length)),de){var tn;for(Z=re,S((re&3)==0),tn=re+(Ee&-4);Z<tn;Z+=4)ae[Z>>2]=0;for(tn=re+Ee;Z<tn;)ne[Z++>>0]=0;return re}if(qe==="i8")return k.subarray||k.slice?te.set(k,re):te.set(new Uint8Array(k),re),re;for(var Nt=0,Pt,Ua,Oa;Nt<Ee;){var bu=k[Nt];if(Pt=qe||Q[Nt],Pt===0){Nt++;continue}S(Pt,"Must know what type to store in allocate!"),Pt=="i64"&&(Pt="i32"),$(re+Nt,bu,Pt),Oa!==Pt&&(Ua=b(Pt),Oa=Pt),Nt+=Ua}return re}function Ue(k,Q){if(Q===0||!k)return"";for(var U=0,Z,de=0;S(k+de<rt),Z=te[k+de>>0],U|=Z,!(Z==0&&!Q||(de++,Q&&de==Q)););Q||(Q=de);var Ee="";if(U<128){for(var qe=1024,re;Q>0;)re=String.fromCharCode.apply(String,te.subarray(k,k+Math.min(Q,qe))),Ee=Ee?Ee+re:re,k+=qe,Q-=qe;return Ee}return F(k)}var M=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0;function O(k,Q){for(var U=Q;k[U];)++U;if(U-Q>16&&k.subarray&&M)return M.decode(k.subarray(Q,U));for(var Z,de,Ee,qe,re,tn,Nt="";;){if(Z=k[Q++],!Z)return Nt;if(!(Z&128)){Nt+=String.fromCharCode(Z);continue}if(de=k[Q++]&63,(Z&224)==192){Nt+=String.fromCharCode((Z&31)<<6|de);continue}if(Ee=k[Q++]&63,(Z&240)==224?Z=(Z&15)<<12|de<<6|Ee:(qe=k[Q++]&63,(Z&248)==240?Z=(Z&7)<<18|de<<12|Ee<<6|qe:(re=k[Q++]&63,(Z&252)==248?Z=(Z&3)<<24|de<<18|Ee<<12|qe<<6|re:(tn=k[Q++]&63,Z=(Z&1)<<30|de<<24|Ee<<18|qe<<12|re<<6|tn))),Z<65536)Nt+=String.fromCharCode(Z);else{var Pt=Z-65536;Nt+=String.fromCharCode(55296|Pt>>10,56320|Pt&1023)}}}function F(k){return O(te,k)}function _(k,Q,U,Z){if(!(Z>0))return 0;for(var de=U,Ee=U+Z-1,qe=0;qe<k.length;++qe){var re=k.charCodeAt(qe);if(re>=55296&&re<=57343){var tn=k.charCodeAt(++qe);re=65536+((re&1023)<<10)|tn&1023}if(re<=127){if(U>=Ee)break;Q[U++]=re}else if(re<=2047){if(U+1>=Ee)break;Q[U++]=192|re>>6,Q[U++]=128|re&63}else if(re<=65535){if(U+2>=Ee)break;Q[U++]=224|re>>12,Q[U++]=128|re>>6&63,Q[U++]=128|re&63}else if(re<=2097151){if(U+3>=Ee)break;Q[U++]=240|re>>18,Q[U++]=128|re>>12&63,Q[U++]=128|re>>6&63,Q[U++]=128|re&63}else if(re<=67108863){if(U+4>=Ee)break;Q[U++]=248|re>>24,Q[U++]=128|re>>18&63,Q[U++]=128|re>>12&63,Q[U++]=128|re>>6&63,Q[U++]=128|re&63}else{if(U+5>=Ee)break;Q[U++]=252|re>>30,Q[U++]=128|re>>24&63,Q[U++]=128|re>>18&63,Q[U++]=128|re>>12&63,Q[U++]=128|re>>6&63,Q[U++]=128|re&63}}return Q[U]=0,U-de}function N(k){for(var Q=0,U=0;U<k.length;++U){var Z=k.charCodeAt(U);Z>=55296&&Z<=57343&&(Z=65536+((Z&1023)<<10)|k.charCodeAt(++U)&1023),Z<=127?++Q:Z<=2047?Q+=2:Z<=65535?Q+=3:Z<=2097151?Q+=4:Z<=67108863?Q+=5:Q+=6}return Q}typeof TextDecoder<"u"&&new TextDecoder("utf-16le");function P(k){return C("warning: build with  -s DEMANGLE_SUPPORT=1  to link in libcxxabi demangling"),k}function j(k){var Q=/__Z[\w\d_]+/g;return k.replace(Q,function(U){var Z=P(U);return U===Z?U:U+" ["+Z+"]"})}function L(){var k=new Error;if(!k.stack){try{throw new Error(0)}catch(Q){k=Q}if(!k.stack)return"(no stack trace available)"}return k.stack.toString()}function Y(){var k=L();return i.extraStackTrace&&(k+=`
`+i.extraStackTrace()),j(k)}var V=65536,H=16777216;function W(k,Q){return k%Q>0&&(k+=Q-k%Q),k}var J,ne,te,ee,ae,pe,Je,tt;function nt(k){i.buffer=J=k}function se(){i.HEAP8=ne=new Int8Array(J),i.HEAP16=ee=new Int16Array(J),i.HEAP32=ae=new Int32Array(J),i.HEAPU8=te=new Uint8Array(J),i.HEAPU16=new Uint16Array(J),i.HEAPU32=pe=new Uint32Array(J),i.HEAPF32=Je=new Float32Array(J),i.HEAPF64=tt=new Float64Array(J)}var ue,xe,Dt,ct,wn,ut,er,En;ue=xe=ct=wn=ut=er=En=0,Dt=!1;function Js(){S((ut&3)==0),pe[(ut>>2)-1]=34821223,pe[(ut>>2)-2]=2310721022}function Ji(){if((pe[(ut>>2)-1]!=34821223||pe[(ut>>2)-2]!=2310721022)&&X("Stack overflow! Stack cookie has been overwritten, expected hex dwords 0x89BACDFE and 0x02135467, but received 0x"+pe[(ut>>2)-2].toString(16)+" "+pe[(ut>>2)-1].toString(16)),ae[0]!==1668509029)throw"Runtime error: The application has corrupted its heap memory area (address zero)!"}function be(k){X("Stack overflow! Attempted to allocate "+k+" bytes on the stack, but stack has only "+(ut-yh()+k)+" bytes available!")}function br(){X("Cannot enlarge memory arrays. Either (1) compile with  -s TOTAL_MEMORY=X  with X higher than the current value "+rt+", (2) compile with  -s ALLOW_MEMORY_GROWTH=1  which allows increasing the size at runtime, or (3) if you want malloc to return NULL (0) instead of this abort, compile with  -s ABORTING_MALLOC=0 ")}function Bn(){br()}var qi=i.TOTAL_STACK||5242880,rt=i.TOTAL_MEMORY||545259520;rt<qi&&h("TOTAL_MEMORY should be larger than TOTAL_STACK, was "+rt+"! (TOTAL_STACK="+qi+")"),S(typeof Int32Array<"u"&&typeof Float64Array<"u"&&Int32Array.prototype.subarray!==void 0&&Int32Array.prototype.set!==void 0,"JS engine does not provide full typed array support"),i.buffer?(J=i.buffer,S(J.byteLength===rt,"provided buffer should be "+rt+" bytes, but it is "+J.byteLength)):(typeof WebAssembly=="object"&&typeof WebAssembly.Memory=="function"?(S(rt%V===0),i.wasmMemory=new WebAssembly.Memory({initial:rt/V,maximum:rt/V}),J=i.wasmMemory.buffer):J=new ArrayBuffer(rt),S(J.byteLength===rt),i.buffer=J),se();function uE(){return rt}if(ae[0]=1668509029,ee[1]=25459,te[2]!==115||te[3]!==99)throw"Runtime error: expected the system to be little-endian!";function Ma(k){for(;k.length>0;){var Q=k.shift();if(typeof Q=="function"){Q();continue}var U=Q.func;typeof U=="number"?Q.arg===void 0?i.dynCall_v(U):i.dynCall_vi(U,Q.arg):U(Q.arg===void 0?null:Q.arg)}}var dh=[],fh=[],dE=[],Ah=[],_e=!1;function fE(){if(i.preRun)for(typeof i.preRun=="function"&&(i.preRun=[i.preRun]);i.preRun.length;)pE(i.preRun.shift());Ma(dh)}function AE(){Ji(),!_e&&(_e=!0,Ma(fh))}function hE(){Ji(),Ma(dE)}function gE(){if(Ji(),i.postRun)for(typeof i.postRun=="function"&&(i.postRun=[i.postRun]);i.postRun.length;)yE(i.postRun.shift());Ma(Ah)}function pE(k){dh.unshift(k)}function yE(k){Ah.unshift(k)}S(Math.imul&&Math.fround&&Math.clz32&&Math.trunc,"this is a legacy browser, build with LEGACY_VM_SUPPORT");var mE=Math.abs,wE=Math.ceil,EE=Math.floor,BE=Math.min,Ai=0,hi=null,qs=null,Zs={};function IE(k){Ai++,i.monitorRunDependencies&&i.monitorRunDependencies(Ai),S(!Zs[k]),Zs[k]=1,hi===null&&typeof setInterval<"u"&&(hi=setInterval(function(){if(R){clearInterval(hi),hi=null;return}var Q=!1;for(var U in Zs)Q||(Q=!0,h("still waiting on run dependencies:")),h("dependency: "+U);Q&&h("(end of list)")},1e4))}function vE(k){if(Ai--,i.monitorRunDependencies&&i.monitorRunDependencies(Ai),S(Zs[k]),delete Zs[k],Ai==0&&(hi!==null&&(clearInterval(hi),hi=null),qs)){var Q=qs;qs=null,Q()}}i.preloadedImages={},i.preloadedAudios={};var en={error:function(){X("Filesystem support (FS) was not included. The problem is that you are using files from JS, but files were not used from C/C++, so filesystem support was not auto-included. You can force-include filesystem support with  -s FORCE_FILESYSTEM=1")},init:function(){en.error()},createDataFile:function(){en.error()},createPreloadedFile:function(){en.error()},createLazyFile:function(){en.error()},open:function(){en.error()},mkdev:function(){en.error()},registerDevice:function(){en.error()},analyzePath:function(){en.error()},loadFilesFromDB:function(){en.error()},ErrnoError:function(){en.error()}};i.FS_createDataFile=en.createDataFile,i.FS_createPreloadedFile=en.createPreloadedFile;var hh="data:application/octet-stream;base64,";function Fa(k){return String.prototype.startsWith?k.startsWith(hh):k.indexOf(hh)===0}function CE(){var k="argon2.wast",Q="argon2.wasm",U="argon2.temp.asm.js";Fa(k)||(k=A(k)),Fa(Q)||(Q=A(Q)),Fa(U)||(U=A(U));var Z=64*1024,de={global:null,env:null,asm2wasm:T,parent:i},Ee=null;function qe(Oe){var Ye=i.buffer;Oe.byteLength<Ye.byteLength&&h("the new buffer in mergeMemory is smaller than the previous one. in native wasm, we should grow memory here");var eo=new Int8Array(Ye),jt=new Int8Array(Oe);jt.set(eo),nt(Oe),se()}function re(Oe){return Oe}function tn(){try{if(i.wasmBinary)return new Uint8Array(i.wasmBinary);if(i.readBinary)return i.readBinary(Q);throw"both async and sync fetching of the wasm failed"}catch(Oe){X(Oe)}}function Nt(){return!i.wasmBinary&&(l||c)&&typeof fetch=="function"?fetch(Q,{credentials:"same-origin"}).then(function(Oe){if(!Oe.ok)throw"failed to load wasm binary file at '"+Q+"'";return Oe.arrayBuffer()}).catch(function(){return tn()}):new Promise(function(Oe,Ye){Oe(tn())})}function Pt(Oe,Ye,eo){if(typeof WebAssembly!="object")return X("No WebAssembly support found. Build with -s WASM=0 to target JavaScript instead."),h("no native wasm support detected"),!1;if(!(i.wasmMemory instanceof WebAssembly.Memory))return h("no native wasm Memory in use"),!1;Ye.memory=i.wasmMemory,de.global={NaN:NaN,Infinity:1/0},de["global.Math"]=Math,de.env=Ye;function jt(Pn,to){Ee=Pn.exports,Ee.memory&&qe(Ee.memory),i.asm=Ee,i.usingWasm=!0,vE("wasm-instantiate")}if(IE("wasm-instantiate"),i.instantiateWasm)try{return i.instantiateWasm(de,jt)}catch(Pn){return h("Module.instantiateWasm callback failed with error: "+Pn),!1}var gi=i;function tr(Pn){S(i===gi,"the Module object should not be replaced during async compilation - perhaps the order of HTML elements is wrong?"),gi=null,jt(Pn.instance,Pn.module)}function wh(Pn){Nt().then(function(to){return WebAssembly.instantiate(to,de)}).then(Pn).catch(function(to){h("failed to asynchronously prepare wasm: "+to),X(to)})}return!i.wasmBinary&&typeof WebAssembly.instantiateStreaming=="function"&&!Fa(Q)&&typeof fetch=="function"?WebAssembly.instantiateStreaming(fetch(Q,{credentials:"same-origin"}),de).then(tr).catch(function(Pn){h("wasm streaming compile failed: "+Pn),h("falling back to ArrayBuffer instantiation"),wh(tr)}):wh(tr),{}}i.asmPreload=i.asm;var Ua=i.reallocBuffer,Oa=function(Oe){var Ye=i.usingWasm?V:H;Oe=W(Oe,Ye);var eo=i.buffer,jt=eo.byteLength;if(i.usingWasm)try{var gi=i.wasmMemory.grow((Oe-jt)/Z);return gi!==-1?i.buffer=i.wasmMemory.buffer:null}catch(tr){return console.error("Module.reallocBuffer: Attempted to grow from "+jt+" bytes to "+Oe+" bytes, but got error: "+tr),null}};i.reallocBuffer=function(Oe){return bu==="asmjs"?Ua(Oe):Oa(Oe)};var bu="";i.asm=function(Oe,Ye,eo){if(Ye=Ye,!Ye.table){var jt=i.wasmTableSize;jt===void 0&&(jt=1024);var gi=i.wasmMaxTableSize;typeof WebAssembly=="object"&&typeof WebAssembly.Table=="function"?gi!==void 0?Ye.table=new WebAssembly.Table({initial:jt,maximum:gi,element:"anyfunc"}):Ye.table=new WebAssembly.Table({initial:jt,element:"anyfunc"}):Ye.table=new Array(jt),i.wasmTable=Ye.table}Ye.memoryBase||(Ye.memoryBase=i.STATIC_BASE),Ye.tableBase||(Ye.tableBase=0);var tr;return tr=Pt(Oe,Ye),S(tr,"no binaryen method succeeded. consider enabling more options, like interpreting, if you want that: http://kripken.github.io/emscripten-site/docs/compiling/WebAssembly.html#binaryen-methods"),tr}}CE(),ue=x,xe=ue+3424,fh.push();var bE=3424;i.STATIC_BASE=ue,i.STATIC_BUMP=bE;var xE=xe;xe+=16,S(xE%8==0);function _E(k,Q,U){return te.set(te.subarray(Q,Q+U),k),k}function SE(){}function kE(k){return i.___errno_location?ae[i.___errno_location()>>2]=k:h("failed to set errno from JS"),k}En=w(4),ct=wn=v(xe),ut=ct+qi,er=v(ut),ae[En>>2]=er,Dt=!0,S(er<rt,"TOTAL_MEMORY not big enough for stack");function RE(k,Q,U){var Z=U>0?U:N(k)+1,de=new Array(Z),Ee=_(k,de,0,de.length);return Q&&(de.length=Ee),de}i.wasmTableSize=0,i.wasmMaxTableSize=0,i.asmGlobalArg={},i.asmLibraryArg={enlargeMemory:Bn,getTotalMemory:uE,abortOnCannotGrowMemory:br,abortStackOverflow:be,___setErrNo:kE,_emscripten_memcpy_big:_E,_pthread_join:SE,DYNAMICTOP_PTR:En,STACKTOP:wn,STACK_MAX:ut};var Se=i.asm(i.asmGlobalArg,i.asmLibraryArg,J),QE=Se._argon2_error_message;Se._argon2_error_message=function(){return S(_e,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),S(!0,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),QE.apply(null,arguments)};var TE=Se._argon2_hash;Se._argon2_hash=function(){return S(_e,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),S(!0,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),TE.apply(null,arguments)};var DE=Se._free;Se._free=function(){return S(_e,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),S(!0,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),DE.apply(null,arguments)};var NE=Se._malloc;Se._malloc=function(){return S(_e,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),S(!0,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),NE.apply(null,arguments)};var PE=Se._sbrk;Se._sbrk=function(){return S(_e,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),S(!0,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),PE.apply(null,arguments)};var ME=Se.establishStackSpace;Se.establishStackSpace=function(){return S(_e,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),S(!0,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),ME.apply(null,arguments)};var FE=Se.getTempRet0;Se.getTempRet0=function(){return S(_e,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),S(!0,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),FE.apply(null,arguments)};var LE=Se.setTempRet0;Se.setTempRet0=function(){return S(_e,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),S(!0,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),LE.apply(null,arguments)};var UE=Se.setThrew;Se.setThrew=function(){return S(_e,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),S(!0,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),UE.apply(null,arguments)};var OE=Se.stackAlloc;Se.stackAlloc=function(){return S(_e,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),S(!0,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),OE.apply(null,arguments)};var HE=Se.stackRestore;Se.stackRestore=function(){return S(_e,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),S(!0,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),HE.apply(null,arguments)};var KE=Se.stackSave;Se.stackSave=function(){return S(_e,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),S(!0,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),KE.apply(null,arguments)},i.asm=Se,i._argon2_error_message=function(){return S(_e,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),S(!0,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),i.asm._argon2_error_message.apply(null,arguments)},i._argon2_hash=function(){return S(_e,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),S(!0,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),i.asm._argon2_hash.apply(null,arguments)},i._free=function(){return S(_e,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),S(!0,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),i.asm._free.apply(null,arguments)};var gh=i._malloc=function(){return S(_e,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),S(!0,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),i.asm._malloc.apply(null,arguments)};i._sbrk=function(){return S(_e,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),S(!0,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),i.asm._sbrk.apply(null,arguments)},i.establishStackSpace=function(){return S(_e,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),S(!0,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),i.asm.establishStackSpace.apply(null,arguments)},i.getTempRet0=function(){return S(_e,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),S(!0,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),i.asm.getTempRet0.apply(null,arguments)},i.setTempRet0=function(){return S(_e,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),S(!0,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),i.asm.setTempRet0.apply(null,arguments)},i.setThrew=function(){return S(_e,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),S(!0,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),i.asm.setThrew.apply(null,arguments)};var ph=i.stackAlloc=function(){return S(_e,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),S(!0,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),i.asm.stackAlloc.apply(null,arguments)};i.stackRestore=function(){return S(_e,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),S(!0,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),i.asm.stackRestore.apply(null,arguments)};var yh=i.stackSave=function(){return S(_e,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),S(!0,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),i.asm.stackSave.apply(null,arguments)};i.asm=Se,i.intArrayFromString=RE,i.intArrayToString||(i.intArrayToString=function(){X("'intArrayToString' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),i.ccall||(i.ccall=function(){X("'ccall' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),i.cwrap||(i.cwrap=function(){X("'cwrap' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),i.setValue||(i.setValue=function(){X("'setValue' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),i.getValue||(i.getValue=function(){X("'getValue' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),i.allocate=K,i.getMemory||(i.getMemory=function(){X("'getMemory' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ). Alternatively, forcing filesystem support (-s FORCE_FILESYSTEM=1) can export this for you")}),i.Pointer_stringify=Ue,i.AsciiToString||(i.AsciiToString=function(){X("'AsciiToString' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),i.stringToAscii||(i.stringToAscii=function(){X("'stringToAscii' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),i.UTF8ArrayToString||(i.UTF8ArrayToString=function(){X("'UTF8ArrayToString' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),i.UTF8ToString||(i.UTF8ToString=function(){X("'UTF8ToString' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),i.stringToUTF8Array||(i.stringToUTF8Array=function(){X("'stringToUTF8Array' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),i.stringToUTF8||(i.stringToUTF8=function(){X("'stringToUTF8' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),i.lengthBytesUTF8||(i.lengthBytesUTF8=function(){X("'lengthBytesUTF8' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),i.UTF16ToString||(i.UTF16ToString=function(){X("'UTF16ToString' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),i.stringToUTF16||(i.stringToUTF16=function(){X("'stringToUTF16' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),i.lengthBytesUTF16||(i.lengthBytesUTF16=function(){X("'lengthBytesUTF16' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),i.UTF32ToString||(i.UTF32ToString=function(){X("'UTF32ToString' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),i.stringToUTF32||(i.stringToUTF32=function(){X("'stringToUTF32' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),i.lengthBytesUTF32||(i.lengthBytesUTF32=function(){X("'lengthBytesUTF32' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),i.allocateUTF8||(i.allocateUTF8=function(){X("'allocateUTF8' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),i.stackTrace||(i.stackTrace=function(){X("'stackTrace' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),i.addOnPreRun||(i.addOnPreRun=function(){X("'addOnPreRun' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),i.addOnInit||(i.addOnInit=function(){X("'addOnInit' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),i.addOnPreMain||(i.addOnPreMain=function(){X("'addOnPreMain' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),i.addOnExit||(i.addOnExit=function(){X("'addOnExit' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),i.addOnPostRun||(i.addOnPostRun=function(){X("'addOnPostRun' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),i.writeStringToMemory||(i.writeStringToMemory=function(){X("'writeStringToMemory' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),i.writeArrayToMemory||(i.writeArrayToMemory=function(){X("'writeArrayToMemory' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),i.writeAsciiToMemory||(i.writeAsciiToMemory=function(){X("'writeAsciiToMemory' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),i.addRunDependency||(i.addRunDependency=function(){X("'addRunDependency' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ). Alternatively, forcing filesystem support (-s FORCE_FILESYSTEM=1) can export this for you")}),i.removeRunDependency||(i.removeRunDependency=function(){X("'removeRunDependency' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ). Alternatively, forcing filesystem support (-s FORCE_FILESYSTEM=1) can export this for you")}),i.ENV||(i.ENV=function(){X("'ENV' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),i.FS||(i.FS=function(){X("'FS' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),i.FS_createFolder||(i.FS_createFolder=function(){X("'FS_createFolder' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ). Alternatively, forcing filesystem support (-s FORCE_FILESYSTEM=1) can export this for you")}),i.FS_createPath||(i.FS_createPath=function(){X("'FS_createPath' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ). Alternatively, forcing filesystem support (-s FORCE_FILESYSTEM=1) can export this for you")}),i.FS_createDataFile||(i.FS_createDataFile=function(){X("'FS_createDataFile' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ). Alternatively, forcing filesystem support (-s FORCE_FILESYSTEM=1) can export this for you")}),i.FS_createPreloadedFile||(i.FS_createPreloadedFile=function(){X("'FS_createPreloadedFile' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ). Alternatively, forcing filesystem support (-s FORCE_FILESYSTEM=1) can export this for you")}),i.FS_createLazyFile||(i.FS_createLazyFile=function(){X("'FS_createLazyFile' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ). Alternatively, forcing filesystem support (-s FORCE_FILESYSTEM=1) can export this for you")}),i.FS_createLink||(i.FS_createLink=function(){X("'FS_createLink' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ). Alternatively, forcing filesystem support (-s FORCE_FILESYSTEM=1) can export this for you")}),i.FS_createDevice||(i.FS_createDevice=function(){X("'FS_createDevice' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ). Alternatively, forcing filesystem support (-s FORCE_FILESYSTEM=1) can export this for you")}),i.FS_unlink||(i.FS_unlink=function(){X("'FS_unlink' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ). Alternatively, forcing filesystem support (-s FORCE_FILESYSTEM=1) can export this for you")}),i.GL||(i.GL=function(){X("'GL' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),i.staticAlloc||(i.staticAlloc=function(){X("'staticAlloc' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),i.dynamicAlloc||(i.dynamicAlloc=function(){X("'dynamicAlloc' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),i.warnOnce||(i.warnOnce=function(){X("'warnOnce' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),i.loadDynamicLibrary||(i.loadDynamicLibrary=function(){X("'loadDynamicLibrary' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),i.loadWebAssemblyModule||(i.loadWebAssemblyModule=function(){X("'loadWebAssemblyModule' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),i.getLEB||(i.getLEB=function(){X("'getLEB' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),i.getFunctionTables||(i.getFunctionTables=function(){X("'getFunctionTables' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),i.alignFunctionTables||(i.alignFunctionTables=function(){X("'alignFunctionTables' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),i.registerFunctions||(i.registerFunctions=function(){X("'registerFunctions' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),i.addFunction||(i.addFunction=function(){X("'addFunction' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),i.removeFunction||(i.removeFunction=function(){X("'removeFunction' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),i.getFuncWrapper||(i.getFuncWrapper=function(){X("'getFuncWrapper' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),i.prettyPrint||(i.prettyPrint=function(){X("'prettyPrint' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),i.makeBigInt||(i.makeBigInt=function(){X("'makeBigInt' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),i.dynCall||(i.dynCall=function(){X("'dynCall' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),i.getCompilerSetting||(i.getCompilerSetting=function(){X("'getCompilerSetting' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),i.stackSave||(i.stackSave=function(){X("'stackSave' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),i.stackRestore||(i.stackRestore=function(){X("'stackRestore' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),i.stackAlloc||(i.stackAlloc=function(){X("'stackAlloc' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),i.establishStackSpace||(i.establishStackSpace=function(){X("'establishStackSpace' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),i.print||(i.print=function(){X("'print' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),i.printErr||(i.printErr=function(){X("'printErr' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),i.ALLOC_NORMAL=Ae,i.ALLOC_STACK||Object.defineProperty(i,"ALLOC_STACK",{get:function(){X("'ALLOC_STACK' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}}),i.ALLOC_STATIC||Object.defineProperty(i,"ALLOC_STATIC",{get:function(){X("'ALLOC_STATIC' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}}),i.ALLOC_DYNAMIC||Object.defineProperty(i,"ALLOC_DYNAMIC",{get:function(){X("'ALLOC_DYNAMIC' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}}),i.ALLOC_NONE||Object.defineProperty(i,"ALLOC_NONE",{get:function(){X("'ALLOC_NONE' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}}),i.then=function(k){if(i.calledRun)k(i);else{var Q=i.onRuntimeInitialized;i.onRuntimeInitialized=function(){Q&&Q(),k(i)}}return i};function La(k){this.name="ExitStatus",this.message="Program terminated with exit("+k+")",this.status=k}La.prototype=new Error,La.prototype.constructor=La,qs=function k(){i.calledRun||Cu(),i.calledRun||(qs=k)};function Cu(k){if(k=k||i.arguments,Ai>0||(Js(),fE(),Ai>0)||i.calledRun)return;function Q(){i.calledRun||(i.calledRun=!0,!R&&(AE(),hE(),i.onRuntimeInitialized&&i.onRuntimeInitialized(),S(!i._main,'compiled without a main, but one is present. if you added it from JS, use Module["onRuntimeInitialized"]'),gE()))}i.setStatus?(i.setStatus("Running..."),setTimeout(function(){setTimeout(function(){i.setStatus("")},1),Q()},1)):Q(),Ji()}i.run=Cu;var mh=[];function X(k){i.onAbort&&i.onAbort(k),k!==void 0?(B(k),h(k),k=JSON.stringify(k)):k="",R=!0;var Q="",U="abort("+k+") at "+Y()+Q;throw mh&&mh.forEach(function(Z){U=Z(U,k)}),U}if(i.abort=X,i.preInit)for(typeof i.preInit=="function"&&(i.preInit=[i.preInit]);i.preInit.length>0;)i.preInit.pop()();return i.noExitRuntime=!0,Cu(),i}}();e.exports=n})(z1);var Zb=z1.exports,fu={};fu.byteLength=nx;fu.toByteArray=ix;fu.fromByteArray=ax;var jn=[],on=[],ex=typeof Uint8Array<"u"?Uint8Array:Array,cd="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var ts=0,tx=cd.length;ts<tx;++ts)jn[ts]=cd[ts],on[cd.charCodeAt(ts)]=ts;on[45]=62;on[95]=63;function Y1(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");n===-1&&(n=t);var r=n===t?0:4-n%4;return[n,r]}function nx(e){var t=Y1(e),n=t[0],r=t[1];return(n+r)*3/4-r}function rx(e,t,n){return(t+n)*3/4-n}function ix(e){for(var t,n=Y1(e),r=n[0],s=n[1],i=new ex(rx(e,r,s)),o=0,a=s>0?r-4:r,l=0;l<a;l+=4)t=on[e.charCodeAt(l)]<<18|on[e.charCodeAt(l+1)]<<12|on[e.charCodeAt(l+2)]<<6|on[e.charCodeAt(l+3)],i[o++]=t>>16&255,i[o++]=t>>8&255,i[o++]=t&255;return s===2&&(t=on[e.charCodeAt(l)]<<2|on[e.charCodeAt(l+1)]>>4,i[o++]=t&255),s===1&&(t=on[e.charCodeAt(l)]<<10|on[e.charCodeAt(l+1)]<<4|on[e.charCodeAt(l+2)]>>2,i[o++]=t>>8&255,i[o++]=t&255),i}function sx(e){return jn[e>>18&63]+jn[e>>12&63]+jn[e>>6&63]+jn[e&63]}function ox(e,t,n){for(var r,s=[],i=t;i<n;i+=3)r=(e[i]<<16&16711680)+(e[i+1]<<8&65280)+(e[i+2]&255),s.push(sx(r));return s.join("")}function ax(e){for(var t,n=e.length,r=n%3,s=[],i=16383,o=0,a=n-r;o<a;o+=i)s.push(ox(e,o,o+i>a?a:o+i));return r===1?(t=e[n-1],s.push(jn[t>>2]+jn[t<<4&63]+"==")):r===2&&(t=(e[n-2]<<8)+e[n-1],s.push(jn[t>>10]+jn[t>>4&63]+jn[t<<2&63]+"=")),s.join("")}var lx=fu;let cx="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AAAACgAAAAUAAAAKAAAAAgAAAAgAAAAEAAAABwAAAAYAAAABAAAABQAAAA8AAAALAAAACQAAAA4AAAADAAAADAAAAA0AQcQNC5sJAQAAAAIAAAADAAAABAAAAAUAAAAGAAAABwAAAAgAAAAJAAAACgAAAAsAAAAMAAAADQAAAA4AAAAPAAAADgAAAAoAAAAEAAAACAAAAAkAAAAPAAAADQAAAAYAAAABAAAADAAAAAAAAAACAAAACwAAAAcAAAAFAAAAAwAAAGFyZ29uMmQAQXJnb24yZABhcmdvbjJpAEFyZ29uMmkAYXJnb24yaWQAQXJnb24yaWQAYXJnb24ydQBBcmdvbjJ1AFVua25vd24gZXJyb3IgY29kZQBUaGUgcGFzc3dvcmQgZG9lcyBub3QgbWF0Y2ggdGhlIHN1cHBsaWVkIGhhc2gAU29tZSBvZiBlbmNvZGVkIHBhcmFtZXRlcnMgYXJlIHRvbyBsb25nIG9yIHRvbyBzaG9ydABUaHJlYWRpbmcgZmFpbHVyZQBEZWNvZGluZyBmYWlsZWQARW5jb2RpbmcgZmFpbGVkAE1pc3NpbmcgYXJndW1lbnRzAFRvbyBtYW55IHRocmVhZHMATm90IGVub3VnaCB0aHJlYWRzAE91dHB1dCBwb2ludGVyIG1pc21hdGNoAFRoZXJlIGlzIG5vIHN1Y2ggdmVyc2lvbiBvZiBBcmdvbjIAQXJnb24yX0NvbnRleHQgY29udGV4dCBpcyBOVUxMAFRoZSBhbGxvY2F0ZSBtZW1vcnkgY2FsbGJhY2sgaXMgTlVMTABUaGUgZnJlZSBtZW1vcnkgY2FsbGJhY2sgaXMgTlVMTABNZW1vcnkgYWxsb2NhdGlvbiBlcnJvcgBBc3NvY2lhdGVkIGRhdGEgcG9pbnRlciBpcyBOVUxMLCBidXQgYWQgbGVuZ3RoIGlzIG5vdCAwAFNlY3JldCBwb2ludGVyIGlzIE5VTEwsIGJ1dCBzZWNyZXQgbGVuZ3RoIGlzIG5vdCAwAFNhbHQgcG9pbnRlciBpcyBOVUxMLCBidXQgc2FsdCBsZW5ndGggaXMgbm90IDAAUGFzc3dvcmQgcG9pbnRlciBpcyBOVUxMLCBidXQgcGFzc3dvcmQgbGVuZ3RoIGlzIG5vdCAwAFRvbyBtYW55IGxhbmVzAFRvbyBmZXcgbGFuZXMATWVtb3J5IGNvc3QgaXMgdG9vIGxhcmdlAE1lbW9yeSBjb3N0IGlzIHRvbyBzbWFsbABUaW1lIGNvc3QgaXMgdG9vIGxhcmdlAFRpbWUgY29zdCBpcyB0b28gc21hbGwAU2VjcmV0IGlzIHRvbyBsb25nAFNlY3JldCBpcyB0b28gc2hvcnQAQXNzb2NpYXRlZCBkYXRhIGlzIHRvbyBsb25nAEFzc29jaWF0ZWQgZGF0YSBpcyB0b28gc2hvcnQAU2FsdCBpcyB0b28gbG9uZwBTYWx0IGlzIHRvbyBzaG9ydABQYXNzd29yZCBpcyB0b28gbG9uZwBQYXNzd29yZCBpcyB0b28gc2hvcnQAT3V0cHV0IGlzIHRvbyBsb25nAE91dHB1dCBpcyB0b28gc2hvcnQAT3V0cHV0IHBvaW50ZXIgaXMgTlVMTABPSwAwMTIzNDU2Nzg5";var ux=lx.toByteArray(cx);if(!WebAssembly)throw new Error("WebAssembly not supported here.");var dx=Zb,fx=ux,Ve={printErr:console.error,setStatus:console.log,wasmBinary:fx};function Ax(e){return Ve._argon2_hash?new Promise((t,n)=>{try{t(tp(e))}catch(r){n(r)}}):new Promise((t,n)=>{Ve.onRuntimeInitialized=function(){try{t(tp(e))}catch(r){n(r)}},dx(Ve)}).catch(t=>{console.log(t)})}function tp(e){if(!Ve._argon2_hash)throw new Error("Error: _argon2_hash not available");var t=e&&e.time||10,n=e&&e.mem||1024,r=e&&e.parallelism||1,s=np(e&&e.pass||"password"),i=e&&e.pass?e.pass.length:8,o=np(e&&e.salt||"somesalt"),a=e&&e.salt?e.salt.length:8,l=Ve.allocate(new Array(e&&e.hashLen||32),"i8",Ve.ALLOC_NORMAL),c=e&&e.hashLen||32,u=Ve.allocate(new Array(512),"i8",Ve.ALLOC_NORMAL),d=512,f=e&&e.type||0,A=19,m;try{var y=Ve._argon2_hash(t,n,r,s,i,o,a,l,c,u,d,f,A)}catch(b){m=b}var B;if(y===0&&!m){for(var h="",g=new Uint8Array(c),w=0;w<c;w++){var E=Ve.HEAP8[l+w];g[w]=E,h+=("0"+(255&E).toString(16)).slice(-2)}var v=Ve.Pointer_stringify(u);B={hash:g,hashHex:h,encoded:v}}else{try{m||(m=Ve.Pointer_stringify(Ve._argon2_error_message(y)))}catch{}B={message:m,code:y}}try{Ve._free(s),Ve._free(o),Ve._free(l),Ve._free(u)}catch{}if(m)throw B;return B}function np(e){var t=e instanceof Uint8Array||e instanceof Array?e:Ve.intArrayFromString(e);return Ve.allocate(t,"i8",Ve.ALLOC_NORMAL)}var Is={hash:Ax,types:{Argon2d:0,Argon2i:1,Argon2id:2,Argon2u:10}};class ul extends Error{constructor(t){let n;t instanceof Error?n=t.message:typeof t=="string"?n=t:n="",super(n),this.name=this.constructor.name}}const Fe=256,at=3329,hx=62209,Tf=[2285,2571,2970,1812,1493,1422,287,202,3158,622,1577,182,962,2127,1855,1468,573,2004,264,383,2500,1458,1727,3199,2648,1017,732,608,1787,411,3124,1758,1223,652,2777,1015,2036,1491,3047,1785,516,3321,3009,2663,1711,2167,126,1469,2476,3239,3058,830,107,1908,3082,2378,2931,961,1821,2604,448,2264,677,2054,2226,430,555,843,2078,871,1550,105,422,587,177,3094,3038,2869,1574,1653,3083,778,1159,3182,2552,1483,2727,1119,1739,644,2457,349,418,329,3173,3254,817,1097,603,610,1322,2044,1864,384,2114,3193,1218,1994,2455,220,2142,1670,2144,1799,2051,794,1819,2475,2459,478,3221,3021,996,991,958,1869,1522,1628],rp=[1701,1807,1460,2371,2338,2333,308,108,2851,870,854,1510,2535,1278,1530,1185,1659,1187,3109,874,1335,2111,136,1215,2945,1465,1285,2007,2719,2726,2232,2512,75,156,3e3,2911,2980,872,2685,1590,2210,602,1846,777,147,2170,2551,246,1676,1755,460,291,235,3152,2742,2907,3224,1779,2458,1251,2486,2774,2899,1103,1275,2652,1065,2881,725,1508,2368,398,951,247,1421,3222,2499,271,90,853,1860,3203,1162,1618,666,320,8,2813,1544,282,1838,1293,2314,552,2677,2106,1571,205,2918,1542,2721,2597,2312,681,130,1602,1871,829,2946,3065,1325,2756,1861,1474,1202,2367,3147,1752,2707,171,3127,3042,1907,1836,1517,359,758,1441],dl=BigInt(2**32-1),ip=BigInt(32);function gx(e,t=!1){return t?{h:Number(e&dl),l:Number(e>>ip&dl)}:{h:Number(e>>ip&dl)|0,l:Number(e&dl)|0}}function px(e,t=!1){const n=e.length,r=new Uint32Array(n),s=new Uint32Array(n);for(let i=0;i<n;i++){const{h:o,l:a}=gx(e[i],t);[r[i],s[i]]=[o,a]}return[r,s]}const yx=(e,t,n)=>e<<n|t>>>32-n,mx=(e,t,n)=>t<<n|e>>>32-n,wx=(e,t,n)=>t<<n-32|e>>>64-n,Ex=(e,t,n)=>e<<n-32|t>>>64-n;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */function Bx(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&e.constructor.name==="Uint8Array"}function sp(e,t=""){if(!Number.isSafeInteger(e)||e<0){const n=t&&`"${t}" `;throw new Error(`${n}expected integer >0, got ${e}`)}}function Df(e,t,n=""){const r=Bx(e),s=e==null?void 0:e.length;if(!r||t!==void 0){const o=n&&`"${n}" `,a="",l=r?`length=${s}`:`type=${typeof e}`;throw new Error(o+"expected Uint8Array"+a+", got "+l)}return e}function op(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function Ix(e,t){Df(e,void 0,"digestInto() output");const n=t.outputLen;if(e.length<n)throw new Error('"digestInto() output" expected to be of length >='+n)}function vx(e){return new Uint32Array(e.buffer,e.byteOffset,Math.floor(e.byteLength/4))}function X1(...e){for(let t=0;t<e.length;t++)e[t].fill(0)}const Cx=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function bx(e){return e<<24&4278190080|e<<8&16711680|e>>>8&65280|e>>>24&255}function xx(e){for(let t=0;t<e.length;t++)e[t]=bx(e[t]);return e}const ap=Cx?e=>e:xx;function W1(e,t={}){const n=(s,i)=>e(i).update(s).digest(),r=e(void 0);return n.outputLen=r.outputLen,n.blockLen=r.blockLen,n.create=s=>e(s),Object.assign(n,t),Object.freeze(n)}const Au=e=>({oid:Uint8Array.from([6,9,96,134,72,1,101,3,4,2,e])}),_x=BigInt(0),po=BigInt(1),Sx=BigInt(2),kx=BigInt(7),Rx=BigInt(256),Qx=BigInt(113),V1=[],$1=[],J1=[];for(let e=0,t=po,n=1,r=0;e<24;e++){[n,r]=[r,(2*n+3*r)%5],V1.push(2*(5*r+n)),$1.push((e+1)*(e+2)/2%64);let s=_x;for(let i=0;i<7;i++)t=(t<<po^(t>>kx)*Qx)%Rx,t&Sx&&(s^=po<<(po<<BigInt(i))-po);J1.push(s)}const q1=px(J1,!0),Tx=q1[0],Dx=q1[1],lp=(e,t,n)=>n>32?wx(e,t,n):yx(e,t,n),cp=(e,t,n)=>n>32?Ex(e,t,n):mx(e,t,n);function Nx(e,t=24){const n=new Uint32Array(10);for(let r=24-t;r<24;r++){for(let o=0;o<10;o++)n[o]=e[o]^e[o+10]^e[o+20]^e[o+30]^e[o+40];for(let o=0;o<10;o+=2){const a=(o+8)%10,l=(o+2)%10,c=n[l],u=n[l+1],d=lp(c,u,1)^n[a],f=cp(c,u,1)^n[a+1];for(let A=0;A<50;A+=10)e[o+A]^=d,e[o+A+1]^=f}let s=e[2],i=e[3];for(let o=0;o<24;o++){const a=$1[o],l=lp(s,i,a),c=cp(s,i,a),u=V1[o];s=e[u],i=e[u+1],e[u]=l,e[u+1]=c}for(let o=0;o<50;o+=10){for(let a=0;a<10;a++)n[a]=e[o+a];for(let a=0;a<10;a++)e[o+a]^=~n[(a+2)%10]&n[(a+4)%10]}e[0]^=Tx[r],e[1]^=Dx[r]}X1(n)}let Z1=class ew{constructor(t,n,r,s=!1,i=24){if(Object.defineProperty(this,"state",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"pos",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"posOut",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"finished",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"state32",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"destroyed",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"blockLen",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"suffix",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"outputLen",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"enableXOF",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"rounds",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.blockLen=t,this.suffix=n,this.outputLen=r,this.enableXOF=s,this.rounds=i,sp(r,"outputLen"),!(0<t&&t<200))throw new Error("only keccak-f1600 function is supported");this.state=new Uint8Array(200),this.state32=vx(this.state)}clone(){return this._cloneInto()}keccak(){ap(this.state32),Nx(this.state32,this.rounds),ap(this.state32),this.posOut=0,this.pos=0}update(t){op(this),Df(t);const{blockLen:n,state:r}=this,s=t.length;for(let i=0;i<s;){const o=Math.min(n-this.pos,s-i);for(let a=0;a<o;a++)r[this.pos++]^=t[i++];this.pos===n&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:t,suffix:n,pos:r,blockLen:s}=this;t[r]^=n,n&128&&r===s-1&&this.keccak(),t[s-1]^=128,this.keccak()}writeInto(t){op(this,!1),Df(t),this.finish();const n=this.state,{blockLen:r}=this;for(let s=0,i=t.length;s<i;){this.posOut>=r&&this.keccak();const o=Math.min(r-this.posOut,i-s);t.set(n.subarray(this.posOut,this.posOut+o),s),this.posOut+=o,s+=o}return t}xofInto(t){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(t)}xof(t){return sp(t),this.xofInto(new Uint8Array(t))}digestInto(t){if(Ix(t,this),this.finished)throw new Error("digest() was already called");return this.writeInto(t),this.destroy(),t}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,X1(this.state)}_cloneInto(t){const{blockLen:n,suffix:r,outputLen:s,rounds:i,enableXOF:o}=this;return t||(t=new ew(n,r,s,o,i)),t.state32.set(this.state32),t.pos=this.pos,t.posOut=this.posOut,t.finished=this.finished,t.rounds=i,t.suffix=r,t.outputLen=s,t.enableXOF=o,t.destroyed=this.destroyed,t}};const tw=(e,t,n,r={})=>W1(()=>new Z1(t,e,n),r),Px=tw(6,136,32,Au(8)),Mx=tw(6,72,64,Au(10)),nw=(e,t,n,r={})=>W1((s={})=>new Z1(t,e,s.dkLen===void 0?n:s.dkLen,!0),r),Fx=nw(31,168,16,Au(11)),rw=nw(31,136,32,Au(12)),Lx={},Ux=Ox(globalThis,Lx);function Ox(e,t){return new Proxy(e,{get(n,r,s){return r in t?t[r]:e[r]},set(n,r,s){return r in t&&delete t[r],e[r]=s,!0},deleteProperty(n,r){let s=!1;return r in t&&(delete t[r],s=!0),r in e&&(delete e[r],s=!0),s},ownKeys(n){const r=Reflect.ownKeys(e),s=Reflect.ownKeys(t),i=new Set(s);return[...r.filter(o=>!i.has(o)),...s]},defineProperty(n,r,s){return r in t&&delete t[r],Reflect.defineProperty(e,r,s),!0},getOwnPropertyDescriptor(n,r){return r in t?Reflect.getOwnPropertyDescriptor(t,r):Reflect.getOwnPropertyDescriptor(e,r)},has(n,r){return r in t||r in e}})}function xn(e){return e%256}function Rn(e){return e>=-32768&&e<=32767?e:e<-32768?(e=e+32769,e=e%65536,32767+e):(e=e-32768,e=e%65536,-32768+e)}function Te(e){return e%65536}function Nf(e){return e>=-2147483648&&e<=2147483647?e:e<-2147483648?(e=e+2147483649,e=e%4294967296,2147483647+e):(e=e-2147483648,e=e%4294967296,-2147483648+e)}function vi(e){return e%4294967296}function Hx(e,t){if(e.length!=t.length)return 0;const n=new Uint8Array([0]);for(let s=0;s<e.length;s++)n[0]|=e[s]^t[s];const r=new Uint8Array([0]);return r[0]=~(n[0]^r[0]),r[0]&=r[0]>>4,r[0]&=r[0]>>2,r[0]&=r[0]>>1,r[0]}function Kx(e,t){if(e.length!=t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}async function jx(){if(typeof Ux<"u"&&globalThis.crypto!==void 0)return globalThis.crypto;try{const{webcrypto:e}=await Me(async()=>{const{webcrypto:t}=await Promise.resolve().then(()=>G1);return{webcrypto:t}},void 0);return e}catch{throw new Error("failed to load Crypto")}}function up(e,t,n){return rw.create({dkLen:e}).update(t).update(new Uint8Array([n])).digest()}function zx(e){let t=vi(e[0]);return t|=vi(e[1])<<8,t|=vi(e[2])<<16,t|=vi(e[3])<<24,vi(t)}class Gx{constructor(){Object.defineProperty(this,"_api",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_k",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_du",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_dv",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_eta1",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_eta2",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_skSize",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_pkSize",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_compressedUSize",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_compressedVSize",{enumerable:!0,configurable:!0,writable:!0,value:0})}async generateKeyPair(){await this._setup();try{const t=new Uint8Array(64);return this._api.getRandomValues(t),this._deriveKeyPair(t)}catch(t){throw new ul(t)}}async deriveKeyPair(t){await this._setup();try{if(t.byteLength!==64)throw new Error("seed must be 64 bytes in length");return this._deriveKeyPair(t)}catch(n){throw new ul(n)}}async encap(t,n){await this._setup();try{if(t.length!==384*this._k+32)throw new Error("invalid encapsulation key");const r=this._getSeed(n),[s,i]=ud(r,dp(t));return[this._encap(t,r,i),s]}catch(r){throw new ul(r)}}async decap(t,n){await this._setup();try{if(t.byteLength!==this._compressedUSize+this._compressedVSize)throw new Error("Invalid ct size");if(n.length!==768*this._k+96)throw new Error("Invalid decapsulation key");const r=n.subarray(0,this._skSize),s=n.subarray(this._skSize,this._skSize+this._pkSize),i=n.subarray(this._skSize+this._pkSize,this._skSize+this._pkSize+32),o=n.subarray(this._skSize+this._pkSize+32,this._skSize+this._pkSize+64),a=this._decap(t,r),[l,c]=ud(a,i),u=Yx(o,t),d=this._encap(s,a,c);return Hx(t,d)===1?l:u}catch(r){throw new ul(r)}}async _setup(){this._api===void 0&&(this._api=await jx())}_getSeed(t){if(t==null){const n=new Uint8Array(32);return this._api.getRandomValues(n),n}if(t.byteLength!==32)throw new Error("seed must be 32 bytes in length");return t}_deriveKeyPair(t){const n=t.subarray(0,32),r=t.subarray(32,64),[s,i]=this._deriveCpaKeyPair(n),o=dp(s),a=new Uint8Array(this._skSize+this._pkSize+64);return a.set(i,0),a.set(s,this._skSize),a.set(o,this._skSize+this._pkSize),a.set(r,this._skSize+this._pkSize+32),[s,a]}_deriveCpaKeyPair(t){const[n,r]=ud(t,new Uint8Array([this._k])),s=this._sampleMatrix(n,!1),i=this._sampleNoise1(r,0,this._k),o=this._sampleNoise1(r,this._k,this._k);for(let u=0;u<this._k;u++)i[u]=fl(i[u]),i[u]=Ii(i[u]),o[u]=fl(o[u]);const a=new Array(this._k);for(let u=0;u<this._k;u++)a[u]=$x(Al(s[u],i)),a[u]=xo(a[u],o[u]),a[u]=Ii(a[u]);const l=new Uint8Array(this._pkSize);for(let u=0;u<this._k;u++)l.set(dd(a[u]),u*384);l.set(n,this._skSize);const c=new Uint8Array(this._skSize);for(let u=0;u<this._k;u++)c.set(dd(i[u]),u*384);return[l,c]}_encap(t,n,r){const s=new Array(this._k),i=new Uint8Array(384*this._k);for(let y=0;y<this._k;y++)s[y]=fp(t.subarray(y*384,(y+1)*384)),i.set(dd(s[y]),y*384);if(!Kx(t.subarray(0,i.length),i))throw new Error("invalid encapsulation key");const o=t.subarray(this._skSize),a=this._sampleMatrix(o,!0),l=this._sampleNoise1(r,0,this._k),c=this._sampleNoise2(r,this._k,this._k),u=this._sampleNoise2(r,this._k*2,1)[0];for(let y=0;y<this._k;y++)l[y]=fl(l[y]),l[y]=Ii(l[y]);const d=new Array(this._k);for(let y=0;y<this._k;y++)d[y]=Al(a[y],l),d[y]=fd(d[y]),d[y]=xo(d[y],c[y]),d[y]=Ii(d[y]);const f=Vx(n);let A=Al(s,l);A=fd(A),A=xo(A,u),A=xo(A,f),A=Ii(A);const m=new Uint8Array(this._compressedUSize+this._compressedVSize);return this._compressU(m.subarray(0,this._compressedUSize),d),this._compressV(m.subarray(this._compressedUSize),A),m}_decap(t,n){const r=this._decompressU(t.subarray(0,this._compressedUSize)),s=this._decompressV(t.subarray(this._compressedUSize)),i=this._polyvecFromBytes(n);for(let a=0;a<this._k;a++)r[a]=fl(r[a]);let o=Al(i,r);return o=fd(o),o=Jx(s,o),o=Ii(o),Wx(o)}_sampleMatrix(t,n){const r=new Array(this._k),s=new Uint8Array(2);for(let i=0,o=0;o<this._k;o++){r[o]=new Array(this._k);for(let a=0;a<this._k;a++){n?(s[0]=o,s[1]=a):(s[0]=a,s[1]=o);const l=Xx(t,s),c=Ap(l.subarray(0,504),504,Fe);for(r[o][a]=c[0],i=c[1];i<Fe;){const u=l.subarray(504,672),d=Ap(u,168,Fe-i),f=d[0],A=d[1];for(let m=i;m<Fe;m++)r[o][a][m]=f[m-i];i=i+A}}}return r}_sampleNoise1(t,n,r){const s=new Array(r);for(let i=0;i<r;i++)s[i]=hp(up(this._eta1*Fe/4,t,n),this._eta1),n++;return s}_sampleNoise2(t,n,r){const s=new Array(r);for(let i=0;i<r;i++)s[i]=hp(up(this._eta2*Fe/4,t,n),this._eta2),n++;return s}_polyvecFromBytes(t){const n=new Array(this._k);for(let r=0;r<this._k;r++)n[r]=fp(t.subarray(r*384,(r+1)*384));return n}_compressU(t,n){const r=new Array(4);for(let s=0,i=0;i<this._k;i++)for(let o=0;o<Fe/4;o++){for(let a=0;a<4;a++)r[a]=((n[i][4*o+a]<<10)+at/2)/at&1023;t[s++]=xn(r[0]>>0),t[s++]=xn(r[0]>>8|r[1]<<2),t[s++]=xn(r[1]>>6|r[2]<<4),t[s++]=xn(r[2]>>4|r[3]<<6),t[s++]=xn(r[3]>>2)}return t}_compressV(t,n){const r=new Uint8Array(8);for(let s=0,i=0;i<Fe/8;i++){for(let o=0;o<8;o++)r[o]=xn(((n[8*i+o]<<4)+at/2)/at)&15;t[s++]=r[0]|r[1]<<4,t[s++]=r[2]|r[3]<<4,t[s++]=r[4]|r[5]<<4,t[s++]=r[6]|r[7]<<4}return t}_decompressU(t){const n=new Array(this._k);for(let s=0;s<this._k;s++)n[s]=new Array(384);const r=new Array(4);for(let s=0,i=0;i<this._k;i++)for(let o=0;o<Fe/4;o++){r[0]=Te(t[s+0])>>0|Te(t[s+1])<<8,r[1]=Te(t[s+1])>>2|Te(t[s+2])<<6,r[2]=Te(t[s+2])>>4|Te(t[s+3])<<4,r[3]=Te(t[s+3])>>6|Te(t[s+4])<<2,s=s+5;for(let a=0;a<4;a++)n[i][4*o+a]=Rn(vi(r[a]&1023)*vi(at)+512>>10)}return n}_decompressV(t){const n=new Array(384);for(let r=0,s=0;s<Fe/2;s++,r++)n[2*s+0]=Rn(Te(t[r]&15)*Te(at)+8>>4),n[2*s+1]=Rn(Te(t[r]>>4)*Te(at)+8>>4);return n}}function ud(e,t){const n=Mx.create().update(e);t!==void 0&&n.update(t);const r=n.digest();return[r.subarray(0,32),r.subarray(32,64)]}function dp(e){return Px.create().update(e).digest()}function Yx(e,t){const n=rw.create({dkLen:32}).update(e);return t!==void 0&&n.update(t),n.digest()}function Xx(e,t){return Fx.create({dkLen:672}).update(e).update(t).digest()}function dd(e){let t=0,n=0;const r=new Uint8Array(384),s=ow(e);for(let i=0;i<Fe/2;i++)t=Te(s[2*i]),n=Te(s[2*i+1]),r[3*i+0]=xn(t>>0),r[3*i+1]=xn(t>>8)|xn(n<<4),r[3*i+2]=xn(n>>4);return r}function fp(e){const t=new Array(384).fill(0);for(let n=0;n<Fe/2;n++)t[2*n]=Rn((Te(e[3*n+0])>>0|Te(e[3*n+1])<<8)&4095),t[2*n+1]=Rn((Te(e[3*n+1])>>4|Te(e[3*n+2])<<4)&4095);return t}function Wx(e){const t=new Uint8Array(32);let n;const r=ow(e);for(let s=0;s<Fe/8;s++){t[s]=0;for(let i=0;i<8;i++)n=((Te(r[8*s+i])<<1)+Te(at/2))/Te(at)&1,t[s]|=xn(n<<i)}return t}function Vx(e){const t=new Array(384).fill(0);let n;for(let r=0;r<Fe/8;r++)for(let s=0;s<8;s++)n=-1*Rn(e[r]>>s&1),t[8*r+s]=n&Rn((at+1)/2);return t}function Ap(e,t,n){const r=new Array(384).fill(0);let s=0,i,o;for(let a=0;s<n&&a+3<=t;)i=(Te(e[a]>>0)|Te(e[a+1])<<8)&4095,o=(Te(e[a+1]>>4)|Te(e[a+2])<<4)&4095,a=a+3,i<at&&(r[s]=i,s=s+1),s<n&&o<at&&(r[s]=o,s=s+1);return[r,s]}function hp(e,t){let n,r,s,i;const o=new Array(384).fill(0);for(let a=0;a<Fe/8;a++){n=zx(e.subarray(4*a,e.length)),r=n&1431655765,r=r+(n>>1&1431655765);for(let l=0;l<8;l++)s=Rn(r>>4*l+0&3),i=Rn(r>>4*l+t&3),o[8*a+l]=s-i}return o}function fl(e){for(let t=0,n=1,r=128;r>=2;r>>=1)for(let s=0;s<256;s=t+r){const i=Tf[n];for(n=n+1,t=s;t<s+r;t++){const o=zr(i,e[t+r]);e[t+r]=e[t]-o,e[t]=e[t]+o}}return e}function zr(e,t){return sw(e*t)}function Ii(e){for(let t=0;t<Fe;t++)e[t]=iw(e[t]);return e}function iw(e){let n=(16777216+at/2)/at*e>>24;return n=n*at,e-n}function sw(e){let n=Rn(Nf(e)*hx)*at;return n=e-n,n>>=16,Rn(n)}function $x(e){for(let n=0;n<Fe;n++)e[n]=sw(Nf(e[n])*Nf(1353));return e}function Al(e,t){let n=gp(e[0],t[0]),r;for(let s=1;s<e.length;s++)r=gp(e[s],t[s]),n=xo(n,r);return Ii(n)}function gp(e,t){let n,r;for(let s=0;s<Fe/4;s++)n=pp(e[4*s+0],e[4*s+1],t[4*s+0],t[4*s+1],Tf[64+s]),r=pp(e[4*s+2],e[4*s+3],t[4*s+2],t[4*s+3],-Tf[64+s]),e[4*s+0]=n[0],e[4*s+1]=n[1],e[4*s+2]=r[0],e[4*s+3]=r[1];return e}function pp(e,t,n,r,s){const i=new Array(2);return i[0]=zr(t,r),i[0]=zr(i[0],s),i[0]+=zr(e,n),i[1]=zr(e,r),i[1]+=zr(t,n),i}function xo(e,t){const n=new Array(384);for(let r=0;r<Fe;r++)n[r]=e[r]+t[r];return n}function Jx(e,t){for(let n=0;n<Fe;n++)e[n]-=t[n];return e}function fd(e){let t=0;for(let n=0,r=2;r<=128;r<<=1)for(let s=0;s<256;s=t+r){const i=rp[n];for(n=n+1,t=s;t<s+r;t++){const o=e[t];e[t]=iw(o+e[t+r]),e[t+r]=o-e[t+r],e[t+r]=zr(i,e[t+r])}}for(t=0;t<256;t++)e[t]=zr(e[t],rp[127]);return e}function ow(e){for(let t=0;t<Fe;t++)e[t]-=at,e[t]+=e[t]>>31&at;return e}class qx extends Gx{constructor(){super(),Object.defineProperty(this,"_k",{enumerable:!0,configurable:!0,writable:!0,value:3}),Object.defineProperty(this,"_du",{enumerable:!0,configurable:!0,writable:!0,value:10}),Object.defineProperty(this,"_dv",{enumerable:!0,configurable:!0,writable:!0,value:4}),Object.defineProperty(this,"_eta1",{enumerable:!0,configurable:!0,writable:!0,value:2}),Object.defineProperty(this,"_eta2",{enumerable:!0,configurable:!0,writable:!0,value:2}),this._skSize=12*this._k*Fe/8,this._pkSize=this._skSize+32,this._compressedUSize=this._k*this._du*Fe/8,this._compressedVSize=this._dv*Fe/8}}const ns=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */function Zx(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&e.constructor.name==="Uint8Array"}function pa(e){if(!Number.isSafeInteger(e)||e<0)throw new Error("positive integer expected, got "+e)}function Nn(e,...t){if(!Zx(e))throw new Error("Uint8Array expected");if(t.length>0&&!t.includes(e.length))throw new Error("Uint8Array expected of length "+t+", got length="+e.length)}function Hi(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function hu(e,t){Nn(e);const n=t.outputLen;if(e.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}function e_(e){return new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}function ya(e){return new Uint32Array(e.buffer,e.byteOffset,Math.floor(e.byteLength/4))}function Qn(...e){for(let t=0;t<e.length;t++)e[t].fill(0)}function Ad(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}function Mt(e,t){return e<<32-t|e>>>t}const aw=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function lw(e){return e<<24&4278190080|e<<8&16711680|e>>>8&65280|e>>>24&255}const t_=aw?e=>e:e=>lw(e);function n_(e){for(let t=0;t<e.length;t++)e[t]=lw(e[t]);return e}const _t=aw?e=>e:n_,cw=typeof Uint8Array.from([]).toHex=="function"&&typeof Uint8Array.fromHex=="function",r_=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function y4(e){if(Nn(e),cw)return e.toHex();let t="";for(let n=0;n<e.length;n++)t+=r_[e[n]];return t}const sr={_0:48,_9:57,A:65,F:70,a:97,f:102};function yp(e){if(e>=sr._0&&e<=sr._9)return e-sr._0;if(e>=sr.A&&e<=sr.F)return e-(sr.A-10);if(e>=sr.a&&e<=sr.f)return e-(sr.a-10)}function rn(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);if(cw)return Uint8Array.fromHex(e);const t=e.length,n=t/2;if(t%2)throw new Error("hex string expected, got unpadded hex of length "+t);const r=new Uint8Array(n);for(let s=0,i=0;s<n;s++,i+=2){const o=yp(e.charCodeAt(i)),a=yp(e.charCodeAt(i+1));if(o===void 0||a===void 0){const l=e[i]+e[i+1];throw new Error('hex string expected, got non-hex character "'+l+'" at index '+i)}r[s]=o*16+a}return r}function i_(e){if(typeof e!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(e))}function Ki(e){return typeof e=="string"&&(e=i_(e)),Nn(e),e}function uw(...e){let t=0;for(let r=0;r<e.length;r++){const s=e[r];Nn(s),t+=s.length}const n=new Uint8Array(t);for(let r=0,s=0;r<e.length;r++){const i=e[r];n.set(i,s),s+=i.length}return n}class ih{}function Vi(e){const t=r=>e().update(Ki(r)).digest(),n=e();return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=()=>e(),t}function dw(e){const t=(r,s)=>e(s).update(Ki(r)).digest(),n=e({});return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=r=>e(r),t}function s_(e=32){if(ns&&typeof ns.getRandomValues=="function")return ns.getRandomValues(new Uint8Array(e));if(ns&&typeof ns.randomBytes=="function")return Uint8Array.from(ns.randomBytes(e));throw new Error("crypto.getRandomValues must be defined")}function o_(e,t,n,r){if(typeof e.setBigUint64=="function")return e.setBigUint64(t,n,r);const s=BigInt(32),i=BigInt(4294967295),o=Number(n>>s&i),a=Number(n&i),l=r?4:0,c=r?0:4;e.setUint32(t+l,o,r),e.setUint32(t+c,a,r)}function a_(e,t,n){return e&t^~e&n}function l_(e,t,n){return e&t^e&n^t&n}class fw extends ih{constructor(t,n,r,s){super(),this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.blockLen=t,this.outputLen=n,this.padOffset=r,this.isLE=s,this.buffer=new Uint8Array(t),this.view=Ad(this.buffer)}update(t){Hi(this),t=Ki(t),Nn(t);const{view:n,buffer:r,blockLen:s}=this,i=t.length;for(let o=0;o<i;){const a=Math.min(s-this.pos,i-o);if(a===s){const l=Ad(t);for(;s<=i-o;o+=s)this.process(l,o);continue}r.set(t.subarray(o,o+a),this.pos),this.pos+=a,o+=a,this.pos===s&&(this.process(n,0),this.pos=0)}return this.length+=t.length,this.roundClean(),this}digestInto(t){Hi(this),hu(t,this),this.finished=!0;const{buffer:n,view:r,blockLen:s,isLE:i}=this;let{pos:o}=this;n[o++]=128,Qn(this.buffer.subarray(o)),this.padOffset>s-o&&(this.process(r,0),o=0);for(let d=o;d<s;d++)n[d]=0;o_(r,s-8,BigInt(this.length*8),i),this.process(r,0);const a=Ad(t),l=this.outputLen;if(l%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const c=l/4,u=this.get();if(c>u.length)throw new Error("_sha2: outputLen bigger than state");for(let d=0;d<c;d++)a.setUint32(4*d,u[d],i)}digest(){const{buffer:t,outputLen:n}=this;this.digestInto(t);const r=t.slice(0,n);return this.destroy(),r}_cloneInto(t){t||(t=new this.constructor),t.set(...this.get());const{blockLen:n,buffer:r,length:s,finished:i,destroyed:o,pos:a}=this;return t.destroyed=o,t.finished=i,t.length=s,t.pos=a,s%n&&t.buffer.set(r),t}clone(){return this._cloneInto()}}const ur=Uint32Array.from([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Qr=Uint32Array.from([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]),mt=Uint32Array.from([3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]),wt=Uint32Array.from([1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209]),hl=BigInt(2**32-1),mp=BigInt(32);function Pf(e,t=!1){return t?{h:Number(e&hl),l:Number(e>>mp&hl)}:{h:Number(e>>mp&hl)|0,l:Number(e&hl)|0}}function Aw(e,t=!1){const n=e.length;let r=new Uint32Array(n),s=new Uint32Array(n);for(let i=0;i<n;i++){const{h:o,l:a}=Pf(e[i],t);[r[i],s[i]]=[o,a]}return[r,s]}const wp=(e,t,n)=>e>>>n,Ep=(e,t,n)=>e<<32-n|t>>>n,rs=(e,t,n)=>e>>>n|t<<32-n,is=(e,t,n)=>e<<32-n|t>>>n,gl=(e,t,n)=>e<<64-n|t>>>n-32,pl=(e,t,n)=>e>>>n-32|t<<64-n,c_=(e,t,n)=>e<<n|t>>>32-n,u_=(e,t,n)=>t<<n|e>>>32-n,d_=(e,t,n)=>t<<n-32|e>>>64-n,f_=(e,t,n)=>e<<n-32|t>>>64-n;function or(e,t,n,r){const s=(t>>>0)+(r>>>0);return{h:e+n+(s/2**32|0)|0,l:s|0}}const A_=(e,t,n)=>(e>>>0)+(t>>>0)+(n>>>0),h_=(e,t,n,r)=>t+n+r+(e/2**32|0)|0,g_=(e,t,n,r)=>(e>>>0)+(t>>>0)+(n>>>0)+(r>>>0),p_=(e,t,n,r,s)=>t+n+r+s+(e/2**32|0)|0,y_=(e,t,n,r,s)=>(e>>>0)+(t>>>0)+(n>>>0)+(r>>>0)+(s>>>0),m_=(e,t,n,r,s,i)=>t+n+r+s+i+(e/2**32|0)|0;function Tr(e,t,n,r,s){return e=e+t+s|0,r=Mt(r^e,16),n=n+r|0,t=Mt(t^n,12),{a:e,b:t,c:n,d:r}}function Dr(e,t,n,r,s){return e=e+t+s|0,r=Mt(r^e,8),n=n+r|0,t=Mt(t^n,7),{a:e,b:t,c:n,d:r}}class w_ extends ih{constructor(t,n){super(),this.finished=!1,this.destroyed=!1,this.length=0,this.pos=0,pa(t),pa(n),this.blockLen=t,this.outputLen=n,this.buffer=new Uint8Array(t),this.buffer32=ya(this.buffer)}update(t){Hi(this),t=Ki(t),Nn(t);const{blockLen:n,buffer:r,buffer32:s}=this,i=t.length,o=t.byteOffset,a=t.buffer;for(let l=0;l<i;){this.pos===n&&(_t(s),this.compress(s,0,!1),_t(s),this.pos=0);const c=Math.min(n-this.pos,i-l),u=o+l;if(c===n&&!(u%4)&&l+c<i){const d=new Uint32Array(a,u,Math.floor((i-l)/4));_t(d);for(let f=0;l+n<i;f+=s.length,l+=n)this.length+=n,this.compress(d,f,!1);_t(d);continue}r.set(t.subarray(l,l+c),this.pos),this.pos+=c,this.length+=c,l+=c}return this}digestInto(t){Hi(this),hu(t,this);const{pos:n,buffer32:r}=this;this.finished=!0,Qn(this.buffer.subarray(n)),_t(r),this.compress(r,0,!0),_t(r);const s=ya(t);this.get().forEach((i,o)=>s[o]=t_(i))}digest(){const{buffer:t,outputLen:n}=this;this.digestInto(t);const r=t.slice(0,n);return this.destroy(),r}_cloneInto(t){const{buffer:n,length:r,finished:s,destroyed:i,outputLen:o,pos:a}=this;return t||(t=new this.constructor({dkLen:o})),t.set(...this.get()),t.buffer.set(n),t.destroyed=i,t.finished=s,t.length=r,t.pos=a,t.outputLen=o,t}clone(){return this._cloneInto()}}function Bp(e,t,n,r,s,i,o,a,l,c,u,d,f,A,m,y,B,h,g,w){let E=0;for(let v=0;v<r;v++)({a:s,b:l,c:f,d:B}=Tr(s,l,f,B,n[t+e[E++]])),{a:s,b:l,c:f,d:B}=Dr(s,l,f,B,n[t+e[E++]]),{a:i,b:c,c:A,d:h}=Tr(i,c,A,h,n[t+e[E++]]),{a:i,b:c,c:A,d:h}=Dr(i,c,A,h,n[t+e[E++]]),{a:o,b:u,c:m,d:g}=Tr(o,u,m,g,n[t+e[E++]]),{a:o,b:u,c:m,d:g}=Dr(o,u,m,g,n[t+e[E++]]),{a,b:d,c:y,d:w}=Tr(a,d,y,w,n[t+e[E++]]),{a,b:d,c:y,d:w}=Dr(a,d,y,w,n[t+e[E++]]),{a:s,b:c,c:m,d:w}=Tr(s,c,m,w,n[t+e[E++]]),{a:s,b:c,c:m,d:w}=Dr(s,c,m,w,n[t+e[E++]]),{a:i,b:u,c:y,d:B}=Tr(i,u,y,B,n[t+e[E++]]),{a:i,b:u,c:y,d:B}=Dr(i,u,y,B,n[t+e[E++]]),{a:o,b:d,c:f,d:h}=Tr(o,d,f,h,n[t+e[E++]]),{a:o,b:d,c:f,d:h}=Dr(o,d,f,h,n[t+e[E++]]),{a,b:l,c:A,d:g}=Tr(a,l,A,g,n[t+e[E++]]),{a,b:l,c:A,d:g}=Dr(a,l,A,g,n[t+e[E++]]);return{v0:s,v1:i,v2:o,v3:a,v4:l,v5:c,v6:u,v7:d,v8:f,v9:A,v10:m,v11:y,v12:B,v13:h,v14:g,v15:w}}const Fn={CHUNK_START:1,CHUNK_END:2,PARENT:4,ROOT:8,KEYED_HASH:16,DERIVE_KEY_CONTEXT:32,DERIVE_KEY_MATERIAL:64},ar=ur.slice(),Ip=(()=>{const e=Array.from({length:16},(r,s)=>s),t=r=>[2,6,3,10,7,0,4,13,1,11,12,5,9,14,15,8].map(s=>r[s]),n=[];for(let r=0,s=e;r<7;r++,s=t(s))n.push(...s);return Uint8Array.from(n)})();class sh extends w_{constructor(t={},n=0){super(64,t.dkLen===void 0?32:t.dkLen),this.chunkPos=0,this.chunksDone=0,this.flags=0,this.stack=[],this.posOut=0,this.bufferOut32=new Uint32Array(16),this.chunkOut=0,this.enableXOF=!0;const{key:r,context:s}=t,i=s!==void 0;if(r!==void 0){if(i)throw new Error('Only "key" or "context" can be specified at same time');const o=Ki(r).slice();Nn(o,32),this.IV=ya(o),_t(this.IV),this.flags=n|Fn.KEYED_HASH}else if(i){const o=Ki(s),a=new sh({dkLen:32},Fn.DERIVE_KEY_CONTEXT).update(o).digest();this.IV=ya(a),_t(this.IV),this.flags=n|Fn.DERIVE_KEY_MATERIAL}else this.IV=ar.slice(),this.flags=n;this.state=this.IV.slice(),this.bufferOut=e_(this.bufferOut32)}get(){return[]}set(){}b2Compress(t,n,r,s=0){const{state:i,pos:o}=this,{h:a,l}=Pf(BigInt(t),!0),{v0:c,v1:u,v2:d,v3:f,v4:A,v5:m,v6:y,v7:B,v8:h,v9:g,v10:w,v11:E,v12:v,v13:b,v14:C,v15:T}=Bp(Ip,s,r,7,i[0],i[1],i[2],i[3],i[4],i[5],i[6],i[7],ar[0],ar[1],ar[2],ar[3],a,l,o,n);i[0]=c^h,i[1]=u^g,i[2]=d^w,i[3]=f^E,i[4]=A^v,i[5]=m^b,i[6]=y^C,i[7]=B^T}compress(t,n=0,r=!1){let s=this.flags;if(this.chunkPos||(s|=Fn.CHUNK_START),(this.chunkPos===15||r)&&(s|=Fn.CHUNK_END),r||(this.pos=this.blockLen),this.b2Compress(this.chunksDone,s,t,n),this.chunkPos+=1,this.chunkPos===16||r){let i=this.state;this.state=this.IV.slice();for(let o,a=this.chunksDone+1;(r||!(a&1))&&(o=this.stack.pop());a>>=1)this.buffer32.set(o,0),this.buffer32.set(i,8),this.pos=this.blockLen,this.b2Compress(0,this.flags|Fn.PARENT,this.buffer32,0),i=this.state,this.state=this.IV.slice();this.chunksDone++,this.chunkPos=0,this.stack.push(i)}this.pos=0}_cloneInto(t){t=super._cloneInto(t);const{IV:n,flags:r,state:s,chunkPos:i,posOut:o,chunkOut:a,stack:l,chunksDone:c}=this;return t.state.set(s.slice()),t.stack=l.map(u=>Uint32Array.from(u)),t.IV.set(n),t.flags=r,t.chunkPos=i,t.chunksDone=c,t.posOut=o,t.chunkOut=a,t.enableXOF=this.enableXOF,t.bufferOut32.set(this.bufferOut32),t}destroy(){this.destroyed=!0,Qn(this.state,this.buffer32,this.IV,this.bufferOut32),Qn(...this.stack)}b2CompressOut(){const{state:t,pos:n,flags:r,buffer32:s,bufferOut32:i}=this,{h:o,l:a}=Pf(BigInt(this.chunkOut++));_t(s);const{v0:l,v1:c,v2:u,v3:d,v4:f,v5:A,v6:m,v7:y,v8:B,v9:h,v10:g,v11:w,v12:E,v13:v,v14:b,v15:C}=Bp(Ip,0,s,7,t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7],ar[0],ar[1],ar[2],ar[3],a,o,n,r);i[0]=l^B,i[1]=c^h,i[2]=u^g,i[3]=d^w,i[4]=f^E,i[5]=A^v,i[6]=m^b,i[7]=y^C,i[8]=t[0]^B,i[9]=t[1]^h,i[10]=t[2]^g,i[11]=t[3]^w,i[12]=t[4]^E,i[13]=t[5]^v,i[14]=t[6]^b,i[15]=t[7]^C,_t(s),_t(i),this.posOut=0}finish(){if(this.finished)return;this.finished=!0,Qn(this.buffer.subarray(this.pos));let t=this.flags|Fn.ROOT;this.stack.length?(t|=Fn.PARENT,_t(this.buffer32),this.compress(this.buffer32,0,!0),_t(this.buffer32),this.chunksDone=0,this.pos=this.blockLen):t|=(this.chunkPos?0:Fn.CHUNK_START)|Fn.CHUNK_END,this.flags=t,this.b2CompressOut()}writeInto(t){Hi(this,!1),Nn(t),this.finish();const{blockLen:n,bufferOut:r}=this;for(let s=0,i=t.length;s<i;){this.posOut>=n&&this.b2CompressOut();const o=Math.min(n-this.posOut,i-s);t.set(r.subarray(this.posOut,this.posOut+o),s),this.posOut+=o,s+=o}return t}xofInto(t){if(!this.enableXOF)throw new Error("XOF is not possible after digest call");return this.writeInto(t)}xof(t){return pa(t),this.xofInto(new Uint8Array(t))}digestInto(t){if(hu(t,this),this.finished)throw new Error("digest() was already called");return this.enableXOF=!1,this.writeInto(t),this.destroy(),t}digest(){return this.digestInto(new Uint8Array(this.outputLen))}}const E_=dw(e=>new sh(e)),B_=BigInt(0),yo=BigInt(1),I_=BigInt(2),v_=BigInt(7),C_=BigInt(256),b_=BigInt(113),hw=[],gw=[],pw=[];for(let e=0,t=yo,n=1,r=0;e<24;e++){[n,r]=[r,(2*n+3*r)%5],hw.push(2*(5*r+n)),gw.push((e+1)*(e+2)/2%64);let s=B_;for(let i=0;i<7;i++)t=(t<<yo^(t>>v_)*b_)%C_,t&I_&&(s^=yo<<(yo<<BigInt(i))-yo);pw.push(s)}const yw=Aw(pw,!0),x_=yw[0],__=yw[1],vp=(e,t,n)=>n>32?d_(e,t,n):c_(e,t,n),Cp=(e,t,n)=>n>32?f_(e,t,n):u_(e,t,n);function S_(e,t=24){const n=new Uint32Array(10);for(let r=24-t;r<24;r++){for(let o=0;o<10;o++)n[o]=e[o]^e[o+10]^e[o+20]^e[o+30]^e[o+40];for(let o=0;o<10;o+=2){const a=(o+8)%10,l=(o+2)%10,c=n[l],u=n[l+1],d=vp(c,u,1)^n[a],f=Cp(c,u,1)^n[a+1];for(let A=0;A<50;A+=10)e[o+A]^=d,e[o+A+1]^=f}let s=e[2],i=e[3];for(let o=0;o<24;o++){const a=gw[o],l=vp(s,i,a),c=Cp(s,i,a),u=hw[o];s=e[u],i=e[u+1],e[u]=l,e[u+1]=c}for(let o=0;o<50;o+=10){for(let a=0;a<10;a++)n[a]=e[o+a];for(let a=0;a<10;a++)e[o+a]^=~n[(a+2)%10]&n[(a+4)%10]}e[0]^=x_[r],e[1]^=__[r]}Qn(n)}class gu extends ih{constructor(t,n,r,s=!1,i=24){if(super(),this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,this.enableXOF=!1,this.blockLen=t,this.suffix=n,this.outputLen=r,this.enableXOF=s,this.rounds=i,pa(r),!(0<t&&t<200))throw new Error("only keccak-f1600 function is supported");this.state=new Uint8Array(200),this.state32=ya(this.state)}clone(){return this._cloneInto()}keccak(){_t(this.state32),S_(this.state32,this.rounds),_t(this.state32),this.posOut=0,this.pos=0}update(t){Hi(this),t=Ki(t),Nn(t);const{blockLen:n,state:r}=this,s=t.length;for(let i=0;i<s;){const o=Math.min(n-this.pos,s-i);for(let a=0;a<o;a++)r[this.pos++]^=t[i++];this.pos===n&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:t,suffix:n,pos:r,blockLen:s}=this;t[r]^=n,n&128&&r===s-1&&this.keccak(),t[s-1]^=128,this.keccak()}writeInto(t){Hi(this,!1),Nn(t),this.finish();const n=this.state,{blockLen:r}=this;for(let s=0,i=t.length;s<i;){this.posOut>=r&&this.keccak();const o=Math.min(r-this.posOut,i-s);t.set(n.subarray(this.posOut,this.posOut+o),s),this.posOut+=o,s+=o}return t}xofInto(t){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(t)}xof(t){return pa(t),this.xofInto(new Uint8Array(t))}digestInto(t){if(hu(t,this),this.finished)throw new Error("digest() was already called");return this.writeInto(t),this.destroy(),t}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,Qn(this.state)}_cloneInto(t){const{blockLen:n,suffix:r,outputLen:s,rounds:i,enableXOF:o}=this;return t||(t=new gu(n,r,s,o,i)),t.state32.set(this.state32),t.pos=this.pos,t.posOut=this.posOut,t.finished=this.finished,t.rounds=i,t.suffix=r,t.outputLen=s,t.enableXOF=o,t.destroyed=this.destroyed,t}}const pu=(e,t,n)=>Vi(()=>new gu(t,e,n)),k_=pu(6,144,224/8),R_=pu(6,136,256/8),Q_=pu(6,104,384/8),T_=pu(6,72,512/8),mw=(e,t,n)=>dw((r={})=>new gu(t,e,r.dkLen===void 0?n:r.dkLen,!0)),ww=mw(31,168,128/8),zt=mw(31,136,256/8),D_=Uint32Array.from([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Nr=new Uint32Array(64);class Ew extends fw{constructor(t=32){super(64,t,8,!1),this.A=ur[0]|0,this.B=ur[1]|0,this.C=ur[2]|0,this.D=ur[3]|0,this.E=ur[4]|0,this.F=ur[5]|0,this.G=ur[6]|0,this.H=ur[7]|0}get(){const{A:t,B:n,C:r,D:s,E:i,F:o,G:a,H:l}=this;return[t,n,r,s,i,o,a,l]}set(t,n,r,s,i,o,a,l){this.A=t|0,this.B=n|0,this.C=r|0,this.D=s|0,this.E=i|0,this.F=o|0,this.G=a|0,this.H=l|0}process(t,n){for(let d=0;d<16;d++,n+=4)Nr[d]=t.getUint32(n,!1);for(let d=16;d<64;d++){const f=Nr[d-15],A=Nr[d-2],m=Mt(f,7)^Mt(f,18)^f>>>3,y=Mt(A,17)^Mt(A,19)^A>>>10;Nr[d]=y+Nr[d-7]+m+Nr[d-16]|0}let{A:r,B:s,C:i,D:o,E:a,F:l,G:c,H:u}=this;for(let d=0;d<64;d++){const f=Mt(a,6)^Mt(a,11)^Mt(a,25),A=u+f+a_(a,l,c)+D_[d]+Nr[d]|0,y=(Mt(r,2)^Mt(r,13)^Mt(r,22))+l_(r,s,i)|0;u=c,c=l,l=a,a=o+A|0,o=i,i=s,s=r,r=A+y|0}r=r+this.A|0,s=s+this.B|0,i=i+this.C|0,o=o+this.D|0,a=a+this.E|0,l=l+this.F|0,c=c+this.G|0,u=u+this.H|0,this.set(r,s,i,o,a,l,c,u)}roundClean(){Qn(Nr)}destroy(){this.set(0,0,0,0,0,0,0,0),Qn(this.buffer)}}class N_ extends Ew{constructor(){super(28),this.A=Qr[0]|0,this.B=Qr[1]|0,this.C=Qr[2]|0,this.D=Qr[3]|0,this.E=Qr[4]|0,this.F=Qr[5]|0,this.G=Qr[6]|0,this.H=Qr[7]|0}}const Bw=Aw(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(e=>BigInt(e))),P_=Bw[0],M_=Bw[1],Pr=new Uint32Array(80),Mr=new Uint32Array(80);class yu extends fw{constructor(t=64){super(128,t,16,!1),this.Ah=wt[0]|0,this.Al=wt[1]|0,this.Bh=wt[2]|0,this.Bl=wt[3]|0,this.Ch=wt[4]|0,this.Cl=wt[5]|0,this.Dh=wt[6]|0,this.Dl=wt[7]|0,this.Eh=wt[8]|0,this.El=wt[9]|0,this.Fh=wt[10]|0,this.Fl=wt[11]|0,this.Gh=wt[12]|0,this.Gl=wt[13]|0,this.Hh=wt[14]|0,this.Hl=wt[15]|0}get(){const{Ah:t,Al:n,Bh:r,Bl:s,Ch:i,Cl:o,Dh:a,Dl:l,Eh:c,El:u,Fh:d,Fl:f,Gh:A,Gl:m,Hh:y,Hl:B}=this;return[t,n,r,s,i,o,a,l,c,u,d,f,A,m,y,B]}set(t,n,r,s,i,o,a,l,c,u,d,f,A,m,y,B){this.Ah=t|0,this.Al=n|0,this.Bh=r|0,this.Bl=s|0,this.Ch=i|0,this.Cl=o|0,this.Dh=a|0,this.Dl=l|0,this.Eh=c|0,this.El=u|0,this.Fh=d|0,this.Fl=f|0,this.Gh=A|0,this.Gl=m|0,this.Hh=y|0,this.Hl=B|0}process(t,n){for(let w=0;w<16;w++,n+=4)Pr[w]=t.getUint32(n),Mr[w]=t.getUint32(n+=4);for(let w=16;w<80;w++){const E=Pr[w-15]|0,v=Mr[w-15]|0,b=rs(E,v,1)^rs(E,v,8)^wp(E,v,7),C=is(E,v,1)^is(E,v,8)^Ep(E,v,7),T=Pr[w-2]|0,x=Mr[w-2]|0,R=rs(T,x,19)^gl(T,x,61)^wp(T,x,6),S=is(T,x,19)^pl(T,x,61)^Ep(T,x,6),$=g_(C,S,Mr[w-7],Mr[w-16]),Ae=p_($,b,R,Pr[w-7],Pr[w-16]);Pr[w]=Ae|0,Mr[w]=$|0}let{Ah:r,Al:s,Bh:i,Bl:o,Ch:a,Cl:l,Dh:c,Dl:u,Eh:d,El:f,Fh:A,Fl:m,Gh:y,Gl:B,Hh:h,Hl:g}=this;for(let w=0;w<80;w++){const E=rs(d,f,14)^rs(d,f,18)^gl(d,f,41),v=is(d,f,14)^is(d,f,18)^pl(d,f,41),b=d&A^~d&y,C=f&m^~f&B,T=y_(g,v,C,M_[w],Mr[w]),x=m_(T,h,E,b,P_[w],Pr[w]),R=T|0,S=rs(r,s,28)^gl(r,s,34)^gl(r,s,39),$=is(r,s,28)^pl(r,s,34)^pl(r,s,39),Ae=r&i^r&a^i&a,le=s&o^s&l^o&l;h=y|0,g=B|0,y=A|0,B=m|0,A=d|0,m=f|0,{h:d,l:f}=or(c|0,u|0,x|0,R|0),c=a|0,u=l|0,a=i|0,l=o|0,i=r|0,o=s|0;const me=A_(R,$,le);r=h_(me,x,S,Ae),s=me|0}({h:r,l:s}=or(this.Ah|0,this.Al|0,r|0,s|0)),{h:i,l:o}=or(this.Bh|0,this.Bl|0,i|0,o|0),{h:a,l}=or(this.Ch|0,this.Cl|0,a|0,l|0),{h:c,l:u}=or(this.Dh|0,this.Dl|0,c|0,u|0),{h:d,l:f}=or(this.Eh|0,this.El|0,d|0,f|0),{h:A,l:m}=or(this.Fh|0,this.Fl|0,A|0,m|0),{h:y,l:B}=or(this.Gh|0,this.Gl|0,y|0,B|0),{h,l:g}=or(this.Hh|0,this.Hl|0,h|0,g|0),this.set(r,s,i,o,a,l,c,u,d,f,A,m,y,B,h,g)}roundClean(){Qn(Pr,Mr)}destroy(){Qn(this.buffer),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}class F_ extends yu{constructor(){super(48),this.Ah=mt[0]|0,this.Al=mt[1]|0,this.Bh=mt[2]|0,this.Bl=mt[3]|0,this.Ch=mt[4]|0,this.Cl=mt[5]|0,this.Dh=mt[6]|0,this.Dl=mt[7]|0,this.Eh=mt[8]|0,this.El=mt[9]|0,this.Fh=mt[10]|0,this.Fl=mt[11]|0,this.Gh=mt[12]|0,this.Gl=mt[13]|0,this.Hh=mt[14]|0,this.Hl=mt[15]|0}}const Et=Uint32Array.from([2352822216,424955298,1944164710,2312950998,502970286,855612546,1738396948,1479516111,258812777,2077511080,2011393907,79989058,1067287976,1780299464,286451373,2446758561]),Bt=Uint32Array.from([573645204,4230739756,2673172387,3360449730,596883563,1867755857,2520282905,1497426621,2519219938,2827943907,3193839141,1401305490,721525244,746961066,246885852,2177182882]);class L_ extends yu{constructor(){super(28),this.Ah=Et[0]|0,this.Al=Et[1]|0,this.Bh=Et[2]|0,this.Bl=Et[3]|0,this.Ch=Et[4]|0,this.Cl=Et[5]|0,this.Dh=Et[6]|0,this.Dl=Et[7]|0,this.Eh=Et[8]|0,this.El=Et[9]|0,this.Fh=Et[10]|0,this.Fl=Et[11]|0,this.Gh=Et[12]|0,this.Gl=Et[13]|0,this.Hh=Et[14]|0,this.Hl=Et[15]|0}}class U_ extends yu{constructor(){super(32),this.Ah=Bt[0]|0,this.Al=Bt[1]|0,this.Bh=Bt[2]|0,this.Bl=Bt[3]|0,this.Ch=Bt[4]|0,this.Cl=Bt[5]|0,this.Dh=Bt[6]|0,this.Dl=Bt[7]|0,this.Eh=Bt[8]|0,this.El=Bt[9]|0,this.Fh=Bt[10]|0,this.Fl=Bt[11]|0,this.Gh=Bt[12]|0,this.Gl=Bt[13]|0,this.Hh=Bt[14]|0,this.Hl=Bt[15]|0}}const O_=Vi(()=>new Ew),H_=Vi(()=>new N_),K_=Vi(()=>new yu),j_=Vi(()=>new F_),z_=Vi(()=>new U_),G_=Vi(()=>new L_);/*! noble-post-quantum - MIT License (c) 2024 Paul Miller (paulmillr.com) */const Vn=Nn,Y_=s_;function X_(e,t){if(e.length!==t.length)return!1;let n=0;for(let r=0;r<e.length;r++)n|=e[r]^t[r];return n===0}function yl(...e){const t=r=>typeof r=="number"?r:r.bytesLen,n=e.reduce((r,s)=>r+t(s),0);return{bytesLen:n,encode:r=>{const s=new Uint8Array(n);for(let i=0,o=0;i<e.length;i++){const a=e[i],l=t(a),c=typeof a=="number"?r[i]:a.encode(r[i]);Vn(c,l),s.set(c,o),typeof a!="number"&&c.fill(0),o+=l}return s},decode:r=>{Vn(r,n);const s=[];for(const i of e){const o=t(i),a=r.subarray(0,o);s.push(typeof i=="number"?a:i.decode(a)),r=r.subarray(o)}return s}}}function ss(e,t){const n=t*e.bytesLen;return{bytesLen:n,encode:r=>{if(r.length!==t)throw new Error(`vecCoder.encode: wrong length=${r.length}. Expected: ${t}`);const s=new Uint8Array(n);for(let i=0,o=0;i<r.length;i++){const a=e.encode(r[i]);s.set(a,o),a.fill(0),o+=a.length}return s},decode:r=>{Vn(r,n);const s=[];for(let i=0;i<r.length;i+=e.bytesLen)s.push(e.decode(r.subarray(i,i+e.bytesLen)));return s}}}function bp(...e){for(const t of e)if(Array.isArray(t))for(const n of t)n.fill(0);else t.fill(0)}function xp(e){return(1<<e)-1}const vs=new Uint8Array(0);function _p(e,t=vs){if(Vn(e),Vn(t),t.length>255)throw new Error("context should be less than 255 bytes");return uw(new Uint8Array([0,t.length]),t,e)}const Sp={"SHA2-256":{oid:rn("0609608648016503040201"),hash:O_},"SHA2-384":{oid:rn("0609608648016503040202"),hash:j_},"SHA2-512":{oid:rn("0609608648016503040203"),hash:K_},"SHA2-224":{oid:rn("0609608648016503040204"),hash:H_},"SHA2-512/224":{oid:rn("0609608648016503040205"),hash:G_},"SHA2-512/256":{oid:rn("0609608648016503040206"),hash:z_},"SHA3-224":{oid:rn("0609608648016503040207"),hash:k_},"SHA3-256":{oid:rn("0609608648016503040208"),hash:R_},"SHA3-384":{oid:rn("0609608648016503040209"),hash:Q_},"SHA3-512":{oid:rn("060960864801650304020A"),hash:T_},"SHAKE-128":{oid:rn("060960864801650304020B"),hash:e=>ww(e,{dkLen:32})},"SHAKE-256":{oid:rn("060960864801650304020C"),hash:e=>zt(e,{dkLen:64})}};function kp(e,t,n=vs){if(Vn(t),Vn(n),n.length>255)throw new Error("context should be less than 255 bytes");if(!Sp[e])throw new Error("unknown hash: "+e);const{oid:r,hash:s}=Sp[e],i=s(t);return uw(new Uint8Array([1,n.length]),n,r,i)}/*! noble-post-quantum - MIT License (c) 2024 Paul Miller (paulmillr.com) */function W_(e,t=8){const s=e.toString(2).padStart(8,"0").slice(-t).padStart(7,"0").split("").reverse().join("");return Number.parseInt(s,2)}const V_=e=>{const{newPoly:t,N:n,Q:r,F:s,ROOT_OF_UNITY:i,brvBits:o}=e,a=(y,B=r)=>{const h=y%B|0;return(h>=0?h|0:B+h|0)|0},l=(y,B=r)=>{const h=a(y,B)|0;return(h>B>>1?h-B|0:h)|0};function c(){const y=t(n);for(let B=0;B<n;B++){const h=W_(B,o),g=BigInt(i)**BigInt(h)%BigInt(r);y[B]=Number(g)|0}return y}const u=c(),d=n,f=0;return{mod:a,smod:l,nttZetas:u,NTT:{encode:y=>{for(let B=1,h=128;h>f;h>>=1)for(let g=0;g<n;g+=2*h){const w=u[B++];for(let E=g;E<g+h;E++){const v=a(w*y[E+h]);y[E+h]=a(y[E]-v)|0,y[E]=a(y[E]+v)|0}}return y},decode:y=>{for(let B=d-1,h=1+f;h<d+f;h<<=1)for(let g=0;g<n;g+=2*h){const w=u[B--];for(let E=g;E<g+h;E++){const v=y[E];y[E]=a(v+y[E+h]),y[E+h]=a(w*(y[E+h]-v))}}for(let B=0;B<y.length;B++)y[B]=a(s*y[B]);return y}},bitsCoder:(y,B)=>{const h=xp(y),g=y*(n/8);return{bytesLen:g,encode:w=>{const E=new Uint8Array(g);for(let v=0,b=0,C=0,T=0;v<w.length;v++)for(b|=(B.encode(w[v])&h)<<C,C+=y;C>=8;C-=8,b>>=8)E[T++]=b&xp(C);return E},decode:w=>{const E=t(n);for(let v=0,b=0,C=0,T=0;v<w.length;v++)for(b|=w[v]<<C,C+=8;C>=y;C-=y,b>>=y)E[T++]=B.decode(b&h);return E}}}}},Iw=e=>(t,n)=>{n||(n=e.blockLen);const r=new Uint8Array(t.length+2);r.set(t);const s=t.length,i=new Uint8Array(n);let o=e.create({}),a=0,l=0;return{stats:()=>({calls:a,xofs:l}),get:(c,u)=>(r[s+0]=c,r[s+1]=u,o.destroy(),o=e.create({}).update(r),a++,()=>(l++,o.xofInto(i))),clean:()=>{o.destroy(),i.fill(0),r.fill(0)}}},$_=Iw(ww),J_=Iw(zt);/*! noble-post-quantum - MIT License (c) 2024 Paul Miller (paulmillr.com) */const Pe=256,Vr=8380417,q_=1753,Z_=8347681,Go=13,Rp=Math.floor((Vr-1)/88)|0,vw=Math.floor((Vr-1)/32)|0,eS={5:{K:8,L:7,D:Go,GAMMA1:2**19,GAMMA2:vw,TAU:60,ETA:2,OMEGA:75}},an=e=>new Int32Array(e),{mod:Si,smod:Fl,NTT:bt,bitsCoder:tS}=V_({N:Pe,Q:Vr,F:Z_,ROOT_OF_UNITY:q_,newPoly:an,brvBits:8}),Qp=e=>e,mo=(e,t=Qp,n=Qp)=>tS(e,{encode:r=>t(n(r)),decode:r=>n(t(r))}),os=(e,t)=>{for(let n=0;n<e.length;n++)e[n]=Si(e[n]+t[n]);return e},Tp=(e,t)=>{for(let n=0;n<e.length;n++)e[n]=Si(e[n]-t[n]);return e},nS=e=>{for(let t=0;t<Pe;t++)e[t]<<=Go;return e},wo=(e,t)=>{for(let n=0;n<Pe;n++)if(Math.abs(Fl(e[n]))>=t)return!0;return!1},pi=(e,t)=>{const n=an(Pe);for(let r=0;r<e.length;r++)n[r]=Si(e[r]*t[r]);return n};function hd(e){const t=an(Pe);for(let n=0;n<Pe;){const r=e();if(r.length%3)throw new Error("RejNTTPoly: unaligned block");for(let s=0;n<Pe&&s<=r.length-3;s+=3){const i=(r[s+0]|r[s+1]<<8|r[s+2]<<16)&8388607;i<Vr&&(t[n++]=i)}}return t}function rS(e){const{K:t,L:n,GAMMA1:r,GAMMA2:s,TAU:i,ETA:o,OMEGA:a}=e,{CRH_BYTES:l,TR_BYTES:c,C_TILDE_BYTES:u,XOF128:d,XOF256:f}=e;if(![2,4].includes(o))throw new Error("Wrong ETA");if(![1<<17,1<<19].includes(r))throw new Error("Wrong GAMMA1");if(![Rp,vw].includes(s))throw new Error("Wrong GAMMA2");const A=i*o,m=P=>{const j=Si(P),L=Fl(j,2*s)|0;return j-L===Vr-1?{r1:0,r0:L-1|0}:{r1:Math.floor((j-L)/(2*s))|0,r0:L}},y=P=>m(P).r1,B=P=>m(P).r0,h=(P,j)=>P<=s||P>Vr-s||P===Vr-s&&j===0?0:1,g=(P,j)=>{const L=Math.floor((Vr-1)/(2*s)),{r1:Y,r0:V}=m(j);return P===1?V>0?Si(Y+1,L)|0:Si(Y-1,L)|0:Y|0},w=P=>{const j=Si(P),L=Fl(j,2**Go)|0;return{r1:Math.floor((j-L)/2**Go)|0,r0:L}},E={bytesLen:a+t,encode:P=>{if(P===!1)throw new Error("hint.encode: hint is false");const j=new Uint8Array(a+t);for(let L=0,Y=0;L<t;L++){for(let V=0;V<Pe;V++)P[L][V]!==0&&(j[Y++]=V);j[a+L]=Y}return j},decode:P=>{const j=[];let L=0;for(let Y=0;Y<t;Y++){const V=an(Pe);if(P[a+Y]<L||P[a+Y]>a)return!1;for(let H=L;H<P[a+Y];H++){if(H>L&&P[H]<=P[H-1])return!1;V[P[H]]=1}L=P[a+Y],j.push(V)}for(let Y=L;Y<a;Y++)if(P[Y]!==0)return!1;return j}},v=mo(o===2?3:4,P=>o-P,P=>{if(!(-o<=P&&P<=o))throw new Error(`malformed key s1/s3 ${P} outside of ETA range [${-o}, ${o}]`);return P}),b=mo(13,P=>(1<<Go-1)-P),C=mo(10),T=mo(r===1<<17?18:20,P=>Fl(r-P)),x=mo(s===Rp?6:4),R=ss(x,t),S=yl(32,ss(C,t)),$=yl(32,32,c,ss(v,n),ss(v,t),ss(b,t)),Ae=yl(u,ss(T,n),E),le=o===2?P=>P<15?2-P%5:!1:P=>P<9?4-P:!1;function me(P){const j=an(Pe);for(let L=0;L<Pe;){const Y=P();for(let V=0;L<Pe&&V<Y.length;V+=1){const H=le(Y[V]&15),W=le(Y[V]>>4&15);H!==!1&&(j[L++]=H),L<Pe&&W!==!1&&(j[L++]=W)}}return j}const K=P=>{const j=an(Pe),L=zt.create({}).update(P),Y=new Uint8Array(zt.blockLen);L.xofInto(Y);const V=Y.slice(0,8);for(let H=Pe-i,W=8,J=0,ne=0;H<Pe;H++){let te=H+1;for(;te>H;)te=Y[W++],!(W<zt.blockLen)&&(L.xofInto(Y),W=0);j[H]=j[te],j[te]=1-((V[J]>>ne++&1)<<1),ne>=8&&(J++,ne=0)}return j},Ue=P=>{const j=an(Pe),L=an(Pe);for(let Y=0;Y<P.length;Y++){const{r0:V,r1:H}=w(P[Y]);j[Y]=V,L[Y]=H}return{r0:j,r1:L}},M=(P,j)=>{for(let L=0;L<Pe;L++)P[L]=g(j[L],P[L]);return P},O=(P,j)=>{const L=an(Pe);let Y=0;for(let V=0;V<Pe;V++){const H=h(P[V],j[V]);L[V]=H,Y+=H}return{v:L,cnt:Y}},F=32,_=yl(32,64,32),N={signRandBytes:F,keygen:P=>{const j=new Uint8Array(34),L=P===void 0;L&&(P=Y_(32)),Vn(P,32),j.set(P),L&&P.fill(0),j[32]=t,j[33]=n;const[Y,V,H]=_.decode(zt(j,{dkLen:_.bytesLen})),W=f(V),J=[];for(let ue=0;ue<n;ue++)J.push(me(W.get(ue&255,ue>>8&255)));const ne=[];for(let ue=n;ue<n+t;ue++)ne.push(me(W.get(ue&255,ue>>8&255)));const te=J.map(ue=>bt.encode(ue.slice())),ee=[],ae=[],pe=d(Y),Je=an(Pe);for(let ue=0;ue<t;ue++){Je.fill(0);for(let ct=0;ct<n;ct++){const wn=hd(pe.get(ct,ue));os(Je,pi(wn,te[ct]))}bt.decode(Je);const{r0:xe,r1:Dt}=Ue(os(Je,ne[ue]));ee.push(xe),ae.push(Dt)}const tt=S.encode([Y,ae]),nt=zt(tt,{dkLen:c}),se=$.encode([Y,H,nt,J,ne,ee]);return pe.clean(),W.clean(),bp(Y,V,H,J,ne,te,Je,ee,ae,nt,j),{publicKey:tt,secretKey:se}},sign:(P,j,L,Y=!1)=>{const[V,H,W,J,ne,te]=$.decode(P),ee=[],ae=d(V);for(let se=0;se<t;se++){const ue=[];for(let xe=0;xe<n;xe++)ue.push(hd(ae.get(xe,se)));ee.push(ue)}ae.clean();for(let se=0;se<n;se++)bt.encode(J[se]);for(let se=0;se<t;se++)bt.encode(ne[se]),bt.encode(te[se]);const pe=Y?j:zt.create({dkLen:l}).update(W).update(j).digest(),Je=L||new Uint8Array(32);Vn(Je);const tt=zt.create({dkLen:l}).update(H).update(Je).update(pe).digest();Vn(tt,l);const nt=f(tt,T.bytesLen);e:for(let se=0;;){const ue=[];for(let be=0;be<n;be++,se++)ue.push(T.decode(nt.get(se&255,se>>8)()));const xe=ue.map(be=>bt.encode(be.slice())),Dt=[];for(let be=0;be<t;be++){const br=an(Pe);for(let Bn=0;Bn<n;Bn++)os(br,pi(ee[be][Bn],xe[Bn]));bt.decode(br),Dt.push(br)}const ct=Dt.map(be=>be.map(y)),wn=zt.create({dkLen:u}).update(pe).update(R.encode(ct)).digest(),ut=bt.encode(K(wn)),er=J.map(be=>pi(be,ut));for(let be=0;be<n;be++)if(os(bt.decode(er[be]),ue[be]),wo(er[be],r-A))continue e;let En=0;const Js=[];for(let be=0;be<t;be++){const br=bt.decode(pi(ne[be],ut)),Bn=Tp(Dt[be],br).map(B);if(wo(Bn,s-A))continue e;const qi=bt.decode(pi(te[be],ut));if(wo(qi,s))continue e;os(Bn,qi);const rt=O(Bn,ct[be]);Js.push(rt.v),En+=rt.cnt}if(En>a)continue;nt.clean();const Ji=Ae.encode([wn,er,Js]);return bp(wn,er,Js,ut,ct,Dt,xe,ue,tt,pe,J,ne,te,...ee),Ji}throw new Error("Unreachable code path reached, report this error")},verify:(P,j,L,Y=!1)=>{const[V,H]=S.decode(P),W=zt(P,{dkLen:c});if(L.length!==Ae.bytesLen)return!1;const[J,ne,te]=Ae.decode(L);if(te===!1)return!1;for(let se=0;se<n;se++)if(wo(ne[se],r-A))return!1;const ee=Y?j:zt.create({dkLen:l}).update(W).update(j).digest(),ae=bt.encode(K(J)),pe=ne.map(se=>se.slice());for(let se=0;se<n;se++)bt.encode(pe[se]);const Je=[],tt=d(V);for(let se=0;se<t;se++){const ue=pi(bt.encode(nS(H[se])),ae),xe=an(Pe);for(let ct=0;ct<n;ct++){const wn=hd(tt.get(ct,se));os(xe,pi(wn,pe[ct]))}const Dt=bt.decode(Tp(xe,ue));Je.push(M(Dt,te[se]))}tt.clean();const nt=zt.create({dkLen:u}).update(ee).update(R.encode(Je)).digest();for(const se of te)if(!(se.reduce((xe,Dt)=>xe+Dt,0)<=a))return!1;for(const se of ne)if(wo(se,r-A))return!1;return X_(J,nt)}};return{internal:N,keygen:N.keygen,signRandBytes:N.signRandBytes,sign:(P,j,L=vs,Y)=>{const V=_p(j,L),H=N.sign(P,V,Y);return V.fill(0),H},verify:(P,j,L,Y=vs)=>N.verify(P,_p(j,Y),L),prehash:P=>({sign:(j,L,Y=vs,V)=>{const H=kp(P,L,Y),W=N.sign(j,H,V);return H.fill(0),W},verify:(j,L,Y,V=vs)=>N.verify(j,kp(P,L,V),Y)})}}const ml=rS({...eS[5],CRH_BYTES:64,TR_BYTES:64,C_TILDE_BYTES:64,XOF128:$_,XOF256:J_});var v0;const un=(v0=globalThis.crypto)==null?void 0:v0.subtle;class St{}Ie(St,"AES_KEY_SIZE",256),Ie(St,"IV_LENGTH",16),Ie(St,"AUTH_TAG_LENGTH",16),Ie(St,"HKDF_HASH","SHA-512"),Ie(St,"HKDF_INFO",new TextEncoder().encode("endtoend-chat hybrid key v1")),Ie(St,"X25519_DERIVE_BITS",256);class it{static arrayBufferToBase64(t){const n=t instanceof Uint8Array?t:new Uint8Array(t);let r="";for(let s=0;s<n.byteLength;s++)r+=String.fromCharCode(n[s]);return btoa(r)}static base64ToUint8Array(t){const n=atob(t),r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}static base64ToArrayBuffer(t){return this.base64ToUint8Array(t).buffer}static stringToArrayBuffer(t){return new TextEncoder().encode(t).buffer}}class Mf{static parseArgon2Hash(t){const n=t.split("$");if(n.length!==6)throw new Error("Invalid Argon2 encoded hash format");const[,r,s,i,o,a]=n,l=parseInt(s.split("=")[1],10),c={};i.split(",").forEach(d=>{const[f,A]=d.split("=");f&&A&&(c[f]=Number(A))});const u=Uint8Array.from(atob(a),d=>d.charCodeAt(0));return{version:l,algorithm:r,salt:o,memoryCost:c.m,timeCost:c.t,parallelism:c.p,hash:u}}static async hashDataUsingInfo(t,n){if(!(n!=null&&n.salt))throw new Error("Salt is required");const r=it.base64ToUint8Array(n.salt),i={argon2d:0,argon2i:1,argon2id:2}[(n.algorithm??"argon2id").toLowerCase()]??2,o={pass:t,salt:r,time:n.timeCost??3,mem:n.memoryCost??65536,parallelism:n.parallelism??1,type:i,version:n.version??19,hashLen:32};return(await Is.hash(o)).encoded}static async hashData(t){const n=crypto.getRandomValues(new Uint8Array(16)),r={pass:t,salt:n,time:3,mem:2**16,parallelism:1,type:2,version:19,hashLen:32};return(await Is.hash(r)).encoded}static async verifyHash(t,n){return(await Is.verify({pass:n,encoded:t})).verified}static async generateBlake3Mac(t,n){const r=E_.create({key:n});return r.update(t),r.digest()}static async verifyBlake3Mac(t,n,r){const s=await this.generateBlake3Mac(t,n);if(s.length!==r.length)return!1;let i=0;for(let o=0;o<s.length;o++)i|=s[o]^r[o];return i===0}static async deriveKeyFromPassphrase(t,n){const r=n!=null&&n.salt?it.base64ToUint8Array(n.salt):crypto.getRandomValues(new Uint8Array(16));let{time:s=5,memoryCost:i=2**17,parallelism:o=2,algorithm:a=2,version:l=19,hashLen:c=32}=n||{};if(typeof a=="string")switch(a.toLowerCase()){case"argon2d":a=0;break;case"argon2i":a=1;break;case"argon2id":a=2;break;default:throw new Error(`Unknown Argon2 algorithm: ${a}`)}const u={pass:t,salt:r,time:s,mem:i,parallelism:o,type:a,version:l,hashLen:c};return(await Is.hash(u)).hash}}class iS{static async generateAESKey(){return await crypto.subtle.generateKey({name:"AES-GCM",length:256},!0,["encrypt","decrypt"])}static async importAESKey(t){const n=t instanceof Uint8Array?t.buffer:t;return await crypto.subtle.importKey("raw",n,{name:"AES-GCM",length:256},!0,["encrypt","decrypt"])}static async exportAESKey(t){return await crypto.subtle.exportKey("raw",t)}static async deriveAESKeyFromPassphrase(t,n){const r=n!=null&&n.saltBase64?it.base64ToUint8Array(n.saltBase64):crypto.getRandomValues(new Uint8Array(16));let{time:s=5,memoryCost:i=2**17,parallelism:o=2,algorithm:a=2,version:l=19,hashLen:c=32}=n||{};if(typeof a=="string")switch(a.toLowerCase()){case"argon2d":a=0;break;case"argon2i":a=1;break;case"argon2id":a=2;break;default:throw new Error(`Unknown Argon2 algorithm: ${a}`)}const u={pass:t,salt:r,time:s,mem:i,parallelism:o,type:a,version:l,hashLen:c},d=await Is.hash(u),f=d.hash;return{aesKey:await this.importAESKey(f),encodedHash:d.encoded}}static async importRawAesKey(t){return await this.importAESKey(t)}}class fr{static async _loadNobleIfNeeded(){if(this.nobleX)return this.nobleX;try{const t=await Me(()=>import("./ed25519-B7aCHRcn.js"),[]),n=t.x25519||t.x25519;return this.nobleX=n,n}catch(t){try{const r=(await Me(()=>import("./index-BQzrUxzF.js"),[])).x25519;if(!r)throw t;return this.nobleX=r,r}catch(n){throw console.warn("Noble x25519 dynamic import failed:",n),new Error("No X25519 implementation available in this environment")}}}static supportsWebCryptoX25519(){try{return!(!un||typeof un.generateKey!="function")}catch{return!1}}static async generateKeyPair(){if(this.supportsWebCryptoX25519())try{return await un.generateKey({name:"X25519"},!0,["deriveBits"])}catch(s){console.warn("WebCrypto X25519 failed; falling back to noble",s)}const t=await this._loadNobleIfNeeded(),n=t.utils.randomPrivateKey(),r=t.getPublicKey(n);return{privateKeyBytes:n,publicKeyBytes:r}}static async generateKeyPairFromPrivateKey(t){return{publicKeyBytes:(await this._loadNobleIfNeeded()).getPublicKey(t),privateKeyBytes:t}}static async exportPublicRaw(t){if(t.type){const n=await un.exportKey("raw",t);return new Uint8Array(n)}else return t.publicKeyBytes}static async importPublicRaw(t){if(this.supportsWebCryptoX25519())try{return await un.importKey("raw",t,{name:"X25519"},!0,[])}catch(n){console.warn("WebCrypto importKey raw failed; using raw bytes",n)}return t}static async deriveSharedSecret(t,n){if(this.supportsWebCryptoX25519()&&t.type){const o=await un.deriveBits({name:"X25519",public:await this.importPublicRaw(n)},t,St.X25519_DERIVE_BITS);return new Uint8Array(o)}const r=await this._loadNobleIfNeeded(),s=t.privateKeyBytes??t,i=r.getSharedSecret(s,n);return new Uint8Array(i.slice(0,32))}}Ie(fr,"nobleX",null);class _o{static kyberInstance(){return new qx}static async generateKeyPair(){const n=await this.kyberInstance().generateKeyPair();if(Array.isArray(n)){const[r,s]=n;return{publicKey:new Uint8Array(r),secretKey:new Uint8Array(s)}}else{if(n.publicKey&&n.secretKey)return{publicKey:new Uint8Array(n.publicKey),secretKey:new Uint8Array(n.secretKey)};throw new Error("Unexpected Kyber generateKeyPair result")}}static async generateKeyPairFromSeed(t){const r=await this.kyberInstance().generateKeyPair();if(Array.isArray(r)){const[s,i]=r;return{publicKey:new Uint8Array(s),secretKey:new Uint8Array(i)}}else{if(r.publicKey&&r.secretKey)return{publicKey:new Uint8Array(r.publicKey),secretKey:new Uint8Array(r.secretKey)};throw new Error("Unexpected Kyber generateKeyPair result")}}static async encapsulate(t){const r=await this.kyberInstance().encap(t);if(Array.isArray(r)){const[s,i]=r;return{ciphertext:new Uint8Array(s),sharedSecret:new Uint8Array(i)}}else{if(r.ciphertext&&r.sharedSecret)return{ciphertext:new Uint8Array(r.ciphertext),sharedSecret:new Uint8Array(r.sharedSecret)};throw new Error("Unexpected Kyber encap shape")}}static async decapsulate(t,n){const s=await this.kyberInstance().decap(t,n);return new Uint8Array(s)}}class sS{static async generateKeyPair(){const t=await ml.keygen(void 0);return{publicKey:new Uint8Array(t.publicKey),secretKey:new Uint8Array(t.secretKey)}}static async sign(t,n){const r=await ml.sign(t,n);return new Uint8Array(r)}static async verify(t,n,r){try{return await ml.verify(r,n,t)}catch(s){try{return await ml.verify(t,n,r)}catch(i){return console.warn("[Dilithium] verify failed with both orders:",(s==null?void 0:s.message)||s,"|",(i==null?void 0:i.message)||i),!1}}}}class Ff{static async deriveAesCryptoKeyFromIkm(t,n){const r=await un.importKey("raw",t,{name:"HKDF"},!1,["deriveKey"]);return await un.deriveKey({name:"HKDF",hash:St.HKDF_HASH,salt:n,info:St.HKDF_INFO},r,{name:"AES-GCM",length:St.AES_KEY_SIZE},!0,["encrypt","decrypt"])}static async hkdfDerive(t,n,r,s){const i=await un.importKey("raw",t,{name:"HKDF"},!1,["deriveBits"]),o=await un.deriveBits({name:"HKDF",hash:St.HKDF_HASH,salt:n,info:r},i,s*8);return new Uint8Array(o)}}class Gn{static async encryptWithAesGcmRaw(t,n){let r;typeof t=="string"?r=new TextEncoder().encode(t):r=t instanceof Uint8Array?t:new Uint8Array(t);const s=crypto.getRandomValues(new Uint8Array(St.IV_LENGTH)),i=await un.encrypt({name:"AES-GCM",iv:s,tagLength:St.AUTH_TAG_LENGTH*8},n,r),o=new Uint8Array(i),a=o.slice(0,-16),l=o.slice(-16);return{iv:s,authTag:l,encrypted:a}}static async decryptWithAesGcmRaw(t,n,r,s){const i=new Uint8Array(r.length+n.length);i.set(r,0),i.set(n,r.length);const o=await un.decrypt({name:"AES-GCM",iv:t,tagLength:St.AUTH_TAG_LENGTH*8},s,i);return new TextDecoder().decode(o)}static serializeEncryptedData(t,n,r){const i=2+t.length+1+n.length+4+r.length,o=new Uint8Array(i);let a=0;o[a++]=1,o[a++]=t.length,o.set(t,a),a+=t.length,o[a++]=n.length,o.set(n,a),a+=n.length;const l=r.length;return o[a++]=l>>>24&255,o[a++]=l>>>16&255,o[a++]=l>>>8&255,o[a++]=l&255,o.set(r,a),it.arrayBufferToBase64(o)}static deserializeEncryptedData(t){const n=new Uint8Array(it.base64ToUint8Array(t));let r=0;if(n[r++]!==1)throw new Error("Unsupported version");const i=n[r++],o=n.slice(r,r+i);r+=i;const a=n[r++],l=n.slice(r,r+a);r+=a;const c=n[r]<<24|n[r+1]<<16|n[r+2]<<8|n[r+3];r+=4;const u=n.slice(r,r+c);return{iv:o,authTag:l,encrypted:u}}}class oS{static async encryptWithAES(t,n){const{iv:r,authTag:s,encrypted:i}=await Gn.encryptWithAesGcmRaw(t,n);return Gn.serializeEncryptedData(r,s,i)}static async encryptBinaryWithAES(t,n){return await Gn.encryptWithAesGcmRaw(t,n)}static serializeEncryptedData(t,n,r){return Gn.serializeEncryptedData(t,n,r)}static async encryptAndFormatPayload(t){const{recipientHybridKeys:n,from:r,to:s,type:i,...o}=t;if(!n)return JSON.stringify(t);const a=await D.Hybrid.encryptHybridPayload(o,n);return JSON.stringify({...r&&{from:r},...s&&{to:s},...i&&{type:i},...a})}}class aS{static deserializeEncryptedDataFromUint8Array(t){const n=new Uint8Array(t);let r=0;if(n[r++]!==1)throw new Error("Unsupported version");const i=n[r++],o=n.slice(r,r+i);r+=i;const a=n[r++],l=n.slice(r,r+a);r+=a;const c=n[r]<<24|n[r+1]<<16|n[r+2]<<8|n[r+3];r+=4;const u=n.slice(r,r+c);return{iv:o,authTag:l,encrypted:u}}static async decryptWithAESRaw(t,n,r,s){return await Gn.decryptWithAesGcmRaw(t,n,r,s)}}class lS{static async generateHybridKeyPair(){const t=await fr.generateKeyPair(),n=await _o.generateKeyPair();let r;if(t.publicKey)r=await fr.exportPublicRaw(t.publicKey);else if(t.publicKeyBytes)r=t.publicKeyBytes;else throw new Error("Unexpected xkp shape");return{x25519:{private:t.privateKey??t.privateKeyBytes,publicKeyBase64:it.arrayBufferToBase64(r)},kyber:{publicKeyBase64:it.arrayBufferToBase64(n.publicKey),secretKey:n.secretKey}}}static async generateHybridKeyPairFromSeed(t){const n=await fr._loadNobleIfNeeded(),s=new TextEncoder().encode(t),i=await crypto.subtle.digest("SHA-256",s),o=new Uint8Array(i),a=n.utils.randomPrivateKey();for(let d=0;d<32;d++)a[d]=o[d];a[0]&=248,a[31]&=127,a[31]|=64;const l=n.getPublicKey(a),c=o.slice(32,64),u=await _o.generateKeyPairFromSeed(c);return{x25519:{private:a,publicKeyBase64:it.arrayBufferToBase64(l)},kyber:{publicKeyBase64:it.arrayBufferToBase64(u.publicKey),secretKey:u.secretKey}}}static async encryptHybridPayload(t,n){if(!(n!=null&&n.x25519PublicBase64)||!(n!=null&&n.kyberPublicBase64))throw new Error("recipient must include x25519PublicBase64 and kyberPublicBase64");const r=await fr.generateKeyPair();let s;r.publicKey?s=await fr.exportPublicRaw(r.publicKey):s=r.publicKeyBytes;const i=it.base64ToUint8Array(n.kyberPublicBase64),{ciphertext:o,sharedSecret:a}=await _o.encapsulate(i),l=it.base64ToUint8Array(n.x25519PublicBase64),c=await fr.deriveSharedSecret(r.privateKey??r.privateKeyBytes,l),u=new Uint8Array(c.length+a.length);u.set(c,0),u.set(a,c.length);const d=await crypto.subtle.digest("SHA-512",(()=>{const C=new Uint8Array(s.length+o.length);return C.set(s,0),C.set(o,s.length),C})()),f=new Uint8Array(d).slice(0,32),A=await Ff.deriveAesCryptoKeyFromIkm(u,f),m=JSON.stringify(t),{iv:y,authTag:B,encrypted:h}=await Gn.encryptWithAesGcmRaw(m,A),g=Gn.serializeEncryptedData(y,B,h),w=new TextEncoder().encode(m),E=u.slice(0,32),v=await Mf.generateBlake3Mac(w,E),b=it.arrayBufferToBase64(v);return{version:"hybrid-v1",ephemeralX25519Public:it.arrayBufferToBase64(s),kyberCiphertext:it.arrayBufferToBase64(o),encryptedMessage:g,blake3Mac:b}}static async decryptHybridPayload(t,n){var g,w;if(!t||t.version!=="hybrid-v1")throw new Error("Invalid payload version");const{ephemeralX25519Public:r,kyberCiphertext:s,encryptedMessage:i}=t;if(!r||!s||!i)throw new Error("Missing fields");const o=it.base64ToUint8Array(r),a=it.base64ToUint8Array(s),l=(g=n==null?void 0:n.kyber)==null?void 0:g.secretKey;if(!l)throw new Error("localHybridKeys.kyber.secretKey required");const c=await _o.decapsulate(a,l),u=(w=n==null?void 0:n.x25519)==null?void 0:w.private;if(!u)throw new Error("localHybridKeys.x25519.private required");const d=await fr.deriveSharedSecret(u,o),f=new Uint8Array(d.length+c.length);f.set(d,0),f.set(c,d.length);const A=await crypto.subtle.digest("SHA-512",(()=>{const E=new Uint8Array(o.length+a.length);return E.set(o,0),E.set(a,o.length),E})()),m=new Uint8Array(A).slice(0,32),y=await Ff.deriveAesCryptoKeyFromIkm(f,m),B=Gn.deserializeEncryptedData(i),h=await Gn.decryptWithAesGcmRaw(B.iv,B.authTag,B.encrypted,y);if(t.blake3Mac){const E=new TextEncoder().encode(h),v=it.base64ToUint8Array(t.blake3Mac),b=f.slice(0,32);if(!await Mf.verifyBlake3Mac(E,b,v))throw new Error("BLAKE3 MAC verification failed - hybrid payload integrity compromised")}return JSON.parse(h)}}const D={Config:St,Base64:it,Hash:Mf,Keys:iS,Encrypt:oS,Decrypt:aS,Hybrid:lS,X25519:fr,Kyber:_o,Dilithium:sS,AES:Gn,KDF:Ff};class Uc{static get(){try{const t=localStorage.getItem(this.storageKey);if(!t)return null;const n=JSON.parse(t);return typeof(n==null?void 0:n.x25519PublicBase64)=="string"&&typeof(n==null?void 0:n.kyberPublicBase64)=="string"?{x25519PublicBase64:n.x25519PublicBase64,kyberPublicBase64:n.kyberPublicBase64}:null}catch{return null}}static set(t){try{localStorage.setItem(this.storageKey,JSON.stringify(t))}catch{}}static clear(){try{localStorage.removeItem(this.storageKey)}catch{}}}Ie(Uc,"storageKey","securechat_server_pin_v1");var oe=(e=>(e.PUBLICKEYS="public-keys",e.FILE_MESSAGE="file-message",e.FILE_MESSAGE_CHUNK="file-message-chunk",e.ENCRYPTED_MESSAGE="encrypted-message",e.USER_DISCONNECT="user-disconnect",e.SERVERLIMIT="server-limit",e.ERROR="ERROR",e.SERVERMESSAGE="server-message",e.NAMEEXISTSERROR="name-exists-error",e.INVALIDNAMELENGTH="invalid-name-length",e.INVALIDNAME="invalid-name",e.SERVER_PASSWORD_ENCRYPTED="server-password-encrypted",e.SERVER_PUBLIC_KEY="server-public-key",e.SERVER_LOGIN="server-login",e.ACCOUNT_SIGN_IN="account-sign-in",e.ACCOUNT_SIGN_UP="account-sign-up",e.IN_ACCOUNT="in-account",e.DELETE_MESSAGE="delete-message",e.EDIT_MESSAGE="edit-message",e.AUTH_ERROR="AUTH_ERROR",e.AUTH_SUCCESS="AUTH_SUCCESS",e.PASSPHRASE_HASH="passphrase-hash",e.PASSPHRASE_HASH_NEW="passphrase-hash-new",e.PASSPHRASE_SUCCESS="passphrase-success",e.UPDATE_DB="update-db",e.HYBRID_KEYS="hybrid-keys",e.HYBRID_KEYS_UPDATE="hybrid-keys-update",e.X3DH_PUBLISH_BUNDLE="x3dh-publish-bundle",e.X3DH_REQUEST_BUNDLE="x3dh-request-bundle",e.X3DH_DELIVER_BUNDLE="x3dh-deliver-bundle",e.DR_SEND="dr-send",e.TYPING_START="typing-start",e.TYPING_STOP="typing-stop",e.MESSAGE_DELIVERED="message-delivered",e.MESSAGE_READ="message-read",e))(oe||{});async function cS(e,t){var v,b,C,T;const{Authentication:n,Database:r,handleFileMessageChunk:s,handleEncryptedMessagePayload:i}=t,{type:o,message:a}=e,{setUsers:l}=r,{setServerHybridPublic:c,handleAuthSuccess:u,loginUsernameRef:d,aesKeyRef:f,setAccountAuthenticated:A,setIsLoggedIn:m,setLoginError:y,setPassphraseHashParams:B,passphrasePlaintextRef:h,passphraseRef:g,setShowPassphrasePrompt:w,passwordRef:E}=n;try{switch(o){case"public-keys":{const x=JSON.parse(a);l(Object.entries(x).map(([R,S])=>({id:ga(),username:R,isTyping:!1,isOnline:!0,hybridPublicKeys:S})));break}case"server-public-key":{const x=e.hybridKeys;if(console.log("Received server hybrid keys: ",{x25519PublicBase64:((v=x==null?void 0:x.x25519PublicBase64)==null?void 0:v.substring(0,20))+"...",kyberPublicBase64:((b=x==null?void 0:x.kyberPublicBase64)==null?void 0:b.substring(0,20))+"...",fullX25519:x==null?void 0:x.x25519PublicBase64,fullKyber:x==null?void 0:x.kyberPublicBase64}),x!=null&&x.x25519PublicBase64&&(x!=null&&x.kyberPublicBase64)){const R=Uc.get();if(!R)Uc.set({x25519PublicBase64:x.x25519PublicBase64,kyberPublicBase64:x.kyberPublicBase64}),c(x),console.log("Server hybrid keys stored (pinned)");else if(R.x25519PublicBase64!==x.x25519PublicBase64||R.kyberPublicBase64!==x.kyberPublicBase64){console.error("[Signals] Server hybrid keys changed! Prompting user to trust new server keys."),(T=(C=t.Authentication).setServerTrustRequest)==null||T.call(C,{newKeys:{x25519PublicBase64:x.x25519PublicBase64,kyberPublicBase64:x.kyberPublicBase64},pinned:R});break}else c(x);try{console.debug("[Signals] Server hybrid keys set",{x25519Len:((x==null?void 0:x.x25519PublicBase64)||"").length,kyberLen:((x==null?void 0:x.kyberPublicBase64)||"").length})}catch{}}else console.error("Invalid server hybrid keys format");break}case"hybrid-keys":{const{username:x,hybridKeys:R}=e;x&&R&&l(S=>S.map($=>$.username===x?{...$,hybridPublicKeys:R}:$));break}case"AUTH_SUCCESS":{u(d.current);break}case"passphrase-hash":{const{version:x,algorithm:R,salt:S,memoryCost:$,timeCost:Ae,parallelism:le,message:me}=e||{};x!==void 0&&R!==void 0&&S!==void 0&&$!==void 0&&Ae!==void 0&&le!==void 0&&me!==void 0&&B({version:x,algorithm:R,salt:S,memoryCost:$,timeCost:Ae,parallelism:le,message:me}),w(!0);break}case"passphrase-success":{const x=D.Hash.parseArgon2Hash(g.current),{aesKey:R}=await D.Keys.deriveAESKeyFromPassphrase(h.current,{saltBase64:x.salt,time:x.timeCost,memoryCost:x.memoryCost,parallelism:x.parallelism,algorithm:x.algorithm,version:x.version});f.current=R,w(!1);break}case"message-delivered":{const{messageId:x,from:R}=e||{};if(x&&R){const S=new CustomEvent("message-delivered",{detail:{messageId:x,from:R}});window.dispatchEvent(S)}break}case"encrypted-message":case"dr-send":case"user-disconnect":case"edit-message":case"delete-message":{if(t.handleEncryptedMessagePayload){try{console.debug("[Signals] Dispatching to encrypted handler",{type:o,keys:Object.keys(e||{})})}catch{}await t.handleEncryptedMessagePayload(e)}break}case"x3dh-deliver-bundle":break;case"in-account":{A(!0),E.current="";break}case"file-message-chunk":{await s(e,{from:e.from});break}case"name-exists-error":case"invalid-name-length":case"invalid-name":case"AUTH_ERROR":case"server-limit":{m(!1),y(`Login error: ${a}`);break}default:console.warn("Unhandled signal type: ",o)}}catch(x){console.error("Error handling server message:",x),y("Error processing server message")}}function uS({onCancelEdit:e}){return p.jsx("div",{className:"px-4 pt-3 pb-0",children:p.jsxs("div",{className:ie("flex items-center justify-between p-3 border-l-4 rounded-lg shadow-sm","bg-gradient-to-r from-yellow-50 to-yellow-100 border-yellow-400 text-yellow-900"),children:[p.jsx("span",{className:"text-sm font-medium",children:"Editing message"}),p.jsx(Dn,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0 text-yellow-600 hover:text-yellow-800",onClick:e,children:p.jsx($m,{className:"h-4 w-4"})})]})})}function dS({replyTo:e,onCancelReply:t}){return p.jsx("div",{className:"px-4 pt-3 pb-0",children:p.jsxs("div",{className:ie("flex items-start gap-3 p-3 border-l-4 rounded-lg shadow-sm transition-colors duration-200","bg-gradient-to-r from-slate-50 to-slate-100 border-slate-400 text-slate-900"),children:[p.jsxs("div",{className:"flex-1 min-w-0",children:[p.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[p.jsx("svg",{className:ie("w-4 h-4","text-slate-500"),fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 10h10a8 8 0 018 8v2M3 10l6 6m-6-6l6-6"})}),p.jsx("span",{className:"text-sm font-semibold text-slate-700",children:e.sender})]}),p.jsxs("p",{className:"text-sm line-clamp-2 text-slate-600",children:[e.content.slice(0,100),e.content.length>100&&"..."]})]}),p.jsx(Dn,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0 transition-colors hover:bg-slate-200 text-slate-500 hover:text-slate-700",onClick:t,children:p.jsx($m,{className:"h-4 w-4"})})]})})}/*! pako 2.1.0 https://github.com/nodeca/pako @license (MIT AND Zlib) */const fS=4,Dp=0,Np=1,AS=2;function Ws(e){let t=e.length;for(;--t>=0;)e[t]=0}const hS=0,Cw=1,gS=2,pS=3,yS=258,oh=29,Na=256,ma=Na+1+oh,Qs=30,ah=19,bw=2*ma+1,ki=15,gd=16,mS=7,lh=256,xw=16,_w=17,Sw=18,Lf=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),Ll=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),wS=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),kw=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),ES=512,hr=new Array((ma+2)*2);Ws(hr);const Yo=new Array(Qs*2);Ws(Yo);const wa=new Array(ES);Ws(wa);const Ea=new Array(yS-pS+1);Ws(Ea);const ch=new Array(oh);Ws(ch);const Oc=new Array(Qs);Ws(Oc);function pd(e,t,n,r,s){this.static_tree=e,this.extra_bits=t,this.extra_base=n,this.elems=r,this.max_length=s,this.has_stree=e&&e.length}let Rw,Qw,Tw;function yd(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t}const Dw=e=>e<256?wa[e]:wa[256+(e>>>7)],Ba=(e,t)=>{e.pending_buf[e.pending++]=t&255,e.pending_buf[e.pending++]=t>>>8&255},Ut=(e,t,n)=>{e.bi_valid>gd-n?(e.bi_buf|=t<<e.bi_valid&65535,Ba(e,e.bi_buf),e.bi_buf=t>>gd-e.bi_valid,e.bi_valid+=n-gd):(e.bi_buf|=t<<e.bi_valid&65535,e.bi_valid+=n)},zn=(e,t,n)=>{Ut(e,n[t*2],n[t*2+1])},Nw=(e,t)=>{let n=0;do n|=e&1,e>>>=1,n<<=1;while(--t>0);return n>>>1},BS=e=>{e.bi_valid===16?(Ba(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):e.bi_valid>=8&&(e.pending_buf[e.pending++]=e.bi_buf&255,e.bi_buf>>=8,e.bi_valid-=8)},IS=(e,t)=>{const n=t.dyn_tree,r=t.max_code,s=t.stat_desc.static_tree,i=t.stat_desc.has_stree,o=t.stat_desc.extra_bits,a=t.stat_desc.extra_base,l=t.stat_desc.max_length;let c,u,d,f,A,m,y=0;for(f=0;f<=ki;f++)e.bl_count[f]=0;for(n[e.heap[e.heap_max]*2+1]=0,c=e.heap_max+1;c<bw;c++)u=e.heap[c],f=n[n[u*2+1]*2+1]+1,f>l&&(f=l,y++),n[u*2+1]=f,!(u>r)&&(e.bl_count[f]++,A=0,u>=a&&(A=o[u-a]),m=n[u*2],e.opt_len+=m*(f+A),i&&(e.static_len+=m*(s[u*2+1]+A)));if(y!==0){do{for(f=l-1;e.bl_count[f]===0;)f--;e.bl_count[f]--,e.bl_count[f+1]+=2,e.bl_count[l]--,y-=2}while(y>0);for(f=l;f!==0;f--)for(u=e.bl_count[f];u!==0;)d=e.heap[--c],!(d>r)&&(n[d*2+1]!==f&&(e.opt_len+=(f-n[d*2+1])*n[d*2],n[d*2+1]=f),u--)}},Pw=(e,t,n)=>{const r=new Array(ki+1);let s=0,i,o;for(i=1;i<=ki;i++)s=s+n[i-1]<<1,r[i]=s;for(o=0;o<=t;o++){let a=e[o*2+1];a!==0&&(e[o*2]=Nw(r[a]++,a))}},vS=()=>{let e,t,n,r,s;const i=new Array(ki+1);for(n=0,r=0;r<oh-1;r++)for(ch[r]=n,e=0;e<1<<Lf[r];e++)Ea[n++]=r;for(Ea[n-1]=r,s=0,r=0;r<16;r++)for(Oc[r]=s,e=0;e<1<<Ll[r];e++)wa[s++]=r;for(s>>=7;r<Qs;r++)for(Oc[r]=s<<7,e=0;e<1<<Ll[r]-7;e++)wa[256+s++]=r;for(t=0;t<=ki;t++)i[t]=0;for(e=0;e<=143;)hr[e*2+1]=8,e++,i[8]++;for(;e<=255;)hr[e*2+1]=9,e++,i[9]++;for(;e<=279;)hr[e*2+1]=7,e++,i[7]++;for(;e<=287;)hr[e*2+1]=8,e++,i[8]++;for(Pw(hr,ma+1,i),e=0;e<Qs;e++)Yo[e*2+1]=5,Yo[e*2]=Nw(e,5);Rw=new pd(hr,Lf,Na+1,ma,ki),Qw=new pd(Yo,Ll,0,Qs,ki),Tw=new pd(new Array(0),wS,0,ah,mS)},Mw=e=>{let t;for(t=0;t<ma;t++)e.dyn_ltree[t*2]=0;for(t=0;t<Qs;t++)e.dyn_dtree[t*2]=0;for(t=0;t<ah;t++)e.bl_tree[t*2]=0;e.dyn_ltree[lh*2]=1,e.opt_len=e.static_len=0,e.sym_next=e.matches=0},Fw=e=>{e.bi_valid>8?Ba(e,e.bi_buf):e.bi_valid>0&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0},Pp=(e,t,n,r)=>{const s=t*2,i=n*2;return e[s]<e[i]||e[s]===e[i]&&r[t]<=r[n]},md=(e,t,n)=>{const r=e.heap[n];let s=n<<1;for(;s<=e.heap_len&&(s<e.heap_len&&Pp(t,e.heap[s+1],e.heap[s],e.depth)&&s++,!Pp(t,r,e.heap[s],e.depth));)e.heap[n]=e.heap[s],n=s,s<<=1;e.heap[n]=r},Mp=(e,t,n)=>{let r,s,i=0,o,a;if(e.sym_next!==0)do r=e.pending_buf[e.sym_buf+i++]&255,r+=(e.pending_buf[e.sym_buf+i++]&255)<<8,s=e.pending_buf[e.sym_buf+i++],r===0?zn(e,s,t):(o=Ea[s],zn(e,o+Na+1,t),a=Lf[o],a!==0&&(s-=ch[o],Ut(e,s,a)),r--,o=Dw(r),zn(e,o,n),a=Ll[o],a!==0&&(r-=Oc[o],Ut(e,r,a)));while(i<e.sym_next);zn(e,lh,t)},Uf=(e,t)=>{const n=t.dyn_tree,r=t.stat_desc.static_tree,s=t.stat_desc.has_stree,i=t.stat_desc.elems;let o,a,l=-1,c;for(e.heap_len=0,e.heap_max=bw,o=0;o<i;o++)n[o*2]!==0?(e.heap[++e.heap_len]=l=o,e.depth[o]=0):n[o*2+1]=0;for(;e.heap_len<2;)c=e.heap[++e.heap_len]=l<2?++l:0,n[c*2]=1,e.depth[c]=0,e.opt_len--,s&&(e.static_len-=r[c*2+1]);for(t.max_code=l,o=e.heap_len>>1;o>=1;o--)md(e,n,o);c=i;do o=e.heap[1],e.heap[1]=e.heap[e.heap_len--],md(e,n,1),a=e.heap[1],e.heap[--e.heap_max]=o,e.heap[--e.heap_max]=a,n[c*2]=n[o*2]+n[a*2],e.depth[c]=(e.depth[o]>=e.depth[a]?e.depth[o]:e.depth[a])+1,n[o*2+1]=n[a*2+1]=c,e.heap[1]=c++,md(e,n,1);while(e.heap_len>=2);e.heap[--e.heap_max]=e.heap[1],IS(e,t),Pw(n,l,e.bl_count)},Fp=(e,t,n)=>{let r,s=-1,i,o=t[0*2+1],a=0,l=7,c=4;for(o===0&&(l=138,c=3),t[(n+1)*2+1]=65535,r=0;r<=n;r++)i=o,o=t[(r+1)*2+1],!(++a<l&&i===o)&&(a<c?e.bl_tree[i*2]+=a:i!==0?(i!==s&&e.bl_tree[i*2]++,e.bl_tree[xw*2]++):a<=10?e.bl_tree[_w*2]++:e.bl_tree[Sw*2]++,a=0,s=i,o===0?(l=138,c=3):i===o?(l=6,c=3):(l=7,c=4))},Lp=(e,t,n)=>{let r,s=-1,i,o=t[0*2+1],a=0,l=7,c=4;for(o===0&&(l=138,c=3),r=0;r<=n;r++)if(i=o,o=t[(r+1)*2+1],!(++a<l&&i===o)){if(a<c)do zn(e,i,e.bl_tree);while(--a!==0);else i!==0?(i!==s&&(zn(e,i,e.bl_tree),a--),zn(e,xw,e.bl_tree),Ut(e,a-3,2)):a<=10?(zn(e,_w,e.bl_tree),Ut(e,a-3,3)):(zn(e,Sw,e.bl_tree),Ut(e,a-11,7));a=0,s=i,o===0?(l=138,c=3):i===o?(l=6,c=3):(l=7,c=4)}},CS=e=>{let t;for(Fp(e,e.dyn_ltree,e.l_desc.max_code),Fp(e,e.dyn_dtree,e.d_desc.max_code),Uf(e,e.bl_desc),t=ah-1;t>=3&&e.bl_tree[kw[t]*2+1]===0;t--);return e.opt_len+=3*(t+1)+5+5+4,t},bS=(e,t,n,r)=>{let s;for(Ut(e,t-257,5),Ut(e,n-1,5),Ut(e,r-4,4),s=0;s<r;s++)Ut(e,e.bl_tree[kw[s]*2+1],3);Lp(e,e.dyn_ltree,t-1),Lp(e,e.dyn_dtree,n-1)},xS=e=>{let t=4093624447,n;for(n=0;n<=31;n++,t>>>=1)if(t&1&&e.dyn_ltree[n*2]!==0)return Dp;if(e.dyn_ltree[9*2]!==0||e.dyn_ltree[10*2]!==0||e.dyn_ltree[13*2]!==0)return Np;for(n=32;n<Na;n++)if(e.dyn_ltree[n*2]!==0)return Np;return Dp};let Up=!1;const _S=e=>{Up||(vS(),Up=!0),e.l_desc=new yd(e.dyn_ltree,Rw),e.d_desc=new yd(e.dyn_dtree,Qw),e.bl_desc=new yd(e.bl_tree,Tw),e.bi_buf=0,e.bi_valid=0,Mw(e)},Lw=(e,t,n,r)=>{Ut(e,(hS<<1)+(r?1:0),3),Fw(e),Ba(e,n),Ba(e,~n),n&&e.pending_buf.set(e.window.subarray(t,t+n),e.pending),e.pending+=n},SS=e=>{Ut(e,Cw<<1,3),zn(e,lh,hr),BS(e)},kS=(e,t,n,r)=>{let s,i,o=0;e.level>0?(e.strm.data_type===AS&&(e.strm.data_type=xS(e)),Uf(e,e.l_desc),Uf(e,e.d_desc),o=CS(e),s=e.opt_len+3+7>>>3,i=e.static_len+3+7>>>3,i<=s&&(s=i)):s=i=n+5,n+4<=s&&t!==-1?Lw(e,t,n,r):e.strategy===fS||i===s?(Ut(e,(Cw<<1)+(r?1:0),3),Mp(e,hr,Yo)):(Ut(e,(gS<<1)+(r?1:0),3),bS(e,e.l_desc.max_code+1,e.d_desc.max_code+1,o+1),Mp(e,e.dyn_ltree,e.dyn_dtree)),Mw(e),r&&Fw(e)},RS=(e,t,n)=>(e.pending_buf[e.sym_buf+e.sym_next++]=t,e.pending_buf[e.sym_buf+e.sym_next++]=t>>8,e.pending_buf[e.sym_buf+e.sym_next++]=n,t===0?e.dyn_ltree[n*2]++:(e.matches++,t--,e.dyn_ltree[(Ea[n]+Na+1)*2]++,e.dyn_dtree[Dw(t)*2]++),e.sym_next===e.sym_end);var QS=_S,TS=Lw,DS=kS,NS=RS,PS=SS,MS={_tr_init:QS,_tr_stored_block:TS,_tr_flush_block:DS,_tr_tally:NS,_tr_align:PS};const FS=(e,t,n,r)=>{let s=e&65535|0,i=e>>>16&65535|0,o=0;for(;n!==0;){o=n>2e3?2e3:n,n-=o;do s=s+t[r++]|0,i=i+s|0;while(--o);s%=65521,i%=65521}return s|i<<16|0};var Ia=FS;const LS=()=>{let e,t=[];for(var n=0;n<256;n++){e=n;for(var r=0;r<8;r++)e=e&1?3988292384^e>>>1:e>>>1;t[n]=e}return t},US=new Uint32Array(LS()),OS=(e,t,n,r)=>{const s=US,i=r+n;e^=-1;for(let o=r;o<i;o++)e=e>>>8^s[(e^t[o])&255];return e^-1};var st=OS,ji={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},mu={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_UNKNOWN:2,Z_DEFLATED:8};const{_tr_init:HS,_tr_stored_block:Of,_tr_flush_block:KS,_tr_tally:si,_tr_align:jS}=MS,{Z_NO_FLUSH:oi,Z_PARTIAL_FLUSH:zS,Z_FULL_FLUSH:GS,Z_FINISH:dn,Z_BLOCK:Op,Z_OK:At,Z_STREAM_END:Hp,Z_STREAM_ERROR:$n,Z_DATA_ERROR:YS,Z_BUF_ERROR:wd,Z_DEFAULT_COMPRESSION:XS,Z_FILTERED:WS,Z_HUFFMAN_ONLY:wl,Z_RLE:VS,Z_FIXED:$S,Z_DEFAULT_STRATEGY:JS,Z_UNKNOWN:qS,Z_DEFLATED:wu}=mu,ZS=9,ek=15,tk=8,nk=29,rk=256,Hf=rk+1+nk,ik=30,sk=19,ok=2*Hf+1,ak=15,ye=3,$r=258,Jn=$r+ye+1,lk=32,Ks=42,uh=57,Kf=69,jf=73,zf=91,Gf=103,Ri=113,So=666,kt=1,Vs=2,zi=3,$s=4,ck=3,Qi=(e,t)=>(e.msg=ji[t],t),Kp=e=>e*2-(e>4?9:0),Gr=e=>{let t=e.length;for(;--t>=0;)e[t]=0},uk=e=>{let t,n,r,s=e.w_size;t=e.hash_size,r=t;do n=e.head[--r],e.head[r]=n>=s?n-s:0;while(--t);t=s,r=t;do n=e.prev[--r],e.prev[r]=n>=s?n-s:0;while(--t)};let dk=(e,t,n)=>(t<<e.hash_shift^n)&e.hash_mask,ai=dk;const Gt=e=>{const t=e.state;let n=t.pending;n>e.avail_out&&(n=e.avail_out),n!==0&&(e.output.set(t.pending_buf.subarray(t.pending_out,t.pending_out+n),e.next_out),e.next_out+=n,t.pending_out+=n,e.total_out+=n,e.avail_out-=n,t.pending-=n,t.pending===0&&(t.pending_out=0))},Vt=(e,t)=>{KS(e,e.block_start>=0?e.block_start:-1,e.strstart-e.block_start,t),e.block_start=e.strstart,Gt(e.strm)},Be=(e,t)=>{e.pending_buf[e.pending++]=t},Eo=(e,t)=>{e.pending_buf[e.pending++]=t>>>8&255,e.pending_buf[e.pending++]=t&255},Yf=(e,t,n,r)=>{let s=e.avail_in;return s>r&&(s=r),s===0?0:(e.avail_in-=s,t.set(e.input.subarray(e.next_in,e.next_in+s),n),e.state.wrap===1?e.adler=Ia(e.adler,t,s,n):e.state.wrap===2&&(e.adler=st(e.adler,t,s,n)),e.next_in+=s,e.total_in+=s,s)},Uw=(e,t)=>{let n=e.max_chain_length,r=e.strstart,s,i,o=e.prev_length,a=e.nice_match;const l=e.strstart>e.w_size-Jn?e.strstart-(e.w_size-Jn):0,c=e.window,u=e.w_mask,d=e.prev,f=e.strstart+$r;let A=c[r+o-1],m=c[r+o];e.prev_length>=e.good_match&&(n>>=2),a>e.lookahead&&(a=e.lookahead);do if(s=t,!(c[s+o]!==m||c[s+o-1]!==A||c[s]!==c[r]||c[++s]!==c[r+1])){r+=2,s++;do;while(c[++r]===c[++s]&&c[++r]===c[++s]&&c[++r]===c[++s]&&c[++r]===c[++s]&&c[++r]===c[++s]&&c[++r]===c[++s]&&c[++r]===c[++s]&&c[++r]===c[++s]&&r<f);if(i=$r-(f-r),r=f-$r,i>o){if(e.match_start=t,o=i,i>=a)break;A=c[r+o-1],m=c[r+o]}}while((t=d[t&u])>l&&--n!==0);return o<=e.lookahead?o:e.lookahead},js=e=>{const t=e.w_size;let n,r,s;do{if(r=e.window_size-e.lookahead-e.strstart,e.strstart>=t+(t-Jn)&&(e.window.set(e.window.subarray(t,t+t-r),0),e.match_start-=t,e.strstart-=t,e.block_start-=t,e.insert>e.strstart&&(e.insert=e.strstart),uk(e),r+=t),e.strm.avail_in===0)break;if(n=Yf(e.strm,e.window,e.strstart+e.lookahead,r),e.lookahead+=n,e.lookahead+e.insert>=ye)for(s=e.strstart-e.insert,e.ins_h=e.window[s],e.ins_h=ai(e,e.ins_h,e.window[s+1]);e.insert&&(e.ins_h=ai(e,e.ins_h,e.window[s+ye-1]),e.prev[s&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=s,s++,e.insert--,!(e.lookahead+e.insert<ye)););}while(e.lookahead<Jn&&e.strm.avail_in!==0)},Ow=(e,t)=>{let n=e.pending_buf_size-5>e.w_size?e.w_size:e.pending_buf_size-5,r,s,i,o=0,a=e.strm.avail_in;do{if(r=65535,i=e.bi_valid+42>>3,e.strm.avail_out<i||(i=e.strm.avail_out-i,s=e.strstart-e.block_start,r>s+e.strm.avail_in&&(r=s+e.strm.avail_in),r>i&&(r=i),r<n&&(r===0&&t!==dn||t===oi||r!==s+e.strm.avail_in)))break;o=t===dn&&r===s+e.strm.avail_in?1:0,Of(e,0,0,o),e.pending_buf[e.pending-4]=r,e.pending_buf[e.pending-3]=r>>8,e.pending_buf[e.pending-2]=~r,e.pending_buf[e.pending-1]=~r>>8,Gt(e.strm),s&&(s>r&&(s=r),e.strm.output.set(e.window.subarray(e.block_start,e.block_start+s),e.strm.next_out),e.strm.next_out+=s,e.strm.avail_out-=s,e.strm.total_out+=s,e.block_start+=s,r-=s),r&&(Yf(e.strm,e.strm.output,e.strm.next_out,r),e.strm.next_out+=r,e.strm.avail_out-=r,e.strm.total_out+=r)}while(o===0);return a-=e.strm.avail_in,a&&(a>=e.w_size?(e.matches=2,e.window.set(e.strm.input.subarray(e.strm.next_in-e.w_size,e.strm.next_in),0),e.strstart=e.w_size,e.insert=e.strstart):(e.window_size-e.strstart<=a&&(e.strstart-=e.w_size,e.window.set(e.window.subarray(e.w_size,e.w_size+e.strstart),0),e.matches<2&&e.matches++,e.insert>e.strstart&&(e.insert=e.strstart)),e.window.set(e.strm.input.subarray(e.strm.next_in-a,e.strm.next_in),e.strstart),e.strstart+=a,e.insert+=a>e.w_size-e.insert?e.w_size-e.insert:a),e.block_start=e.strstart),e.high_water<e.strstart&&(e.high_water=e.strstart),o?$s:t!==oi&&t!==dn&&e.strm.avail_in===0&&e.strstart===e.block_start?Vs:(i=e.window_size-e.strstart,e.strm.avail_in>i&&e.block_start>=e.w_size&&(e.block_start-=e.w_size,e.strstart-=e.w_size,e.window.set(e.window.subarray(e.w_size,e.w_size+e.strstart),0),e.matches<2&&e.matches++,i+=e.w_size,e.insert>e.strstart&&(e.insert=e.strstart)),i>e.strm.avail_in&&(i=e.strm.avail_in),i&&(Yf(e.strm,e.window,e.strstart,i),e.strstart+=i,e.insert+=i>e.w_size-e.insert?e.w_size-e.insert:i),e.high_water<e.strstart&&(e.high_water=e.strstart),i=e.bi_valid+42>>3,i=e.pending_buf_size-i>65535?65535:e.pending_buf_size-i,n=i>e.w_size?e.w_size:i,s=e.strstart-e.block_start,(s>=n||(s||t===dn)&&t!==oi&&e.strm.avail_in===0&&s<=i)&&(r=s>i?i:s,o=t===dn&&e.strm.avail_in===0&&r===s?1:0,Of(e,e.block_start,r,o),e.block_start+=r,Gt(e.strm)),o?zi:kt)},Ed=(e,t)=>{let n,r;for(;;){if(e.lookahead<Jn){if(js(e),e.lookahead<Jn&&t===oi)return kt;if(e.lookahead===0)break}if(n=0,e.lookahead>=ye&&(e.ins_h=ai(e,e.ins_h,e.window[e.strstart+ye-1]),n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),n!==0&&e.strstart-n<=e.w_size-Jn&&(e.match_length=Uw(e,n)),e.match_length>=ye)if(r=si(e,e.strstart-e.match_start,e.match_length-ye),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=ye){e.match_length--;do e.strstart++,e.ins_h=ai(e,e.ins_h,e.window[e.strstart+ye-1]),n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart;while(--e.match_length!==0);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=ai(e,e.ins_h,e.window[e.strstart+1]);else r=si(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(r&&(Vt(e,!1),e.strm.avail_out===0))return kt}return e.insert=e.strstart<ye-1?e.strstart:ye-1,t===dn?(Vt(e,!0),e.strm.avail_out===0?zi:$s):e.sym_next&&(Vt(e,!1),e.strm.avail_out===0)?kt:Vs},as=(e,t)=>{let n,r,s;for(;;){if(e.lookahead<Jn){if(js(e),e.lookahead<Jn&&t===oi)return kt;if(e.lookahead===0)break}if(n=0,e.lookahead>=ye&&(e.ins_h=ai(e,e.ins_h,e.window[e.strstart+ye-1]),n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=ye-1,n!==0&&e.prev_length<e.max_lazy_match&&e.strstart-n<=e.w_size-Jn&&(e.match_length=Uw(e,n),e.match_length<=5&&(e.strategy===WS||e.match_length===ye&&e.strstart-e.match_start>4096)&&(e.match_length=ye-1)),e.prev_length>=ye&&e.match_length<=e.prev_length){s=e.strstart+e.lookahead-ye,r=si(e,e.strstart-1-e.prev_match,e.prev_length-ye),e.lookahead-=e.prev_length-1,e.prev_length-=2;do++e.strstart<=s&&(e.ins_h=ai(e,e.ins_h,e.window[e.strstart+ye-1]),n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart);while(--e.prev_length!==0);if(e.match_available=0,e.match_length=ye-1,e.strstart++,r&&(Vt(e,!1),e.strm.avail_out===0))return kt}else if(e.match_available){if(r=si(e,0,e.window[e.strstart-1]),r&&Vt(e,!1),e.strstart++,e.lookahead--,e.strm.avail_out===0)return kt}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(r=si(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<ye-1?e.strstart:ye-1,t===dn?(Vt(e,!0),e.strm.avail_out===0?zi:$s):e.sym_next&&(Vt(e,!1),e.strm.avail_out===0)?kt:Vs},fk=(e,t)=>{let n,r,s,i;const o=e.window;for(;;){if(e.lookahead<=$r){if(js(e),e.lookahead<=$r&&t===oi)return kt;if(e.lookahead===0)break}if(e.match_length=0,e.lookahead>=ye&&e.strstart>0&&(s=e.strstart-1,r=o[s],r===o[++s]&&r===o[++s]&&r===o[++s])){i=e.strstart+$r;do;while(r===o[++s]&&r===o[++s]&&r===o[++s]&&r===o[++s]&&r===o[++s]&&r===o[++s]&&r===o[++s]&&r===o[++s]&&s<i);e.match_length=$r-(i-s),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=ye?(n=si(e,1,e.match_length-ye),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(n=si(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),n&&(Vt(e,!1),e.strm.avail_out===0))return kt}return e.insert=0,t===dn?(Vt(e,!0),e.strm.avail_out===0?zi:$s):e.sym_next&&(Vt(e,!1),e.strm.avail_out===0)?kt:Vs},Ak=(e,t)=>{let n;for(;;){if(e.lookahead===0&&(js(e),e.lookahead===0)){if(t===oi)return kt;break}if(e.match_length=0,n=si(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,n&&(Vt(e,!1),e.strm.avail_out===0))return kt}return e.insert=0,t===dn?(Vt(e,!0),e.strm.avail_out===0?zi:$s):e.sym_next&&(Vt(e,!1),e.strm.avail_out===0)?kt:Vs};function Ln(e,t,n,r,s){this.good_length=e,this.max_lazy=t,this.nice_length=n,this.max_chain=r,this.func=s}const ko=[new Ln(0,0,0,0,Ow),new Ln(4,4,8,4,Ed),new Ln(4,5,16,8,Ed),new Ln(4,6,32,32,Ed),new Ln(4,4,16,16,as),new Ln(8,16,32,32,as),new Ln(8,16,128,128,as),new Ln(8,32,128,256,as),new Ln(32,128,258,1024,as),new Ln(32,258,258,4096,as)],hk=e=>{e.window_size=2*e.w_size,Gr(e.head),e.max_lazy_match=ko[e.level].max_lazy,e.good_match=ko[e.level].good_length,e.nice_match=ko[e.level].nice_length,e.max_chain_length=ko[e.level].max_chain,e.strstart=0,e.block_start=0,e.lookahead=0,e.insert=0,e.match_length=e.prev_length=ye-1,e.match_available=0,e.ins_h=0};function gk(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=wu,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(ok*2),this.dyn_dtree=new Uint16Array((2*ik+1)*2),this.bl_tree=new Uint16Array((2*sk+1)*2),Gr(this.dyn_ltree),Gr(this.dyn_dtree),Gr(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(ak+1),this.heap=new Uint16Array(2*Hf+1),Gr(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(2*Hf+1),Gr(this.depth),this.sym_buf=0,this.lit_bufsize=0,this.sym_next=0,this.sym_end=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}const Pa=e=>{if(!e)return 1;const t=e.state;return!t||t.strm!==e||t.status!==Ks&&t.status!==uh&&t.status!==Kf&&t.status!==jf&&t.status!==zf&&t.status!==Gf&&t.status!==Ri&&t.status!==So?1:0},Hw=e=>{if(Pa(e))return Qi(e,$n);e.total_in=e.total_out=0,e.data_type=qS;const t=e.state;return t.pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=t.wrap===2?uh:t.wrap?Ks:Ri,e.adler=t.wrap===2?0:1,t.last_flush=-2,HS(t),At},Kw=e=>{const t=Hw(e);return t===At&&hk(e.state),t},pk=(e,t)=>Pa(e)||e.state.wrap!==2?$n:(e.state.gzhead=t,At),jw=(e,t,n,r,s,i)=>{if(!e)return $n;let o=1;if(t===XS&&(t=6),r<0?(o=0,r=-r):r>15&&(o=2,r-=16),s<1||s>ZS||n!==wu||r<8||r>15||t<0||t>9||i<0||i>$S||r===8&&o!==1)return Qi(e,$n);r===8&&(r=9);const a=new gk;return e.state=a,a.strm=e,a.status=Ks,a.wrap=o,a.gzhead=null,a.w_bits=r,a.w_size=1<<a.w_bits,a.w_mask=a.w_size-1,a.hash_bits=s+7,a.hash_size=1<<a.hash_bits,a.hash_mask=a.hash_size-1,a.hash_shift=~~((a.hash_bits+ye-1)/ye),a.window=new Uint8Array(a.w_size*2),a.head=new Uint16Array(a.hash_size),a.prev=new Uint16Array(a.w_size),a.lit_bufsize=1<<s+6,a.pending_buf_size=a.lit_bufsize*4,a.pending_buf=new Uint8Array(a.pending_buf_size),a.sym_buf=a.lit_bufsize,a.sym_end=(a.lit_bufsize-1)*3,a.level=t,a.strategy=i,a.method=n,Kw(e)},yk=(e,t)=>jw(e,t,wu,ek,tk,JS),mk=(e,t)=>{if(Pa(e)||t>Op||t<0)return e?Qi(e,$n):$n;const n=e.state;if(!e.output||e.avail_in!==0&&!e.input||n.status===So&&t!==dn)return Qi(e,e.avail_out===0?wd:$n);const r=n.last_flush;if(n.last_flush=t,n.pending!==0){if(Gt(e),e.avail_out===0)return n.last_flush=-1,At}else if(e.avail_in===0&&Kp(t)<=Kp(r)&&t!==dn)return Qi(e,wd);if(n.status===So&&e.avail_in!==0)return Qi(e,wd);if(n.status===Ks&&n.wrap===0&&(n.status=Ri),n.status===Ks){let s=wu+(n.w_bits-8<<4)<<8,i=-1;if(n.strategy>=wl||n.level<2?i=0:n.level<6?i=1:n.level===6?i=2:i=3,s|=i<<6,n.strstart!==0&&(s|=lk),s+=31-s%31,Eo(n,s),n.strstart!==0&&(Eo(n,e.adler>>>16),Eo(n,e.adler&65535)),e.adler=1,n.status=Ri,Gt(e),n.pending!==0)return n.last_flush=-1,At}if(n.status===uh){if(e.adler=0,Be(n,31),Be(n,139),Be(n,8),n.gzhead)Be(n,(n.gzhead.text?1:0)+(n.gzhead.hcrc?2:0)+(n.gzhead.extra?4:0)+(n.gzhead.name?8:0)+(n.gzhead.comment?16:0)),Be(n,n.gzhead.time&255),Be(n,n.gzhead.time>>8&255),Be(n,n.gzhead.time>>16&255),Be(n,n.gzhead.time>>24&255),Be(n,n.level===9?2:n.strategy>=wl||n.level<2?4:0),Be(n,n.gzhead.os&255),n.gzhead.extra&&n.gzhead.extra.length&&(Be(n,n.gzhead.extra.length&255),Be(n,n.gzhead.extra.length>>8&255)),n.gzhead.hcrc&&(e.adler=st(e.adler,n.pending_buf,n.pending,0)),n.gzindex=0,n.status=Kf;else if(Be(n,0),Be(n,0),Be(n,0),Be(n,0),Be(n,0),Be(n,n.level===9?2:n.strategy>=wl||n.level<2?4:0),Be(n,ck),n.status=Ri,Gt(e),n.pending!==0)return n.last_flush=-1,At}if(n.status===Kf){if(n.gzhead.extra){let s=n.pending,i=(n.gzhead.extra.length&65535)-n.gzindex;for(;n.pending+i>n.pending_buf_size;){let a=n.pending_buf_size-n.pending;if(n.pending_buf.set(n.gzhead.extra.subarray(n.gzindex,n.gzindex+a),n.pending),n.pending=n.pending_buf_size,n.gzhead.hcrc&&n.pending>s&&(e.adler=st(e.adler,n.pending_buf,n.pending-s,s)),n.gzindex+=a,Gt(e),n.pending!==0)return n.last_flush=-1,At;s=0,i-=a}let o=new Uint8Array(n.gzhead.extra);n.pending_buf.set(o.subarray(n.gzindex,n.gzindex+i),n.pending),n.pending+=i,n.gzhead.hcrc&&n.pending>s&&(e.adler=st(e.adler,n.pending_buf,n.pending-s,s)),n.gzindex=0}n.status=jf}if(n.status===jf){if(n.gzhead.name){let s=n.pending,i;do{if(n.pending===n.pending_buf_size){if(n.gzhead.hcrc&&n.pending>s&&(e.adler=st(e.adler,n.pending_buf,n.pending-s,s)),Gt(e),n.pending!==0)return n.last_flush=-1,At;s=0}n.gzindex<n.gzhead.name.length?i=n.gzhead.name.charCodeAt(n.gzindex++)&255:i=0,Be(n,i)}while(i!==0);n.gzhead.hcrc&&n.pending>s&&(e.adler=st(e.adler,n.pending_buf,n.pending-s,s)),n.gzindex=0}n.status=zf}if(n.status===zf){if(n.gzhead.comment){let s=n.pending,i;do{if(n.pending===n.pending_buf_size){if(n.gzhead.hcrc&&n.pending>s&&(e.adler=st(e.adler,n.pending_buf,n.pending-s,s)),Gt(e),n.pending!==0)return n.last_flush=-1,At;s=0}n.gzindex<n.gzhead.comment.length?i=n.gzhead.comment.charCodeAt(n.gzindex++)&255:i=0,Be(n,i)}while(i!==0);n.gzhead.hcrc&&n.pending>s&&(e.adler=st(e.adler,n.pending_buf,n.pending-s,s))}n.status=Gf}if(n.status===Gf){if(n.gzhead.hcrc){if(n.pending+2>n.pending_buf_size&&(Gt(e),n.pending!==0))return n.last_flush=-1,At;Be(n,e.adler&255),Be(n,e.adler>>8&255),e.adler=0}if(n.status=Ri,Gt(e),n.pending!==0)return n.last_flush=-1,At}if(e.avail_in!==0||n.lookahead!==0||t!==oi&&n.status!==So){let s=n.level===0?Ow(n,t):n.strategy===wl?Ak(n,t):n.strategy===VS?fk(n,t):ko[n.level].func(n,t);if((s===zi||s===$s)&&(n.status=So),s===kt||s===zi)return e.avail_out===0&&(n.last_flush=-1),At;if(s===Vs&&(t===zS?jS(n):t!==Op&&(Of(n,0,0,!1),t===GS&&(Gr(n.head),n.lookahead===0&&(n.strstart=0,n.block_start=0,n.insert=0))),Gt(e),e.avail_out===0))return n.last_flush=-1,At}return t!==dn?At:n.wrap<=0?Hp:(n.wrap===2?(Be(n,e.adler&255),Be(n,e.adler>>8&255),Be(n,e.adler>>16&255),Be(n,e.adler>>24&255),Be(n,e.total_in&255),Be(n,e.total_in>>8&255),Be(n,e.total_in>>16&255),Be(n,e.total_in>>24&255)):(Eo(n,e.adler>>>16),Eo(n,e.adler&65535)),Gt(e),n.wrap>0&&(n.wrap=-n.wrap),n.pending!==0?At:Hp)},wk=e=>{if(Pa(e))return $n;const t=e.state.status;return e.state=null,t===Ri?Qi(e,YS):At},Ek=(e,t)=>{let n=t.length;if(Pa(e))return $n;const r=e.state,s=r.wrap;if(s===2||s===1&&r.status!==Ks||r.lookahead)return $n;if(s===1&&(e.adler=Ia(e.adler,t,n,0)),r.wrap=0,n>=r.w_size){s===0&&(Gr(r.head),r.strstart=0,r.block_start=0,r.insert=0);let l=new Uint8Array(r.w_size);l.set(t.subarray(n-r.w_size,n),0),t=l,n=r.w_size}const i=e.avail_in,o=e.next_in,a=e.input;for(e.avail_in=n,e.next_in=0,e.input=t,js(r);r.lookahead>=ye;){let l=r.strstart,c=r.lookahead-(ye-1);do r.ins_h=ai(r,r.ins_h,r.window[l+ye-1]),r.prev[l&r.w_mask]=r.head[r.ins_h],r.head[r.ins_h]=l,l++;while(--c);r.strstart=l,r.lookahead=ye-1,js(r)}return r.strstart+=r.lookahead,r.block_start=r.strstart,r.insert=r.lookahead,r.lookahead=0,r.match_length=r.prev_length=ye-1,r.match_available=0,e.next_in=o,e.input=a,e.avail_in=i,r.wrap=s,At};var Bk=yk,Ik=jw,vk=Kw,Ck=Hw,bk=pk,xk=mk,_k=wk,Sk=Ek,kk="pako deflate (from Nodeca project)",Xo={deflateInit:Bk,deflateInit2:Ik,deflateReset:vk,deflateResetKeep:Ck,deflateSetHeader:bk,deflate:xk,deflateEnd:_k,deflateSetDictionary:Sk,deflateInfo:kk};const Rk=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var Qk=function(e){const t=Array.prototype.slice.call(arguments,1);for(;t.length;){const n=t.shift();if(n){if(typeof n!="object")throw new TypeError(n+"must be non-object");for(const r in n)Rk(n,r)&&(e[r]=n[r])}}return e},Tk=e=>{let t=0;for(let r=0,s=e.length;r<s;r++)t+=e[r].length;const n=new Uint8Array(t);for(let r=0,s=0,i=e.length;r<i;r++){let o=e[r];n.set(o,s),s+=o.length}return n},Eu={assign:Qk,flattenChunks:Tk};let zw=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{zw=!1}const va=new Uint8Array(256);for(let e=0;e<256;e++)va[e]=e>=252?6:e>=248?5:e>=240?4:e>=224?3:e>=192?2:1;va[254]=va[254]=1;var Dk=e=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(e);let t,n,r,s,i,o=e.length,a=0;for(s=0;s<o;s++)n=e.charCodeAt(s),(n&64512)===55296&&s+1<o&&(r=e.charCodeAt(s+1),(r&64512)===56320&&(n=65536+(n-55296<<10)+(r-56320),s++)),a+=n<128?1:n<2048?2:n<65536?3:4;for(t=new Uint8Array(a),i=0,s=0;i<a;s++)n=e.charCodeAt(s),(n&64512)===55296&&s+1<o&&(r=e.charCodeAt(s+1),(r&64512)===56320&&(n=65536+(n-55296<<10)+(r-56320),s++)),n<128?t[i++]=n:n<2048?(t[i++]=192|n>>>6,t[i++]=128|n&63):n<65536?(t[i++]=224|n>>>12,t[i++]=128|n>>>6&63,t[i++]=128|n&63):(t[i++]=240|n>>>18,t[i++]=128|n>>>12&63,t[i++]=128|n>>>6&63,t[i++]=128|n&63);return t};const Nk=(e,t)=>{if(t<65534&&e.subarray&&zw)return String.fromCharCode.apply(null,e.length===t?e:e.subarray(0,t));let n="";for(let r=0;r<t;r++)n+=String.fromCharCode(e[r]);return n};var Pk=(e,t)=>{const n=t||e.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(e.subarray(0,t));let r,s;const i=new Array(n*2);for(s=0,r=0;r<n;){let o=e[r++];if(o<128){i[s++]=o;continue}let a=va[o];if(a>4){i[s++]=65533,r+=a-1;continue}for(o&=a===2?31:a===3?15:7;a>1&&r<n;)o=o<<6|e[r++]&63,a--;if(a>1){i[s++]=65533;continue}o<65536?i[s++]=o:(o-=65536,i[s++]=55296|o>>10&1023,i[s++]=56320|o&1023)}return Nk(i,s)},Mk=(e,t)=>{t=t||e.length,t>e.length&&(t=e.length);let n=t-1;for(;n>=0&&(e[n]&192)===128;)n--;return n<0||n===0?t:n+va[e[n]]>t?n:t},Ca={string2buf:Dk,buf2string:Pk,utf8border:Mk};function Fk(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var Gw=Fk;const Yw=Object.prototype.toString,{Z_NO_FLUSH:Lk,Z_SYNC_FLUSH:Uk,Z_FULL_FLUSH:Ok,Z_FINISH:Hk,Z_OK:Hc,Z_STREAM_END:Kk,Z_DEFAULT_COMPRESSION:jk,Z_DEFAULT_STRATEGY:zk,Z_DEFLATED:Gk}=mu;function Bu(e){this.options=Eu.assign({level:jk,method:Gk,chunkSize:16384,windowBits:15,memLevel:8,strategy:zk},e||{});let t=this.options;t.raw&&t.windowBits>0?t.windowBits=-t.windowBits:t.gzip&&t.windowBits>0&&t.windowBits<16&&(t.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new Gw,this.strm.avail_out=0;let n=Xo.deflateInit2(this.strm,t.level,t.method,t.windowBits,t.memLevel,t.strategy);if(n!==Hc)throw new Error(ji[n]);if(t.header&&Xo.deflateSetHeader(this.strm,t.header),t.dictionary){let r;if(typeof t.dictionary=="string"?r=Ca.string2buf(t.dictionary):Yw.call(t.dictionary)==="[object ArrayBuffer]"?r=new Uint8Array(t.dictionary):r=t.dictionary,n=Xo.deflateSetDictionary(this.strm,r),n!==Hc)throw new Error(ji[n]);this._dict_set=!0}}Bu.prototype.push=function(e,t){const n=this.strm,r=this.options.chunkSize;let s,i;if(this.ended)return!1;for(t===~~t?i=t:i=t===!0?Hk:Lk,typeof e=="string"?n.input=Ca.string2buf(e):Yw.call(e)==="[object ArrayBuffer]"?n.input=new Uint8Array(e):n.input=e,n.next_in=0,n.avail_in=n.input.length;;){if(n.avail_out===0&&(n.output=new Uint8Array(r),n.next_out=0,n.avail_out=r),(i===Uk||i===Ok)&&n.avail_out<=6){this.onData(n.output.subarray(0,n.next_out)),n.avail_out=0;continue}if(s=Xo.deflate(n,i),s===Kk)return n.next_out>0&&this.onData(n.output.subarray(0,n.next_out)),s=Xo.deflateEnd(this.strm),this.onEnd(s),this.ended=!0,s===Hc;if(n.avail_out===0){this.onData(n.output);continue}if(i>0&&n.next_out>0){this.onData(n.output.subarray(0,n.next_out)),n.avail_out=0;continue}if(n.avail_in===0)break}return!0};Bu.prototype.onData=function(e){this.chunks.push(e)};Bu.prototype.onEnd=function(e){e===Hc&&(this.result=Eu.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};function Yk(e,t){const n=new Bu(t);if(n.push(e,!0),n.err)throw n.msg||ji[n.err];return n.result}var Xk=Yk,Wk={deflate:Xk};const El=16209,Vk=16191;var $k=function(t,n){let r,s,i,o,a,l,c,u,d,f,A,m,y,B,h,g,w,E,v,b,C,T,x,R;const S=t.state;r=t.next_in,x=t.input,s=r+(t.avail_in-5),i=t.next_out,R=t.output,o=i-(n-t.avail_out),a=i+(t.avail_out-257),l=S.dmax,c=S.wsize,u=S.whave,d=S.wnext,f=S.window,A=S.hold,m=S.bits,y=S.lencode,B=S.distcode,h=(1<<S.lenbits)-1,g=(1<<S.distbits)-1;e:do{m<15&&(A+=x[r++]<<m,m+=8,A+=x[r++]<<m,m+=8),w=y[A&h];t:for(;;){if(E=w>>>24,A>>>=E,m-=E,E=w>>>16&255,E===0)R[i++]=w&65535;else if(E&16){v=w&65535,E&=15,E&&(m<E&&(A+=x[r++]<<m,m+=8),v+=A&(1<<E)-1,A>>>=E,m-=E),m<15&&(A+=x[r++]<<m,m+=8,A+=x[r++]<<m,m+=8),w=B[A&g];n:for(;;){if(E=w>>>24,A>>>=E,m-=E,E=w>>>16&255,E&16){if(b=w&65535,E&=15,m<E&&(A+=x[r++]<<m,m+=8,m<E&&(A+=x[r++]<<m,m+=8)),b+=A&(1<<E)-1,b>l){t.msg="invalid distance too far back",S.mode=El;break e}if(A>>>=E,m-=E,E=i-o,b>E){if(E=b-E,E>u&&S.sane){t.msg="invalid distance too far back",S.mode=El;break e}if(C=0,T=f,d===0){if(C+=c-E,E<v){v-=E;do R[i++]=f[C++];while(--E);C=i-b,T=R}}else if(d<E){if(C+=c+d-E,E-=d,E<v){v-=E;do R[i++]=f[C++];while(--E);if(C=0,d<v){E=d,v-=E;do R[i++]=f[C++];while(--E);C=i-b,T=R}}}else if(C+=d-E,E<v){v-=E;do R[i++]=f[C++];while(--E);C=i-b,T=R}for(;v>2;)R[i++]=T[C++],R[i++]=T[C++],R[i++]=T[C++],v-=3;v&&(R[i++]=T[C++],v>1&&(R[i++]=T[C++]))}else{C=i-b;do R[i++]=R[C++],R[i++]=R[C++],R[i++]=R[C++],v-=3;while(v>2);v&&(R[i++]=R[C++],v>1&&(R[i++]=R[C++]))}}else if(E&64){t.msg="invalid distance code",S.mode=El;break e}else{w=B[(w&65535)+(A&(1<<E)-1)];continue n}break}}else if(E&64)if(E&32){S.mode=Vk;break e}else{t.msg="invalid literal/length code",S.mode=El;break e}else{w=y[(w&65535)+(A&(1<<E)-1)];continue t}break}}while(r<s&&i<a);v=m>>3,r-=v,m-=v<<3,A&=(1<<m)-1,t.next_in=r,t.next_out=i,t.avail_in=r<s?5+(s-r):5-(r-s),t.avail_out=i<a?257+(a-i):257-(i-a),S.hold=A,S.bits=m};const ls=15,jp=852,zp=592,Gp=0,Bd=1,Yp=2,Jk=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),qk=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),Zk=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),e3=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),t3=(e,t,n,r,s,i,o,a)=>{const l=a.bits;let c=0,u=0,d=0,f=0,A=0,m=0,y=0,B=0,h=0,g=0,w,E,v,b,C,T=null,x;const R=new Uint16Array(ls+1),S=new Uint16Array(ls+1);let $=null,Ae,le,me;for(c=0;c<=ls;c++)R[c]=0;for(u=0;u<r;u++)R[t[n+u]]++;for(A=l,f=ls;f>=1&&R[f]===0;f--);if(A>f&&(A=f),f===0)return s[i++]=1<<24|64<<16|0,s[i++]=1<<24|64<<16|0,a.bits=1,0;for(d=1;d<f&&R[d]===0;d++);for(A<d&&(A=d),B=1,c=1;c<=ls;c++)if(B<<=1,B-=R[c],B<0)return-1;if(B>0&&(e===Gp||f!==1))return-1;for(S[1]=0,c=1;c<ls;c++)S[c+1]=S[c]+R[c];for(u=0;u<r;u++)t[n+u]!==0&&(o[S[t[n+u]]++]=u);if(e===Gp?(T=$=o,x=20):e===Bd?(T=Jk,$=qk,x=257):(T=Zk,$=e3,x=0),g=0,u=0,c=d,C=i,m=A,y=0,v=-1,h=1<<A,b=h-1,e===Bd&&h>jp||e===Yp&&h>zp)return 1;for(;;){Ae=c-y,o[u]+1<x?(le=0,me=o[u]):o[u]>=x?(le=$[o[u]-x],me=T[o[u]-x]):(le=96,me=0),w=1<<c-y,E=1<<m,d=E;do E-=w,s[C+(g>>y)+E]=Ae<<24|le<<16|me|0;while(E!==0);for(w=1<<c-1;g&w;)w>>=1;if(w!==0?(g&=w-1,g+=w):g=0,u++,--R[c]===0){if(c===f)break;c=t[n+o[u]]}if(c>A&&(g&b)!==v){for(y===0&&(y=A),C+=d,m=c-y,B=1<<m;m+y<f&&(B-=R[m+y],!(B<=0));)m++,B<<=1;if(h+=1<<m,e===Bd&&h>jp||e===Yp&&h>zp)return 1;v=g&b,s[v]=A<<24|m<<16|C-i|0}}return g!==0&&(s[C+g]=c-y<<24|64<<16|0),a.bits=A,0};var Wo=t3;const n3=0,Xw=1,Ww=2,{Z_FINISH:Xp,Z_BLOCK:r3,Z_TREES:Bl,Z_OK:Gi,Z_STREAM_END:i3,Z_NEED_DICT:s3,Z_STREAM_ERROR:pn,Z_DATA_ERROR:Vw,Z_MEM_ERROR:$w,Z_BUF_ERROR:o3,Z_DEFLATED:Wp}=mu,Iu=16180,Vp=16181,$p=16182,Jp=16183,qp=16184,Zp=16185,e0=16186,t0=16187,n0=16188,r0=16189,Kc=16190,lr=16191,Id=16192,i0=16193,vd=16194,s0=16195,o0=16196,a0=16197,l0=16198,Il=16199,vl=16200,c0=16201,u0=16202,d0=16203,f0=16204,A0=16205,Cd=16206,h0=16207,g0=16208,Ne=16209,Jw=16210,qw=16211,a3=852,l3=592,c3=15,u3=c3,p0=e=>(e>>>24&255)+(e>>>8&65280)+((e&65280)<<8)+((e&255)<<24);function d3(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const $i=e=>{if(!e)return 1;const t=e.state;return!t||t.strm!==e||t.mode<Iu||t.mode>qw?1:0},Zw=e=>{if($i(e))return pn;const t=e.state;return e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=t.wrap&1),t.mode=Iu,t.last=0,t.havedict=0,t.flags=-1,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new Int32Array(a3),t.distcode=t.distdyn=new Int32Array(l3),t.sane=1,t.back=-1,Gi},eE=e=>{if($i(e))return pn;const t=e.state;return t.wsize=0,t.whave=0,t.wnext=0,Zw(e)},tE=(e,t)=>{let n;if($i(e))return pn;const r=e.state;return t<0?(n=0,t=-t):(n=(t>>4)+5,t<48&&(t&=15)),t&&(t<8||t>15)?pn:(r.window!==null&&r.wbits!==t&&(r.window=null),r.wrap=n,r.wbits=t,eE(e))},nE=(e,t)=>{if(!e)return pn;const n=new d3;e.state=n,n.strm=e,n.window=null,n.mode=Iu;const r=tE(e,t);return r!==Gi&&(e.state=null),r},f3=e=>nE(e,u3);let y0=!0,bd,xd;const A3=e=>{if(y0){bd=new Int32Array(512),xd=new Int32Array(32);let t=0;for(;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(Wo(Xw,e.lens,0,288,bd,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;Wo(Ww,e.lens,0,32,xd,0,e.work,{bits:5}),y0=!1}e.lencode=bd,e.lenbits=9,e.distcode=xd,e.distbits=5},rE=(e,t,n,r)=>{let s;const i=e.state;return i.window===null&&(i.wsize=1<<i.wbits,i.wnext=0,i.whave=0,i.window=new Uint8Array(i.wsize)),r>=i.wsize?(i.window.set(t.subarray(n-i.wsize,n),0),i.wnext=0,i.whave=i.wsize):(s=i.wsize-i.wnext,s>r&&(s=r),i.window.set(t.subarray(n-r,n-r+s),i.wnext),r-=s,r?(i.window.set(t.subarray(n-r,n),0),i.wnext=r,i.whave=i.wsize):(i.wnext+=s,i.wnext===i.wsize&&(i.wnext=0),i.whave<i.wsize&&(i.whave+=s))),0},h3=(e,t)=>{let n,r,s,i,o,a,l,c,u,d,f,A,m,y,B=0,h,g,w,E,v,b,C,T;const x=new Uint8Array(4);let R,S;const $=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if($i(e)||!e.output||!e.input&&e.avail_in!==0)return pn;n=e.state,n.mode===lr&&(n.mode=Id),o=e.next_out,s=e.output,l=e.avail_out,i=e.next_in,r=e.input,a=e.avail_in,c=n.hold,u=n.bits,d=a,f=l,T=Gi;e:for(;;)switch(n.mode){case Iu:if(n.wrap===0){n.mode=Id;break}for(;u<16;){if(a===0)break e;a--,c+=r[i++]<<u,u+=8}if(n.wrap&2&&c===35615){n.wbits===0&&(n.wbits=15),n.check=0,x[0]=c&255,x[1]=c>>>8&255,n.check=st(n.check,x,2,0),c=0,u=0,n.mode=Vp;break}if(n.head&&(n.head.done=!1),!(n.wrap&1)||(((c&255)<<8)+(c>>8))%31){e.msg="incorrect header check",n.mode=Ne;break}if((c&15)!==Wp){e.msg="unknown compression method",n.mode=Ne;break}if(c>>>=4,u-=4,C=(c&15)+8,n.wbits===0&&(n.wbits=C),C>15||C>n.wbits){e.msg="invalid window size",n.mode=Ne;break}n.dmax=1<<n.wbits,n.flags=0,e.adler=n.check=1,n.mode=c&512?r0:lr,c=0,u=0;break;case Vp:for(;u<16;){if(a===0)break e;a--,c+=r[i++]<<u,u+=8}if(n.flags=c,(n.flags&255)!==Wp){e.msg="unknown compression method",n.mode=Ne;break}if(n.flags&57344){e.msg="unknown header flags set",n.mode=Ne;break}n.head&&(n.head.text=c>>8&1),n.flags&512&&n.wrap&4&&(x[0]=c&255,x[1]=c>>>8&255,n.check=st(n.check,x,2,0)),c=0,u=0,n.mode=$p;case $p:for(;u<32;){if(a===0)break e;a--,c+=r[i++]<<u,u+=8}n.head&&(n.head.time=c),n.flags&512&&n.wrap&4&&(x[0]=c&255,x[1]=c>>>8&255,x[2]=c>>>16&255,x[3]=c>>>24&255,n.check=st(n.check,x,4,0)),c=0,u=0,n.mode=Jp;case Jp:for(;u<16;){if(a===0)break e;a--,c+=r[i++]<<u,u+=8}n.head&&(n.head.xflags=c&255,n.head.os=c>>8),n.flags&512&&n.wrap&4&&(x[0]=c&255,x[1]=c>>>8&255,n.check=st(n.check,x,2,0)),c=0,u=0,n.mode=qp;case qp:if(n.flags&1024){for(;u<16;){if(a===0)break e;a--,c+=r[i++]<<u,u+=8}n.length=c,n.head&&(n.head.extra_len=c),n.flags&512&&n.wrap&4&&(x[0]=c&255,x[1]=c>>>8&255,n.check=st(n.check,x,2,0)),c=0,u=0}else n.head&&(n.head.extra=null);n.mode=Zp;case Zp:if(n.flags&1024&&(A=n.length,A>a&&(A=a),A&&(n.head&&(C=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Uint8Array(n.head.extra_len)),n.head.extra.set(r.subarray(i,i+A),C)),n.flags&512&&n.wrap&4&&(n.check=st(n.check,r,A,i)),a-=A,i+=A,n.length-=A),n.length))break e;n.length=0,n.mode=e0;case e0:if(n.flags&2048){if(a===0)break e;A=0;do C=r[i+A++],n.head&&C&&n.length<65536&&(n.head.name+=String.fromCharCode(C));while(C&&A<a);if(n.flags&512&&n.wrap&4&&(n.check=st(n.check,r,A,i)),a-=A,i+=A,C)break e}else n.head&&(n.head.name=null);n.length=0,n.mode=t0;case t0:if(n.flags&4096){if(a===0)break e;A=0;do C=r[i+A++],n.head&&C&&n.length<65536&&(n.head.comment+=String.fromCharCode(C));while(C&&A<a);if(n.flags&512&&n.wrap&4&&(n.check=st(n.check,r,A,i)),a-=A,i+=A,C)break e}else n.head&&(n.head.comment=null);n.mode=n0;case n0:if(n.flags&512){for(;u<16;){if(a===0)break e;a--,c+=r[i++]<<u,u+=8}if(n.wrap&4&&c!==(n.check&65535)){e.msg="header crc mismatch",n.mode=Ne;break}c=0,u=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),e.adler=n.check=0,n.mode=lr;break;case r0:for(;u<32;){if(a===0)break e;a--,c+=r[i++]<<u,u+=8}e.adler=n.check=p0(c),c=0,u=0,n.mode=Kc;case Kc:if(n.havedict===0)return e.next_out=o,e.avail_out=l,e.next_in=i,e.avail_in=a,n.hold=c,n.bits=u,s3;e.adler=n.check=1,n.mode=lr;case lr:if(t===r3||t===Bl)break e;case Id:if(n.last){c>>>=u&7,u-=u&7,n.mode=Cd;break}for(;u<3;){if(a===0)break e;a--,c+=r[i++]<<u,u+=8}switch(n.last=c&1,c>>>=1,u-=1,c&3){case 0:n.mode=i0;break;case 1:if(A3(n),n.mode=Il,t===Bl){c>>>=2,u-=2;break e}break;case 2:n.mode=o0;break;case 3:e.msg="invalid block type",n.mode=Ne}c>>>=2,u-=2;break;case i0:for(c>>>=u&7,u-=u&7;u<32;){if(a===0)break e;a--,c+=r[i++]<<u,u+=8}if((c&65535)!==(c>>>16^65535)){e.msg="invalid stored block lengths",n.mode=Ne;break}if(n.length=c&65535,c=0,u=0,n.mode=vd,t===Bl)break e;case vd:n.mode=s0;case s0:if(A=n.length,A){if(A>a&&(A=a),A>l&&(A=l),A===0)break e;s.set(r.subarray(i,i+A),o),a-=A,i+=A,l-=A,o+=A,n.length-=A;break}n.mode=lr;break;case o0:for(;u<14;){if(a===0)break e;a--,c+=r[i++]<<u,u+=8}if(n.nlen=(c&31)+257,c>>>=5,u-=5,n.ndist=(c&31)+1,c>>>=5,u-=5,n.ncode=(c&15)+4,c>>>=4,u-=4,n.nlen>286||n.ndist>30){e.msg="too many length or distance symbols",n.mode=Ne;break}n.have=0,n.mode=a0;case a0:for(;n.have<n.ncode;){for(;u<3;){if(a===0)break e;a--,c+=r[i++]<<u,u+=8}n.lens[$[n.have++]]=c&7,c>>>=3,u-=3}for(;n.have<19;)n.lens[$[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,R={bits:n.lenbits},T=Wo(n3,n.lens,0,19,n.lencode,0,n.work,R),n.lenbits=R.bits,T){e.msg="invalid code lengths set",n.mode=Ne;break}n.have=0,n.mode=l0;case l0:for(;n.have<n.nlen+n.ndist;){for(;B=n.lencode[c&(1<<n.lenbits)-1],h=B>>>24,g=B>>>16&255,w=B&65535,!(h<=u);){if(a===0)break e;a--,c+=r[i++]<<u,u+=8}if(w<16)c>>>=h,u-=h,n.lens[n.have++]=w;else{if(w===16){for(S=h+2;u<S;){if(a===0)break e;a--,c+=r[i++]<<u,u+=8}if(c>>>=h,u-=h,n.have===0){e.msg="invalid bit length repeat",n.mode=Ne;break}C=n.lens[n.have-1],A=3+(c&3),c>>>=2,u-=2}else if(w===17){for(S=h+3;u<S;){if(a===0)break e;a--,c+=r[i++]<<u,u+=8}c>>>=h,u-=h,C=0,A=3+(c&7),c>>>=3,u-=3}else{for(S=h+7;u<S;){if(a===0)break e;a--,c+=r[i++]<<u,u+=8}c>>>=h,u-=h,C=0,A=11+(c&127),c>>>=7,u-=7}if(n.have+A>n.nlen+n.ndist){e.msg="invalid bit length repeat",n.mode=Ne;break}for(;A--;)n.lens[n.have++]=C}}if(n.mode===Ne)break;if(n.lens[256]===0){e.msg="invalid code -- missing end-of-block",n.mode=Ne;break}if(n.lenbits=9,R={bits:n.lenbits},T=Wo(Xw,n.lens,0,n.nlen,n.lencode,0,n.work,R),n.lenbits=R.bits,T){e.msg="invalid literal/lengths set",n.mode=Ne;break}if(n.distbits=6,n.distcode=n.distdyn,R={bits:n.distbits},T=Wo(Ww,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,R),n.distbits=R.bits,T){e.msg="invalid distances set",n.mode=Ne;break}if(n.mode=Il,t===Bl)break e;case Il:n.mode=vl;case vl:if(a>=6&&l>=258){e.next_out=o,e.avail_out=l,e.next_in=i,e.avail_in=a,n.hold=c,n.bits=u,$k(e,f),o=e.next_out,s=e.output,l=e.avail_out,i=e.next_in,r=e.input,a=e.avail_in,c=n.hold,u=n.bits,n.mode===lr&&(n.back=-1);break}for(n.back=0;B=n.lencode[c&(1<<n.lenbits)-1],h=B>>>24,g=B>>>16&255,w=B&65535,!(h<=u);){if(a===0)break e;a--,c+=r[i++]<<u,u+=8}if(g&&!(g&240)){for(E=h,v=g,b=w;B=n.lencode[b+((c&(1<<E+v)-1)>>E)],h=B>>>24,g=B>>>16&255,w=B&65535,!(E+h<=u);){if(a===0)break e;a--,c+=r[i++]<<u,u+=8}c>>>=E,u-=E,n.back+=E}if(c>>>=h,u-=h,n.back+=h,n.length=w,g===0){n.mode=A0;break}if(g&32){n.back=-1,n.mode=lr;break}if(g&64){e.msg="invalid literal/length code",n.mode=Ne;break}n.extra=g&15,n.mode=c0;case c0:if(n.extra){for(S=n.extra;u<S;){if(a===0)break e;a--,c+=r[i++]<<u,u+=8}n.length+=c&(1<<n.extra)-1,c>>>=n.extra,u-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=u0;case u0:for(;B=n.distcode[c&(1<<n.distbits)-1],h=B>>>24,g=B>>>16&255,w=B&65535,!(h<=u);){if(a===0)break e;a--,c+=r[i++]<<u,u+=8}if(!(g&240)){for(E=h,v=g,b=w;B=n.distcode[b+((c&(1<<E+v)-1)>>E)],h=B>>>24,g=B>>>16&255,w=B&65535,!(E+h<=u);){if(a===0)break e;a--,c+=r[i++]<<u,u+=8}c>>>=E,u-=E,n.back+=E}if(c>>>=h,u-=h,n.back+=h,g&64){e.msg="invalid distance code",n.mode=Ne;break}n.offset=w,n.extra=g&15,n.mode=d0;case d0:if(n.extra){for(S=n.extra;u<S;){if(a===0)break e;a--,c+=r[i++]<<u,u+=8}n.offset+=c&(1<<n.extra)-1,c>>>=n.extra,u-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){e.msg="invalid distance too far back",n.mode=Ne;break}n.mode=f0;case f0:if(l===0)break e;if(A=f-l,n.offset>A){if(A=n.offset-A,A>n.whave&&n.sane){e.msg="invalid distance too far back",n.mode=Ne;break}A>n.wnext?(A-=n.wnext,m=n.wsize-A):m=n.wnext-A,A>n.length&&(A=n.length),y=n.window}else y=s,m=o-n.offset,A=n.length;A>l&&(A=l),l-=A,n.length-=A;do s[o++]=y[m++];while(--A);n.length===0&&(n.mode=vl);break;case A0:if(l===0)break e;s[o++]=n.length,l--,n.mode=vl;break;case Cd:if(n.wrap){for(;u<32;){if(a===0)break e;a--,c|=r[i++]<<u,u+=8}if(f-=l,e.total_out+=f,n.total+=f,n.wrap&4&&f&&(e.adler=n.check=n.flags?st(n.check,s,f,o-f):Ia(n.check,s,f,o-f)),f=l,n.wrap&4&&(n.flags?c:p0(c))!==n.check){e.msg="incorrect data check",n.mode=Ne;break}c=0,u=0}n.mode=h0;case h0:if(n.wrap&&n.flags){for(;u<32;){if(a===0)break e;a--,c+=r[i++]<<u,u+=8}if(n.wrap&4&&c!==(n.total&4294967295)){e.msg="incorrect length check",n.mode=Ne;break}c=0,u=0}n.mode=g0;case g0:T=i3;break e;case Ne:T=Vw;break e;case Jw:return $w;case qw:default:return pn}return e.next_out=o,e.avail_out=l,e.next_in=i,e.avail_in=a,n.hold=c,n.bits=u,(n.wsize||f!==e.avail_out&&n.mode<Ne&&(n.mode<Cd||t!==Xp))&&rE(e,e.output,e.next_out,f-e.avail_out),d-=e.avail_in,f-=e.avail_out,e.total_in+=d,e.total_out+=f,n.total+=f,n.wrap&4&&f&&(e.adler=n.check=n.flags?st(n.check,s,f,e.next_out-f):Ia(n.check,s,f,e.next_out-f)),e.data_type=n.bits+(n.last?64:0)+(n.mode===lr?128:0)+(n.mode===Il||n.mode===vd?256:0),(d===0&&f===0||t===Xp)&&T===Gi&&(T=o3),T},g3=e=>{if($i(e))return pn;let t=e.state;return t.window&&(t.window=null),e.state=null,Gi},p3=(e,t)=>{if($i(e))return pn;const n=e.state;return n.wrap&2?(n.head=t,t.done=!1,Gi):pn},y3=(e,t)=>{const n=t.length;let r,s,i;return $i(e)||(r=e.state,r.wrap!==0&&r.mode!==Kc)?pn:r.mode===Kc&&(s=1,s=Ia(s,t,n,0),s!==r.check)?Vw:(i=rE(e,t,n,n),i?(r.mode=Jw,$w):(r.havedict=1,Gi))};var m3=eE,w3=tE,E3=Zw,B3=f3,I3=nE,v3=h3,C3=g3,b3=p3,x3=y3,_3="pako inflate (from Nodeca project)",gr={inflateReset:m3,inflateReset2:w3,inflateResetKeep:E3,inflateInit:B3,inflateInit2:I3,inflate:v3,inflateEnd:C3,inflateGetHeader:b3,inflateSetDictionary:x3,inflateInfo:_3};function S3(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var k3=S3;const iE=Object.prototype.toString,{Z_NO_FLUSH:R3,Z_FINISH:Q3,Z_OK:ba,Z_STREAM_END:_d,Z_NEED_DICT:Sd,Z_STREAM_ERROR:T3,Z_DATA_ERROR:m0,Z_MEM_ERROR:D3}=mu;function vu(e){this.options=Eu.assign({chunkSize:1024*64,windowBits:15,to:""},e||{});const t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,t.windowBits===0&&(t.windowBits=-15)),t.windowBits>=0&&t.windowBits<16&&!(e&&e.windowBits)&&(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&(t.windowBits&15||(t.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new Gw,this.strm.avail_out=0;let n=gr.inflateInit2(this.strm,t.windowBits);if(n!==ba)throw new Error(ji[n]);if(this.header=new k3,gr.inflateGetHeader(this.strm,this.header),t.dictionary&&(typeof t.dictionary=="string"?t.dictionary=Ca.string2buf(t.dictionary):iE.call(t.dictionary)==="[object ArrayBuffer]"&&(t.dictionary=new Uint8Array(t.dictionary)),t.raw&&(n=gr.inflateSetDictionary(this.strm,t.dictionary),n!==ba)))throw new Error(ji[n])}vu.prototype.push=function(e,t){const n=this.strm,r=this.options.chunkSize,s=this.options.dictionary;let i,o,a;if(this.ended)return!1;for(t===~~t?o=t:o=t===!0?Q3:R3,iE.call(e)==="[object ArrayBuffer]"?n.input=new Uint8Array(e):n.input=e,n.next_in=0,n.avail_in=n.input.length;;){for(n.avail_out===0&&(n.output=new Uint8Array(r),n.next_out=0,n.avail_out=r),i=gr.inflate(n,o),i===Sd&&s&&(i=gr.inflateSetDictionary(n,s),i===ba?i=gr.inflate(n,o):i===m0&&(i=Sd));n.avail_in>0&&i===_d&&n.state.wrap>0&&e[n.next_in]!==0;)gr.inflateReset(n),i=gr.inflate(n,o);switch(i){case T3:case m0:case Sd:case D3:return this.onEnd(i),this.ended=!0,!1}if(a=n.avail_out,n.next_out&&(n.avail_out===0||i===_d))if(this.options.to==="string"){let l=Ca.utf8border(n.output,n.next_out),c=n.next_out-l,u=Ca.buf2string(n.output,l);n.next_out=c,n.avail_out=r-c,c&&n.output.set(n.output.subarray(l,l+c),0),this.onData(u)}else this.onData(n.output.length===n.next_out?n.output:n.output.subarray(0,n.next_out));if(!(i===ba&&a===0)){if(i===_d)return i=gr.inflateEnd(this.strm),this.onEnd(i),this.ended=!0,!0;if(n.avail_in===0)break}}return!0};vu.prototype.onData=function(e){this.chunks.push(e)};vu.prototype.onEnd=function(e){e===ba&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=Eu.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};function N3(e,t){const n=new vu(t);if(n.push(e),n.err)throw n.msg||ji[n.err];return n.result}var P3=N3,M3={inflate:P3};const{deflate:F3}=Wk,{inflate:L3}=M3;var U3=F3,O3=L3;class H3{constructor(){Ie(this,"ws",null);Ie(this,"url");Ie(this,"isConnected",!1);Ie(this,"reconnectAttempts",0);Ie(this,"maxReconnectAttempts",5);Ie(this,"reconnectTimeout",2e3);Ie(this,"messageHandlers",new Map);Ie(this,"setLoginError");Ie(this,"globalRateLimitUntil",0);this.url="wss://end2endchat.com"}setLoginErrorCallback(t){this.setLoginError=t}async login(t,n){return(!this.ws||this.ws.readyState!==WebSocket.OPEN)&&await this.connect(),new Promise((r,s)=>{const i=o=>{var a;o.type===oe.AUTH_SUCCESS?(this.unregisterMessageHandler(oe.AUTH_SUCCESS),this.unregisterMessageHandler(oe.AUTH_ERROR),this.send(t),r()):o.type===oe.AUTH_ERROR&&(this.unregisterMessageHandler(oe.AUTH_SUCCESS),this.unregisterMessageHandler(oe.AUTH_ERROR),(a=this.ws)==null||a.close(1008,"Auth failed"),s(new Error(o.message||"Authentication failed")))};this.registerMessageHandler(oe.AUTH_SUCCESS,i),this.registerMessageHandler(oe.AUTH_ERROR,i),this.send(n)})}connect(){return new Promise((t,n)=>{try{this.ws=new WebSocket(this.url),this.ws.onopen=()=>{this.isConnected=!0,this.reconnectAttempts=0,this.globalRateLimitUntil=0,this.setLoginError&&this.setLoginError(""),t()},this.ws.onclose=r=>{this.isConnected=!1,!(r.code===1008||r.code===1013)&&this.attemptReconnect()},this.ws.onerror=r=>{this.isConnected||n(r)},this.ws.onmessage=r=>{this.handleMessage(r.data)}}catch(r){n(r)}})}attemptReconnect(){this.reconnectAttempts>=this.maxReconnectAttempts||(this.reconnectAttempts++,setTimeout(()=>{this.connect().catch(t=>{this.setLoginError("Failed to connect to server")})},this.reconnectTimeout*this.reconnectAttempts))}send(t){if(!(!this.ws||!this.isConnected)){if(this.isGloballyRateLimited()){try{console.warn("[WS] send suppressed due to global rate limit")}catch{}return}try{const n=typeof t=="object"?JSON.stringify(t):String(t);try{const r=(()=>{try{return typeof t=="object"?JSON.parse(n):n.slice(0,200)}catch{return n.slice(0,200)}})();console.debug("[WS] send ->",r)}catch{}this.ws.send(n)}catch(n){console.error("Error sending message:",n)}}}setGlobalRateLimit(t){const n=Math.max(0,Math.floor(t*1e3)),r=Date.now()+n;this.globalRateLimitUntil=Math.max(this.globalRateLimitUntil,r);try{console.warn("[WS] Global rate limit set for seconds:",t)}catch{}}isGloballyRateLimited(){return Date.now()<this.globalRateLimitUntil}registerMessageHandler(t,n){this.messageHandlers.set(t,n)}unregisterMessageHandler(t){this.messageHandlers.delete(t)}handleMessage(t){try{let n;try{n=JSON.parse(t)}catch{n={type:"raw",data:t}}try{const r=typeof n=="object"?{type:n.type,keys:Object.keys(n||{})}:{raw:String(n).slice(0,200)};console.debug("[WS] recv <-",r)}catch{}if(typeof n=="object"&&n.type){const r=this.messageHandlers.get(n.type);r&&r(n)}else{const r=this.messageHandlers.get("raw");if(r)r(t);else{const s=this.messageHandlers.get("chat");s&&s({id:ga(),type:"raw",content:t,timestamp:new Date})}}}catch(n){console.error("Error handling message:",n)}}close(){this.ws&&(this.ws.close(),this.ws=null,this.isConnected=!1),this.messageHandlers.clear(),this.setLoginError=void 0,this.globalRateLimitUntil=0,this.reconnectAttempts=0}isConnectedToServer(){return this.isConnected}}const he=new H3,kd=256*1024;function K3(e,t){const[n,r]=I.useState(0),[s,i]=I.useState(!1);async function o(a){if(!(!t||t.length===0)){i(!0),r(0);try{const l=new Uint8Array(await a.arrayBuffer()),c=await D.Keys.generateAESKey(),u=await window.crypto.subtle.exportKey("raw",c),d=D.Base64.arrayBufferToBase64(u),f=await Promise.all(t.filter(B=>B.username!==e&&B.hybridPublicKeys).map(async B=>{const h={aesKey:d},g=await D.Hybrid.encryptHybridPayload(h,B.hybridPublicKeys);return{username:B.username,encryptedAESKey:g.encryptedMessage,ephemeralX25519Public:g.ephemeralX25519Public,kyberCiphertext:g.kyberCiphertext}})),A=Math.ceil(l.length/kd),m=l.length*f.length;let y=0;for(let B=0;B<A;B++){const h=B*kd,g=Math.min(h+kd,l.length),w=l.slice(h,g),E=U3(w),{iv:v,authTag:b,encrypted:C}=await D.Encrypt.encryptBinaryWithAES(E.buffer,c),T=D.Encrypt.serializeEncryptedData(v,b,C),x=btoa(T);for(const R of f){const S={type:oe.FILE_MESSAGE_CHUNK,from:e,to:R.username,encryptedAESKey:R.encryptedAESKey,ephemeralX25519Public:R.ephemeralX25519Public,kyberCiphertext:R.kyberCiphertext,chunkIndex:B,totalChunks:A,chunkData:x,filename:a.name,isLastChunk:B===A-1};he.send(JSON.stringify(S))}y+=w.length*f.length,r(y/m)}r(1)}catch(l){throw console.error("Failed to process and send file:",l),l}finally{i(!1)}}}return{sendFile:o,progress:n,isSendingFile:s}}function j3({progress:e}){return p.jsx("div",{className:"w-full bg-gray-300 rounded h-1.5 overflow-hidden",style:{marginBottom:2},children:p.jsx("div",{className:"bg-blue-500 h-1.5 rounded transition-all duration-300",style:{width:`${(e*100).toFixed(2)}%`}})})}function z3({onFileSelected:e,disabled:t}){const n=I.useRef(null),r=s=>{var o;const i=(o=s.target.files)==null?void 0:o[0];i&&e(i),s.target.value=""};return p.jsxs(p.Fragment,{children:[p.jsx(Dn,{variant:"ghost",size:"sm",className:ie("h-10 w-10 rounded-full transition-all duration-200",t&&"opacity-50 cursor-not-allowed","hover:bg-slate-200 text-slate-500 hover:text-slate-700"),onClick:()=>{var s;return!t&&((s=n.current)==null?void 0:s.click())},disabled:t,type:"button",children:p.jsx(Jm,{className:"h-5 w-5"})}),p.jsx("input",{ref:n,type:"file",className:"hidden",onChange:r})]})}const sE=I.forwardRef(({className:e,...t},n)=>p.jsx("textarea",{className:ie("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:n,...t}));sE.displayName="Textarea";function G3({value:e,onChange:t,onKeyDown:n,textareaRef:r}){return I.useEffect(()=>{r.current&&(r.current.style.height="auto",r.current.style.height=Math.min(r.current.scrollHeight,120)+"px")},[e]),p.jsx(sE,{ref:r,value:e,onChange:t,onKeyDown:n,placeholder:"Type a message...",className:ie("min-h-[39px] max-h-[100px] resize-none border-0 bg-transparent px-0 py-2 text-sm","focus-visible:ring-0 focus-visible:ring-offset-0","text-slate-900 placeholder:text-slate-500"),rows:1})}function Y3({disabled:e,isSending:t,editingMessage:n,onClick:r}){return p.jsx(Dn,{onClick:r,size:"sm",disabled:e,className:ie("h-10 w-10 rounded-full text-white shadow-md transition-all duration-200",e?"opacity-50 cursor-not-allowed bg-gray-400":n?"bg-yellow-500 hover:bg-yellow-600":"bg-slate-600 hover:bg-slate-700"),children:t?p.jsxs("svg",{className:"h-5 w-5 animate-spin",fill:"none",viewBox:"0 0 24 24",children:[p.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),p.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}):n?p.jsx("svg",{className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})}):p.jsx(nv,{className:"h-5 w-5"})})}function X3({onSendMessage:e,onSendFile:t,isEncrypted:n,currentUsername:r,users:s,replyTo:i,onCancelReply:o,editingMessage:a,onCancelEdit:l,onEditMessage:c,onTyping:u,selectedConversation:d}){const[f,A]=I.useState(""),[m,y]=I.useState(!1),B=I.useRef(null),{sendFile:h,progress:g,isSendingFile:w}=K3(r,s);I.useEffect(()=>{var C;a&&(A(a.content),(C=B.current)==null||C.focus())},[a]);async function E(){if(!(!f.trim()||m||!d))try{y(!0),a&&c?(await e(a.id,f.trim(),oe.EDIT_MESSAGE,a.replyTo),l==null||l()):(await e("",f.trim(),"chat",i??null),o==null||o()),A("")}catch(C){console.error("Failed to send message:",C)}finally{y(!1)}}const v=C=>{C.key==="Enter"&&!C.shiftKey&&(C.preventDefault(),E())},b=async C=>{try{await h(C);const T=URL.createObjectURL(C);t({id:crypto.randomUUID(),content:T,timestamp:new Date,isCurrentUser:!0,isSystemMessage:!1,type:oe.FILE_MESSAGE,filename:C.name,fileSize:C.size,sender:r})}catch{}};return p.jsxs("div",{className:ie("relative border-t","bg-white border-slate-200"),children:[a&&p.jsx(uS,{onCancelEdit:l}),i&&p.jsx(dS,{replyTo:i,onCancelReply:o}),g>0&&g<1&&p.jsx("div",{className:"px-4 pt-2",children:p.jsx(j3,{progress:g})}),p.jsx("div",{className:"p-4",children:p.jsxs("div",{className:ie("flex items-end gap-3 rounded-2xl border shadow-sm transition-all duration-200","bg-slate-50 border-slate-200 focus-within:border-slate-400"),children:[p.jsx(z3,{onFileSelected:b,disabled:w}),p.jsx(G3,{value:f,onChange:C=>{A(C.target.value),u()},onKeyDown:v,textareaRef:B}),p.jsx(Y3,{disabled:!f.trim()||m||!d,isSending:m,editingMessage:a,onClick:E})]})})]})}var W3="Separator",w0="horizontal",V3=["horizontal","vertical"],oE=I.forwardRef((e,t)=>{const{decorative:n,orientation:r=w0,...s}=e,i=$3(r)?r:w0,a=n?{role:"none"}:{"aria-orientation":i==="vertical"?i:void 0,role:"separator"};return p.jsx(qn.div,{"data-orientation":i,...a,...s,ref:t})});oE.displayName=W3;function $3(e){return V3.includes(e)}var aE=oE;const lE=I.forwardRef(({className:e,orientation:t="horizontal",decorative:n=!0,...r},s)=>p.jsx(aE,{ref:s,decorative:n,orientation:t,className:ie("shrink-0 bg-border",t==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",e),...r}));lE.displayName=aE.displayName;function J3(e,t){const n=I.useRef(null),r=I.useRef(null),s=I.useRef(0),i=I.useRef(!1),o=I.useRef(!1),a=1500,l=3e3,c=300,u=I.useCallback(async()=>{const m=Date.now();if(!i.current&&m-s.current>l)try{console.debug("[Typing] Sending typing-start signal"),await t(crypto.randomUUID(),JSON.stringify({type:"typing-start",timestamp:m}),"typing-start"),s.current=m,i.current=!0,o.current=!1}catch(y){console.error("[Typing] Failed to send typing start:",y),i.current=!1}else i.current||(o.current=!0)},[t]),d=I.useCallback(async()=>{if(i.current)try{console.debug("[Typing] Sending typing-stop signal"),await t(crypto.randomUUID(),JSON.stringify({type:"typing-stop",timestamp:Date.now()}),"typing-stop"),i.current=!1,o.current=!1}catch(m){console.error("[Typing] Failed to send typing stop:",m),i.current=!1,o.current=!1}},[t]),f=I.useCallback(()=>{r.current&&clearTimeout(r.current),n.current&&clearTimeout(n.current),r.current=setTimeout(()=>{u()},c),n.current=setTimeout(()=>{d()},a)},[u,d]),A=I.useCallback(()=>{r.current&&(clearTimeout(r.current),r.current=null),n.current&&(clearTimeout(n.current),n.current=null),i.current&&d(),o.current=!1},[d]);return I.useEffect(()=>()=>{r.current&&clearTimeout(r.current),n.current&&clearTimeout(n.current),i.current&&d()},[d]),I.useEffect(()=>{if(o.current&&!i.current){const m=Date.now(),y=l-(m-s.current);if(y>0){const B=setTimeout(()=>{o.current&&!i.current&&u()},y);return()=>clearTimeout(B)}}},[u]),{handleLocalTyping:f,handleConversationChange:A,isTyping:i.current}}const q3=I.memo(function({username:t,className:n}){return p.jsxs("div",{className:ie("flex items-center gap-2 text-sm text-muted-foreground animate-in fade-in duration-200",n),children:[p.jsx("span",{className:"font-medium text-foreground",children:t}),p.jsx("span",{children:"is typing"}),p.jsxs("div",{className:"flex items-center gap-1",children:[p.jsx("div",{className:"w-1.5 h-1.5 bg-primary rounded-full animate-bounce",style:{animationDelay:"0ms",animationDuration:"1s"}}),p.jsx("div",{className:"w-1.5 h-1.5 bg-primary rounded-full animate-bounce",style:{animationDelay:"150ms",animationDuration:"1s"}}),p.jsx("div",{className:"w-1.5 h-1.5 bg-primary rounded-full animate-bounce",style:{animationDelay:"300ms",animationDuration:"1s"}})]})]})}),cE=I.createContext(void 0);function Z3(){const e=I.useContext(cE);if(!e)throw new Error("useTypingIndicatorContext must be used within a TypingIndicatorProvider");return e}function e4({children:e}){const[t,n]=I.useState(new Set),r=I.useRef(new Map),s=I.useCallback((a,l)=>{n(c=>{const u=new Set(c);return(l?!c.has(a):c.has(a))?(l?u.add(a):u.delete(a),u):c})},[]),i=I.useCallback(a=>{const l=r.current.get(a);l&&(clearTimeout(l),r.current.delete(a)),n(c=>{if(!c.has(a))return c;const u=new Set(c);return u.delete(a),u})},[]);I.useEffect(()=>{const a=l=>{const{type:c,username:u}=l.detail;if(c==="typing-start"){const d=r.current.get(u);d&&clearTimeout(d),n(A=>{if(A.has(u))return A;const m=new Set(A);return m.add(u),m});const f=setTimeout(()=>{i(u)},5e3);r.current.set(u,f)}else c==="typing-stop"&&i(u)};return window.addEventListener("typing-indicator",a),()=>{window.removeEventListener("typing-indicator",a),r.current.forEach(l=>clearTimeout(l)),r.current.clear()}},[i]);const o={typingUsers:Array.from(t),setTypingUser:s,clearTypingUser:i};return p.jsx(cE.Provider,{value:o,children:e})}function t4(e,t,n,r,s){const i=I.useRef(new Set);I.useEffect(()=>{const u=localStorage.getItem(`sentReadReceipts_${n}`);if(u)try{const d=JSON.parse(u);i.current=new Set(d)}catch(d){console.error("Failed to load sent read receipts:",d)}},[n]);const o=I.useCallback(()=>{try{localStorage.setItem(`sentReadReceipts_${n}`,JSON.stringify(Array.from(i.current)))}catch(u){console.error("Failed to save sent read receipts:",u)}},[n]),a=I.useCallback(async(u,d)=>{if(d!==n){if(i.current.has(u)){console.debug("[Receipt] Read receipt already sent for message:",u);return}try{await r(crypto.randomUUID(),JSON.stringify({type:"read-receipt",messageId:u,timestamp:Date.now()}),"read-receipt"),i.current.add(u),o(),console.debug("[Receipt] Read receipt sent for message:",u)}catch(f){console.error("Failed to send read receipt:",f)}}},[n,r,o]),l=I.useCallback(async u=>{let d=null;if(t(f=>f.map(A=>{var m;return A.id===u&&!((m=A.receipt)!=null&&m.read)&&A.sender!==n?(d={...A,receipt:{...A.receipt,read:!0,readAt:new Date}},d):A})),d)try{await s(d),console.debug("[Receipt] Message marked as read and persisted:",u)}catch(f){console.error("[Receipt] Failed to persist read status:",f)}},[t,n,s]),c=I.useCallback(u=>{var m,y;if(!u.receipt||u.sender!==n)return u.receipt;const d=e.filter(B=>B.sender===n),f=d[d.length-1],A=d.filter(B=>{var h;return(h=B.receipt)==null?void 0:h.read}).sort((B,h)=>new Date(h.timestamp).getTime()-new Date(B.timestamp).getTime())[0];if((m=u.receipt)!=null&&m.read&&u.id===(A==null?void 0:A.id)||u.id===f.id&&!((y=u.receipt)!=null&&y.read))return u.receipt},[e,n]);return I.useEffect(()=>{const u=async d=>{const{messageId:f,from:A}=d.detail;console.debug("[Receipt] Received delivery receipt:",{messageId:f,from:A});let m=null;if(t(y=>y.map(B=>B.id===f&&B.sender===n?(m={...B,receipt:{...B.receipt,delivered:!0,deliveredAt:new Date}},m):B)),m)try{await s(m),console.debug("[Receipt] Delivery status persisted for message:",f)}catch(y){console.error("[Receipt] Failed to persist delivery status:",y)}};return window.addEventListener("message-delivered",u),()=>{window.removeEventListener("message-delivered",u)}},[n,t,s]),I.useEffect(()=>{const u=async d=>{const{messageId:f,from:A}=d.detail;console.debug("[Receipt] Received read receipt:",{messageId:f,from:A});let m=null;if(t(y=>y.map(B=>B.id===f&&B.sender===n?(m={...B,receipt:{...B.receipt,read:!0,readAt:new Date}},m):B)),m)try{await s(m),console.debug("[Receipt] Read receipt status persisted for message:",f)}catch(y){console.error("[Receipt] Failed to persist read receipt status:",y)}};return window.addEventListener("message-read",u),()=>{window.removeEventListener("message-read",u)}},[n,t,s]),I.useEffect(()=>{const u=()=>{try{const f=Date.now()-2592e6,A=e.filter(y=>new Date(y.timestamp).getTime()<f).map(y=>y.id);let m=!1;A.forEach(y=>{i.current.has(y)&&(i.current.delete(y),m=!0)}),m&&(o(),console.debug("[Receipt] Cleaned up old read receipt tracking data"))}catch(f){console.error("Failed to cleanup old read receipts:",f)}};u();const d=setInterval(u,24*60*60*1e3);return()=>clearInterval(d)},[e,o]),{sendReadReceipt:a,markMessageAsRead:l,getSmartReceiptStatus:c}}function n4({onSendMessage:e,onSendFile:t,messages:n,setMessages:r,isEncrypted:s=!0,currentUsername:i,users:o,selectedConversation:a,saveMessageToLocalDB:l}){const c=I.useRef(null),[u,d]=I.useState(null),[f,A]=I.useState(null),{handleLocalTyping:m,handleConversationChange:y}=J3(i,e),{typingUsers:B}=Z3();I.useEffect(()=>{y()},[a,y]);const{sendReadReceipt:h,markMessageAsRead:g,getSmartReceiptStatus:w}=t4(n,r,i,e,l);return I.useEffect(()=>{if(c.current){const E=c.current.querySelector("[data-radix-scroll-area-viewport]");E&&(E.scrollTop=E.scrollHeight)}},[n]),I.useEffect(()=>{var x;const E=(x=c.current)==null?void 0:x.querySelector("[data-radix-scroll-area-viewport]");if(!E)return;const v=()=>document.visibilityState==="visible"&&document.hasFocus(),b=()=>{if(!v())return;const R=E.getBoundingClientRect(),S=R.bottom;n.forEach($=>{var le;if($.sender===i||(le=$.receipt)!=null&&le.read)return;const Ae=document.getElementById(`message-${$.id}`);if(Ae){const K=Ae.getBoundingClientRect().bottom;K<=S&&K>=R.top&&(g($.id),h($.id,$.sender))}})};let C;const T=()=>{clearTimeout(C),C=setTimeout(b,100)};return E.addEventListener("scroll",T),window.addEventListener("visibilitychange",b),window.addEventListener("focus",b),window.addEventListener("blur",b),setTimeout(b,100),()=>{clearTimeout(C),E.removeEventListener("scroll",T),window.removeEventListener("visibilitychange",b),window.removeEventListener("focus",b),window.removeEventListener("blur",b)}},[n,i,g,h,o]),p.jsxs(jA,{className:"flex flex-col h-full border border-gray-300 shadow-lg rounded-lg",children:[p.jsxs("div",{className:"p-4 border-b bg-gray-100",children:[p.jsx("h2",{className:"text-lg font-semibold",children:a?`Chat with ${a}`:"Chat"}),p.jsx("p",{className:"text-sm text-gray-500",children:a?"Secure end-to-end encrypted messaging":"Select a conversation to start chatting"})]}),p.jsx(WA,{className:"flex-1 p-4 bg-white",ref:c,children:p.jsx("div",{className:"space-y-4",children:n.length===0?p.jsx("div",{className:"flex items-center justify-center h-full min-h-[200px] text-gray-400 text-sm",children:a?"No messages yet. Start the conversation!":"Select a conversation to view messages"}):n.map((E,v)=>p.jsx("div",{id:`message-${E.id}`,children:p.jsx(zb,{message:{...E,receipt:w(E)},previousMessage:v>0?n[v-1]:void 0,onReply:()=>d(E),onDelete:()=>e(E.id,"",oe.DELETE_MESSAGE,null),onEdit:()=>A(E)})},E.id))})}),p.jsx(lE,{}),B.length>0&&p.jsx("div",{className:"px-4 py-3 bg-muted/30 border-t border-border/50 animate-in slide-in-from-bottom duration-200",children:p.jsx("div",{className:"flex flex-col gap-1",children:B.map(E=>p.jsx(q3,{username:E},E))})}),p.jsx("div",{className:"p-4 bg-gray-50",children:p.jsx(X3,{onSendMessage:async(E,v,b,C)=>{await e(E??"",v,b,C),d(null)},onSendFile:t,isEncrypted:s,currentUsername:i,users:o,replyTo:u,onCancelReply:()=>d(null),editingMessage:f,onCancelEdit:()=>A(null),onEditMessage:async E=>{f&&(await e(f.id,E,oe.EDIT_MESSAGE,f.replyTo),A(null))},onTyping:m,selectedConversation:a})})]})}class E0{constructor(t){Ie(this,"dbName");Ie(this,"storeName","encryptedKeys");Ie(this,"masterKey",null);Ie(this,"username");this.username=t,this.dbName=`SecureKeyDB_${t}`}async initialize(t,n,r){if(this.masterKey)return;let s,i,o;n?(s=D.Base64.base64ToUint8Array(n),i=crypto.getRandomValues(new Uint8Array(12))):(s=crypto.getRandomValues(new Uint8Array(16)),i=crypto.getRandomValues(new Uint8Array(12)));const a=await this.getKeyMetadata(),l=!a||a.argon2Params;if(l){r?o=r:a!=null&&a.argon2Params?o=a.argon2Params:o={version:19,algorithm:"argon2id",memoryCost:131072,timeCost:3,parallelism:1};const c=await Is.hash({pass:t,salt:s,time:o.timeCost,mem:o.memoryCost,parallelism:o.parallelism,type:2,version:o.version,hashLen:32}),u=await crypto.subtle.importKey("raw",c.hash,{name:"AES-GCM"},!1,["encrypt","decrypt"]);this.masterKey=u}else{const c=await crypto.subtle.importKey("raw",new TextEncoder().encode(t),{name:"PBKDF2"},!1,["deriveKey"]),u=await crypto.subtle.deriveKey({name:"PBKDF2",salt:s,iterations:1e5,hash:"SHA-256"},c,{name:"AES-GCM",length:256},!1,["encrypt","decrypt"]);this.masterKey=u}if(!n&&(await this.storeKeyMetadata({salt:D.Base64.arrayBufferToBase64(s),iv:D.Base64.arrayBufferToBase64(i),argon2Params:l?o:void 0}),!await this.getKeyMetadata()))throw new Error("Failed to store key metadata")}async storeKeys(t){if(!this.masterKey)throw new Error("Key manager not initialized");const n=await this.getKeyMetadata();if(!n)throw new Error("Key metadata not found");const r=D.Base64.base64ToUint8Array(n.iv),s=new TextEncoder().encode(JSON.stringify(Array.from(t.x25519.private))),i=await crypto.subtle.encrypt({name:"AES-GCM",iv:r},this.masterKey,s),o=new TextEncoder().encode(JSON.stringify(Array.from(t.kyber.secretKey))),a=await crypto.subtle.encrypt({name:"AES-GCM",iv:r},this.masterKey,o),l={encryptedX25519Private:D.Base64.arrayBufferToBase64(i),encryptedKyberSecret:D.Base64.arrayBufferToBase64(a),x25519PublicBase64:t.x25519.publicKeyBase64,kyberPublicBase64:t.kyber.publicKeyBase64,salt:n.salt,iv:n.iv,argon2Params:n.argon2Params};await this.storeEncryptedKeys(l)}async getKeys(){if(!this.masterKey)throw new Error("Key manager not initialized");const t=await this.getEncryptedKeys();if(!t)return null;const n=D.Base64.base64ToUint8Array(t.iv),r=D.Base64.base64ToUint8Array(t.encryptedX25519Private);let s;try{const a=await crypto.subtle.decrypt({name:"AES-GCM",iv:n},this.masterKey,r),l=new TextDecoder().decode(a),c=JSON.parse(l);if(!Array.isArray(c)||c.length!==32)throw new Error(`Invalid X25519 private key length: ${c==null?void 0:c.length}, expected 32`);s=new Uint8Array(c)}catch(a){throw console.error("X25519 decryption failed:",a),a}const i=D.Base64.base64ToUint8Array(t.encryptedKyberSecret);let o;try{const a=await crypto.subtle.decrypt({name:"AES-GCM",iv:n},this.masterKey,i),l=new TextDecoder().decode(a),c=JSON.parse(l);if(!Array.isArray(c)||c.length!==2400)throw new Error(`Invalid Kyber secret key length: ${c==null?void 0:c.length}, expected 2400`);o=new Uint8Array(c)}catch(a){throw console.error("Kyber decryption failed:",a),a}return{x25519:{private:s,publicKeyBase64:t.x25519PublicBase64},kyber:{publicKeyBase64:t.kyberPublicBase64,secretKey:o}}}async getPublicKeys(){const t=await this.getEncryptedKeys();return t?{x25519PublicBase64:t.x25519PublicBase64,kyberPublicBase64:t.kyberPublicBase64}:null}clearKeys(){this.masterKey=null}async hasKeys(){return await this.getEncryptedKeys()!==null}async migrateToArgon2(t){const n=await this.getKeyMetadata();if(!n||n.argon2Params)return!1;const r=await this.getKeys();return r?(await this.storeKeys(r),!0):!1}async deleteKeys(){const t=await this.openDB();return new Promise((n,r)=>{const s=t.transaction(this.storeName,"readwrite"),i=s.objectStore(this.storeName),o=i.delete("metadata"),a=i.delete("keys");o.onsuccess=()=>{a.onsuccess=()=>{s.oncomplete=()=>n(),s.onerror=()=>r(s.error)},a.onerror=()=>r(a.error)},o.onerror=()=>r(o.error)})}async deleteDatabase(){return new Promise((t,n)=>{const r=indexedDB.deleteDatabase(this.dbName);r.onsuccess=()=>{t()},r.onerror=()=>{n(r.error)}})}async openDB(){return new Promise((t,n)=>{const r=indexedDB.open(this.dbName,1);r.onerror=()=>n(r.error),r.onsuccess=()=>t(r.result),r.onupgradeneeded=s=>{const i=s.target.result;i.objectStoreNames.contains(this.storeName)||i.createObjectStore(this.storeName,{keyPath:"username"})}})}async storeKeyMetadata(t){const n=await this.openDB();return new Promise((r,s)=>{const i=n.transaction(this.storeName,"readwrite"),a=i.objectStore(this.storeName).put({username:"metadata",type:"metadata",...t});a.onsuccess=()=>{i.oncomplete=()=>r(),i.onerror=()=>s(i.error)},a.onerror=()=>s(a.error)})}async getKeyMetadata(){const t=await this.openDB();return new Promise((n,r)=>{const o=t.transaction(this.storeName,"readonly").objectStore(this.storeName).get("metadata");o.onsuccess=()=>{const a=o.result;a&&a.type==="metadata"?n({salt:a.salt,iv:a.iv}):n(null)},o.onerror=()=>r(o.error)})}async storeEncryptedKeys(t){const n=await this.openDB();return new Promise((r,s)=>{const i=n.transaction(this.storeName,"readwrite"),a=i.objectStore(this.storeName).put({username:"keys",type:"keys",...t});a.onsuccess=()=>{i.oncomplete=()=>r(),i.onerror=()=>s(i.error)},a.onerror=()=>s(a.error)})}async getEncryptedKeys(){const t=await this.openDB();return new Promise((n,r)=>{const o=t.transaction(this.storeName,"readonly").objectStore(this.storeName).get("keys");o.onsuccess=()=>{const a=o.result;a&&a.type==="keys"?n({encryptedX25519Private:a.encryptedX25519Private,encryptedKyberSecret:a.encryptedKyberSecret,x25519PublicBase64:a.x25519PublicBase64,kyberPublicBase64:a.kyberPublicBase64,salt:a.salt,iv:a.iv}):n(null)},o.onerror=()=>r(o.error)})}async storeRatchetIdentity(t){if(!this.masterKey)throw new Error("Key manager not initialized");const n=await this.getKeyMetadata();if(!n)throw new Error("Key metadata not found");const r=D.Base64.base64ToUint8Array(n.iv),s={ed25519Private:Array.from(t.ed25519Private),ed25519PublicBase64:t.ed25519PublicBase64,dilithiumPrivate:Array.from(t.dilithiumPrivate),dilithiumPublicBase64:t.dilithiumPublicBase64,x25519Private:Array.from(t.x25519Private),x25519PublicBase64:t.x25519PublicBase64},i=new TextEncoder().encode(JSON.stringify(s)),o=await crypto.subtle.encrypt({name:"AES-GCM",iv:r},this.masterKey,i),a=await this.openDB();await new Promise((l,c)=>{const u=a.transaction(this.storeName,"readwrite"),f=u.objectStore(this.storeName).put({username:"ratchet-identity",type:"ratchet-identity",data:D.Base64.arrayBufferToBase64(o)});f.onsuccess=()=>{u.oncomplete=()=>l(),u.onerror=()=>c(u.error)},f.onerror=()=>c(f.error)})}async getRatchetIdentity(){if(!this.masterKey)throw new Error("Key manager not initialized");const t=await this.getKeyMetadata();if(!t)throw new Error("Key metadata not found");const n=D.Base64.base64ToUint8Array(t.iv),r=await this.openDB();return new Promise((s,i)=>{const l=r.transaction(this.storeName,"readonly").objectStore(this.storeName).get("ratchet-identity");l.onsuccess=async()=>{const c=l.result;if(!c)return s(null);try{const u=D.Base64.base64ToUint8Array(c.data),d=await crypto.subtle.decrypt({name:"AES-GCM",iv:n},this.masterKey,u),f=JSON.parse(new TextDecoder().decode(d));s({ed25519Private:new Uint8Array(f.ed25519Private),ed25519PublicBase64:f.ed25519PublicBase64,dilithiumPrivate:new Uint8Array(f.dilithiumPrivate),dilithiumPublicBase64:f.dilithiumPublicBase64,x25519Private:new Uint8Array(f.x25519Private),x25519PublicBase64:f.x25519PublicBase64})}catch(u){i(u)}},l.onerror=()=>i(l.error)})}async storeRatchetPrekeys(t){if(!this.masterKey)throw new Error("Key manager not initialized");const n=await this.getKeyMetadata();if(!n)throw new Error("Key metadata not found");const r=D.Base64.base64ToUint8Array(n.iv),s={signedPreKey:{id:t.signedPreKey.id,private:Array.from(t.signedPreKey.private),publicBase64:t.signedPreKey.publicBase64,signatureBase64:t.signedPreKey.signatureBase64},oneTimePreKeys:t.oneTimePreKeys.map(l=>({id:l.id,private:Array.from(l.private),publicBase64:l.publicBase64}))},i=new TextEncoder().encode(JSON.stringify(s)),o=await crypto.subtle.encrypt({name:"AES-GCM",iv:r},this.masterKey,i),a=await this.openDB();await new Promise((l,c)=>{const u=a.transaction(this.storeName,"readwrite"),f=u.objectStore(this.storeName).put({username:"ratchet-prekeys",type:"ratchet-prekeys",data:D.Base64.arrayBufferToBase64(o)});f.onsuccess=()=>{u.oncomplete=()=>l(),u.onerror=()=>c(u.error)},f.onerror=()=>c(f.error)})}async getRatchetPrekeys(){if(!this.masterKey)throw new Error("Key manager not initialized");const t=await this.getKeyMetadata();if(!t)throw new Error("Key metadata not found");const n=D.Base64.base64ToUint8Array(t.iv),r=await this.openDB();return new Promise((s,i)=>{const l=r.transaction(this.storeName,"readonly").objectStore(this.storeName).get("ratchet-prekeys");l.onsuccess=async()=>{const c=l.result;if(!c)return s(null);try{const u=D.Base64.base64ToUint8Array(c.data),d=await crypto.subtle.decrypt({name:"AES-GCM",iv:n},this.masterKey,u),f=JSON.parse(new TextDecoder().decode(d));s({signedPreKey:f.signedPreKey?{id:f.signedPreKey.id,private:new Uint8Array(f.signedPreKey.private),publicBase64:f.signedPreKey.publicBase64,signatureBase64:f.signedPreKey.signatureBase64}:null,oneTimePreKeys:Array.isArray(f.oneTimePreKeys)?f.oneTimePreKeys.map(A=>({id:A.id,private:new Uint8Array(A.private),publicBase64:A.publicBase64})):[]})}catch(u){i(u)}},l.onerror=()=>i(l.error)})}async consumeOneTimePreKey(t){const n=await this.getRatchetPrekeys();if(!n)return;const r=n.oneTimePreKeys.filter(s=>s.id!==t);await this.storeRatchetPrekeys({signedPreKey:n.signedPreKey,oneTimePreKeys:r})}}class Yr{static async generateIdentityKeyPair(){const t=await Me(()=>import("./ed25519-B7aCHRcn.js"),[]),n=t.ed25519,r=t.x25519||(await Me(async()=>{const{x25519:c}=await import("./index-BQzrUxzF.js");return{x25519:c}},[])).x25519,s=n.utils.randomPrivateKey(),i=n.getPublicKey(s),o=await D.Dilithium.generateKeyPair(),a=r.utils.randomPrivateKey(),l=r.getPublicKey(a);return{ed25519Private:s,ed25519Public:i,dilithiumPrivate:o.secretKey,dilithiumPublic:o.publicKey,x25519Private:a,x25519Public:l}}static async generateSignedPreKey(t,n){const r=await Me(()=>import("./ed25519-B7aCHRcn.js"),[]),s=r.ed25519,i=r.x25519||(await Me(async()=>{const{x25519:d}=await import("./index-BQzrUxzF.js");return{x25519:d}},[])).x25519,o=i.utils.randomPrivateKey(),a=i.getPublicKey(o),l=crypto.randomUUID(),c=await s.sign(a,t);let u;return n&&n.length===4896&&(u=await D.Dilithium.sign(n,a)),{id:l,publicKey:a,ed25519Signature:c,dilithiumSignature:u,privateKey:o}}static async generateOneTimePreKeys(t){const r=(await Me(()=>import("./ed25519-B7aCHRcn.js"),[])).x25519||(await Me(async()=>{const{x25519:i}=await import("./index-BQzrUxzF.js");return{x25519:i}},[])).x25519,s=[];for(let i=0;i<t;i++){const o=r.utils.randomPrivateKey(),a=r.getPublicKey(o);s.push({id:crypto.randomUUID(),publicKey:a,privateKey:o})}return s}static async generateEphemeralX25519KeyPair(){const n=(await Me(()=>import("./ed25519-B7aCHRcn.js"),[])).x25519||(await Me(async()=>{const{x25519:i}=await import("./index-BQzrUxzF.js");return{x25519:i}},[])).x25519,r=n.utils.randomPrivateKey(),s=n.getPublicKey(r);return{privateKey:r,publicKey:s}}static async deriveReceiverSecret(t,n,r,s){const i=await(await Me(async()=>{const{x25519:A}=await import("./ed25519-B7aCHRcn.js");return{x25519:A}},[])).x25519||(await Me(async()=>{const{x25519:A}=await import("./index-BQzrUxzF.js");return{x25519:A}},[])).x25519,o=i.getSharedSecret(t,r),a=i.getSharedSecret(n,r),l=s?i.getSharedSecret(s,r):new Uint8Array,c=new Uint8Array(o.length+a.length+l.length);let u=0;for(const A of[o,a,l])c.set(A,u),u+=A.length;const d=new Uint8Array(32);return await D.KDF.hkdfDerive(c,d,new TextEncoder().encode("x3dh-root"),32)}static async verifyPreKeyBundle(t){const s=(await Me(()=>import("./ed25519-B7aCHRcn.js"),[])).ed25519.verify(t.signedPreKey.ed25519Signature,t.signedPreKey.publicKey,t.identityEd25519Public);let i=!0;if(t.signedPreKey.dilithiumSignature&&t.identityDilithiumPublic)try{i=await D.Dilithium.verify(t.signedPreKey.dilithiumSignature,t.signedPreKey.publicKey,t.identityDilithiumPublic)}catch(o){console.warn("[X3DH] Dilithium verification failed with standard order, trying alternative:",o),i=await D.Dilithium.verify(t.identityDilithiumPublic,t.signedPreKey.publicKey,t.signedPreKey.dilithiumSignature)}return s&&i}static async deriveSenderSecret(t,n,r,s){const i=await(await Me(async()=>{const{x25519:A}=await import("./ed25519-B7aCHRcn.js");return{x25519:A}},[])).x25519||(await Me(async()=>{const{x25519:A}=await import("./index-BQzrUxzF.js");return{x25519:A}},[])).x25519,o=i.getSharedSecret(n,r.identityX25519Public),a=i.getSharedSecret(n,r.signedPreKey.publicKey),l=s?i.getSharedSecret(n,s.publicKey):new Uint8Array,c=new Uint8Array(o.length+a.length+l.length);let u=0;for(const A of[o,a,l])c.set(A,u),u+=A.length;const d=new Uint8Array(32);return await D.KDF.hkdfDerive(c,d,new TextEncoder().encode("x3dh-root"),32)}}function yi(e){return D.Base64.base64ToUint8Array(e)}function mi(e){return D.Base64.arrayBufferToBase64(e)}class pr{static setUserContext(t,n){!t||!n||(this.username=t,this.aesKey=n)}static clearAll(){if(this.username)try{localStorage.removeItem(`securechat_sessions_${this.username}`)}catch{}this.cache={}}static async load(){if(!this.username||!this.aesKey)return;const t=localStorage.getItem(`securechat_sessions_${this.username}`);if(!t){this.cache={};return}try{const n=JSON.parse(t),{iv:r,authTag:s,encrypted:i}=D.Decrypt.deserializeEncryptedDataFromUint8Array(D.Base64.base64ToUint8Array(n.data)),o=await D.Decrypt.decryptWithAESRaw(r,s,i,this.aesKey),a=JSON.parse(o);this.cache={};for(const[l,c]of Object.entries(a)){const u=new Map;for(const[d,f]of Object.entries(c.skippedMessageKeys))u.set(d,yi(f));this.cache[l]={rootKey:yi(c.rootKey),currentDhPrivate:yi(c.currentDhPrivate),currentDhPublic:yi(c.currentDhPublic),remoteDhPublic:yi(c.remoteDhPublic),sendChainKey:yi(c.sendChainKey),recvChainKey:yi(c.recvChainKey),sendMessageNumber:c.sendMessageNumber,recvMessageNumber:c.recvMessageNumber,previousSendMessageCount:c.previousSendMessageCount,skippedMessageKeys:u,...c.usedSignedPreKeyId?{usedSignedPreKeyId:c.usedSignedPreKeyId}:{},...c.usedOneTimePreKeyId?{usedOneTimePreKeyId:c.usedOneTimePreKeyId}:{}}}}catch{this.cache={}}}static async persist(){if(!this.username||!this.aesKey)return;const t={};for(const[a,l]of Object.entries(this.cache)){const c={};l.skippedMessageKeys.forEach((u,d)=>{c[d]=mi(u)}),t[a]={rootKey:mi(l.rootKey),currentDhPrivate:mi(l.currentDhPrivate),currentDhPublic:mi(l.currentDhPublic),remoteDhPublic:mi(l.remoteDhPublic),sendChainKey:mi(l.sendChainKey),recvChainKey:mi(l.recvChainKey),sendMessageNumber:l.sendMessageNumber,recvMessageNumber:l.recvMessageNumber,previousSendMessageCount:l.previousSendMessageCount,skippedMessageKeys:c,...l.usedSignedPreKeyId?{usedSignedPreKeyId:l.usedSignedPreKeyId}:{},...l.usedOneTimePreKeyId?{usedOneTimePreKeyId:l.usedOneTimePreKeyId}:{}}}const n=JSON.stringify(t),{iv:r,authTag:s,encrypted:i}=await D.AES.encryptWithAesGcmRaw(n,this.aesKey),o=D.Encrypt.serializeEncryptedData(r,s,i);localStorage.setItem(`securechat_sessions_${this.username}`,JSON.stringify({data:o}))}static get(t){return this.cache[t]||null}static async set(t,n){this.cache[t]=n,await this.persist()}static async remove(t){delete this.cache[t],await this.persist()}}Ie(pr,"username",null),Ie(pr,"aesKey",null),Ie(pr,"cache",{});class Xe{static sessionKey(t,n){return`${t}::${n}`}static get(t,n){const r=this.sessionKey(t,n),s=this.inMemory.get(r);if(s)return s;const i=pr.get(n);return i?(this.inMemory.set(r,i),i):null}static set(t,n,r){const s=this.sessionKey(t,n);this.inMemory.set(s,r),pr.set(n,r).catch(()=>{})}static clear(t,n){this.inMemory.delete(this.sessionKey(t,n)),pr.remove(n).catch(()=>{})}static async initUserContext(t,n){this.currentUser=t,pr.setUserContext(t,n),await pr.load()}static clearAllForCurrentUser(){if(this.currentUser){for(const t of Array.from(this.inMemory.keys()))t.startsWith(`${this.currentUser}::`)&&this.inMemory.delete(t);pr.clearAll()}}}Ie(Xe,"inMemory",new Map),Ie(Xe,"currentUser",null);const r4=()=>{const[e,t]=I.useState(""),[n,r]=I.useState(!1),[s,i]=I.useState(!1),[o,a]=I.useState(""),[l,c]=I.useState(!1),u=I.useRef(""),d=I.useRef(""),f=I.useRef(null),[A,m]=I.useState(!1),[y,B]=I.useState(null),[h,g]=I.useState(null),w=I.useCallback(()=>{if(!h)return;const{newKeys:_}=h;try{Uc.set(_)}catch{}B(_),g(null),a("")},[h]),E=I.useCallback(()=>{g(null),a("Server key changed. Trust not granted.")},[]),v=I.useRef(null),b=I.useRef(null),C=I.useRef(""),T=I.useCallback(async()=>{var _,N,P,j;if(console.log("[AUTH] Getting keys on demand"),!b.current)return console.error("[AUTH] Key manager not initialized"),null;if(!d.current)return console.error("[AUTH] Passphrase not available"),null;try{if(v.current)return console.debug("[AUTH] Using cached keys from memory"),v.current;let L=await b.current.getKeys().catch(()=>null);if(!L){console.log("[AUTH] Keys not available, initializing key manager");const Y=await b.current.getKeyMetadata();Y?await b.current.initialize(d.current,Y.salt):await b.current.initialize(d.current),L=await b.current.getKeys()}return console.log("[AUTH] Keys retrieved successfully"),L?!L.x25519||!L.kyber?(console.error("[AUTH] Invalid key structure:",{hasX25519:!!L.x25519,hasKyber:!!L.kyber}),null):(console.debug("[AUTH] Keys validation passed",{x25519PublicLen:(_=L.x25519.publicKeyBase64)==null?void 0:_.length,kyberPublicLen:(N=L.kyber.publicKeyBase64)==null?void 0:N.length,x25519PrivateLen:(P=L.x25519.private)==null?void 0:P.byteLength,kyberSecretLen:(j=L.kyber.secretKey)==null?void 0:j.byteLength}),v.current=L,L):(console.error("[AUTH] Keys are null after retrieval"),null)}catch(L){return console.error("[AUTH] Error loading keys on demand:",L),null}},[]),x=I.useRef(""),[R,S]=I.useState(null),[$,Ae]=I.useState(!1),le=I.useCallback(async()=>{var _,N,P,j,L,Y,V,H;console.log("[AUTH] Starting key initialization process"),i(!0);try{const W=d.current;if(!W)throw console.error("[AUTH] Passphrase not available for key generation"),new Error("Passphrase not available for key generation");const J=C.current;if(!J)throw console.error("[AUTH] Username not available for key generation"),new Error("Username not available for key generation");if(console.log(`[AUTH] Initializing key manager for user: ${J}`),b.current||(b.current=new E0(J)),await b.current.hasKeys()){console.log("[AUTH] Loading existing keys"),await b.current.initialize(W);const te=await b.current.getKeys();if(te){console.log("[AUTH] Existing keys loaded successfully");try{console.debug("[AUTH] Existing keys summary",{x25519PublicBase64:((_=te.x25519.publicKeyBase64)==null?void 0:_.slice(0,28))+"...",kyberPublicBase64:((N=te.kyber.publicKeyBase64)==null?void 0:N.slice(0,28))+"...",x25519PrivateLen:(P=te.x25519.private)==null?void 0:P.length,kyberSecretLen:(j=te.kyber.secretKey)==null?void 0:j.length})}catch{}v.current=te}}else{console.log("[AUTH] Generating new hybrid key pair");const te=await D.Hash.hashData(W+J),ee=await D.Hybrid.generateHybridKeyPairFromSeed(te);await b.current.initialize(W),await b.current.storeKeys(ee),console.log("[AUTH] New keys generated and stored successfully");try{console.debug("[AUTH] New keys summary",{x25519PublicBase64:((L=ee.x25519.publicKeyBase64)==null?void 0:L.slice(0,28))+"...",kyberPublicBase64:((Y=ee.kyber.publicKeyBase64)==null?void 0:Y.slice(0,28))+"...",x25519PrivateLen:(V=ee.x25519.private)==null?void 0:V.length,kyberSecretLen:(H=ee.kyber.secretKey)==null?void 0:H.length})}catch{}v.current=ee}}catch(W){console.error("[AUTH] Error generating keys: ",W),a("Key generation failed")}finally{i(!1)}},[]),me=async(_,N,P,j)=>{console.log(`[AUTH] Starting ${_} process for user: ${N}`),a("");try{Xe.clearAllForCurrentUser()}catch{}C.current=N,t(N),x.current=P,u.current=j||"";try{if(!y)throw console.error("[AUTH] Server public keys not available"),new Error("Server public keys not available");he.isConnectedToServer()||(console.log("[AUTH] Connecting to WebSocket server"),await he.connect()),j&&(console.log("[AUTH] Passphrase provided, initializing keys"),d.current=j,await le());const L={usernameSent:N,hybridPublicKeys:{x25519PublicBase64:"",kyberPublicBase64:""}},Y=await D.Hybrid.encryptHybridPayload(L,y),V=await D.Hybrid.encryptHybridPayload({content:P},y),H={type:_==="register"?oe.ACCOUNT_SIGN_UP:oe.ACCOUNT_SIGN_IN,userData:Y,passwordData:V};console.log(`[AUTH] Sending ${_} request to server`),he.send(JSON.stringify(H))}catch(L){console.error(`[AUTH] ${_} submission failed:`,L),a(`Submission error: ${L instanceof Error?L.message:"Unknown error"}`)}},K=async _=>{if(console.log("[AUTH] Submitting server password"),a(""),!y){a("Server keys not available");return}try{if(!he.isConnectedToServer())try{await he.connect()}catch(j){a(`Failed to connect to server: ${j}`);return}const N=await D.Hybrid.encryptHybridPayload({content:_},y);try{console.debug("[AUTH] Password payload encrypted (hybrid-v1)",{hasEphemeralX25519Public:!!N.ephemeralX25519Public,kyberCiphertextLen:(N.kyberCiphertext||"").length,encryptedMessageLen:(N.encryptedMessage||"").length})}catch{}const P={type:oe.SERVER_LOGIN,passwordData:N};console.log("[AUTH] Sending server password to server"),he.send(JSON.stringify(P)),C.current=e}catch(N){console.error("Login failed: ",N),a("Password encryption failed")}},Ue=async(_,N)=>{var P,j,L,Y;console.log(`[AUTH] Submitting passphrase for ${N} mode`),d.current=_;try{await le();let V;if(N==="login"){if(!R)throw new Error("Missing passphrase parameters");V=await D.Hash.hashDataUsingInfo(_,R)}else V=await D.Hash.hashData(_);if(u.current=V,console.log("[AUTH] Sending passphrase hash to server"),he.send(JSON.stringify({type:N==="register"?oe.PASSPHRASE_HASH_NEW:oe.PASSPHRASE_HASH,passphraseHash:V})),b.current){let H=await b.current.getRatchetIdentity();if(!H){const ee=await Yr.generateIdentityKeyPair();console.log("[AUTH] Generated new ratchet identity:",{ed25519PrivateLen:ee.ed25519Private.length,dilithiumPrivateLen:ee.dilithiumPrivate.length,x25519PrivateLen:ee.x25519Private.length}),await b.current.storeRatchetIdentity({ed25519Private:ee.ed25519Private,ed25519PublicBase64:D.Base64.arrayBufferToBase64(ee.ed25519Public),dilithiumPrivate:ee.dilithiumPrivate,dilithiumPublicBase64:D.Base64.arrayBufferToBase64(ee.dilithiumPublic),x25519Private:ee.x25519Private,x25519PublicBase64:D.Base64.arrayBufferToBase64(ee.x25519Public)}),H=await b.current.getRatchetIdentity()}console.log("[AUTH] Retrieved ratchet identity:",{ed25519PrivateLen:(P=H==null?void 0:H.ed25519Private)==null?void 0:P.length,dilithiumPrivateLen:(j=H==null?void 0:H.dilithiumPrivate)==null?void 0:j.length,x25519PrivateLen:(L=H==null?void 0:H.x25519Private)==null?void 0:L.length});let W=await b.current.getRatchetPrekeys(),J=(W==null?void 0:W.signedPreKey)??null,ne=(W==null?void 0:W.oneTimePreKeys)??[],te=null;if(!J){console.log("[AUTH] Generating signed prekey with keys:",{ed25519PrivateLen:H.ed25519Private.length,dilithiumPrivateLen:(Y=H.dilithiumPrivate)==null?void 0:Y.length,hasDilithium:!!H.dilithiumPrivate});const ee=await Yr.generateSignedPreKey(H.ed25519Private,H.dilithiumPrivate||void 0);te=ee,J={id:ee.id,private:ee.privateKey,publicBase64:D.Base64.arrayBufferToBase64(ee.publicKey),signatureBase64:D.Base64.arrayBufferToBase64(ee.ed25519Signature)}}if((!ne||ne.length===0)&&(ne=(await Yr.generateOneTimePreKeys(25)).map(ae=>({id:ae.id,private:ae.privateKey,publicBase64:D.Base64.arrayBufferToBase64(ae.publicKey)}))),await b.current.storeRatchetPrekeys({signedPreKey:J,oneTimePreKeys:ne}),he.send(JSON.stringify({type:oe.X3DH_PUBLISH_BUNDLE,bundle:{username:C.current,identityEd25519PublicBase64:H.ed25519PublicBase64,identityDilithiumPublicBase64:H.dilithiumPublicBase64,identityX25519PublicBase64:H.x25519PublicBase64,ratchetPublicBase64:J.publicBase64,signedPreKey:{id:J.id,publicKeyBase64:J.publicBase64,ed25519SignatureBase64:J.signatureBase64,dilithiumSignatureBase64:te?D.Base64.arrayBufferToBase64(te.dilithiumSignature):void 0},oneTimePreKeys:ne.map(ee=>({id:ee.id,publicKeyBase64:ee.publicBase64}))}})),b.current&&y){const ee=await b.current.getPublicKeys();if(ee){const ae={usernameSent:C.current,hybridPublicKeys:{x25519PublicBase64:ee.x25519PublicBase64,kyberPublicBase64:ee.kyberPublicBase64}},pe=await D.Hybrid.encryptHybridPayload(ae,y);he.send(JSON.stringify({type:oe.HYBRID_KEYS_UPDATE,userData:pe}))}}}}catch(V){console.error("Passphrase hashing failed:",V),a("Passphrase processing failed")}},M=_=>{console.log(`[AUTH] Authentication success for user: ${_}`),l&&(t(_),r(!0),a(""),b.current&&d.current&&b.current.initialize(d.current).catch(N=>{console.error("Failed to initialize key manager after auth success:",N)}))},O=async(_,N="")=>{if(console.log("[AUTH] Logging out user"),_!=null&&_.current){try{console.log("[AUTH] Clearing SecureDB database"),await _.current.clearDatabase(),console.log("[AUTH] SecureDB database cleared successfully")}catch(P){console.error("[AUTH] Failed to clear SecureDB database:",P)}_.current=null}try{Xe.clearAllForCurrentUser()}catch{}if(C.current)try{console.log("[AUTH] Clearing localStorage data for user"),localStorage.removeItem(`securechat_sessions_${C.current}`),localStorage.removeItem(`securechat_pins_${C.current}`),localStorage.removeItem(`sentReadReceipts_${C.current}`),console.log("[AUTH] localStorage data cleared successfully")}catch(P){console.error("[AUTH] Failed to clear localStorage data:",P)}try{localStorage.removeItem("securechat_server_pin_v1")}catch(P){console.error("[AUTH] Failed to clear server pin:",P)}x.current="",u.current="",d.current="",f.current=null,v.current=null,b.current&&(b.current.clearKeys(),b.current.deleteDatabase().catch(P=>{console.error("Failed to delete user database:",P)})),r(!1),a(N),c(!1)},F=_=>async()=>await O(_.secureDBRef,"Logged out");return I.useEffect(()=>{(async()=>{var P;if(!A)try{console.log("[AUTH] Performing initial cleanup check");const j=localStorage.getItem("securechat_pending_cleanup");if(j)try{const{username:L}=JSON.parse(j);console.log("[AUTH] Found pending cleanup for user:",L),await new E0(L).deleteDatabase(),console.log("[AUTH] Cleared SecureKeyManager database for:",L),localStorage.removeItem("securechat_pending_cleanup"),console.log("[AUTH] Pending cleanup completed")}catch(L){console.error("[AUTH] Failed to complete pending cleanup:",L),localStorage.removeItem("securechat_pending_cleanup")}try{if("indexedDB"in window){const L=await((P=indexedDB.databases)==null?void 0:P.call(indexedDB))||[];for(const Y of L)if(Y.name&&Y.name.startsWith("SecureKeyDB_")){console.log("[AUTH] Clearing orphaned database:",Y.name);const V=indexedDB.deleteDatabase(Y.name);await new Promise((H,W)=>{V.onsuccess=()=>H(void 0),V.onerror=()=>W(V.error)})}}}catch(L){console.warn("[AUTH] Could not clear orphaned databases:",L)}m(!0),console.log("[AUTH] Initial cleanup completed")}catch(j){console.error("[AUTH] Initial cleanup failed:",j),m(!0)}})();const N=()=>{if(n&&C.current)try{localStorage.setItem("securechat_pending_cleanup",JSON.stringify({username:C.current,timestamp:Date.now()})),localStorage.removeItem(`securechat_sessions_${C.current}`),localStorage.removeItem(`securechat_pins_${C.current}`),localStorage.removeItem("securechat_server_pin_v1"),console.log("[AUTH] Emergency cleanup on page unload completed")}catch(P){console.error("[AUTH] Emergency cleanup failed:",P)}};return window.addEventListener("beforeunload",N),()=>{window.removeEventListener("beforeunload",N)}},[n]),{username:e,serverHybridPublic:y,setServerHybridPublic:B,serverTrustRequest:h,setServerTrustRequest:g,acceptServerTrust:w,rejectServerTrust:E,isLoggedIn:n,setIsLoggedIn:r,isGeneratingKeys:s,loginError:o,accountAuthenticated:l,loginUsernameRef:C,initializeKeys:le,handleAccountSubmit:me,handlePassphraseSubmit:Ue,handleServerPasswordSubmit:K,handleAuthSuccess:M,setAccountAuthenticated:c,passwordRef:x,setLoginError:a,passphraseHashParams:R,setPassphraseHashParams:S,passphrasePlaintextRef:d,passphraseRef:u,aesKeyRef:f,setShowPassphrasePrompt:Ae,showPassphrasePrompt:$,logout:O,useLogout:F,hybridKeysRef:v,keyManagerRef:b,getKeysOnDemand:T}};class i4{constructor(t){Ie(this,"dbName");Ie(this,"username");Ie(this,"encryptionKey",null);this.username=t,this.dbName=`securechat_${t}_db`}async initializeWithKey(t){this.encryptionKey=t,console.log("[SecureDB] SecureDB initialized")}async encryptData(t){if(!this.encryptionKey)throw new Error("Encryption key not initialized");const n=crypto.getRandomValues(new Uint8Array(D.Config.IV_LENGTH)),s=new TextEncoder().encode(JSON.stringify(t)),i=await crypto.subtle.encrypt({name:"AES-GCM",iv:n,tagLength:D.Config.AUTH_TAG_LENGTH*8},this.encryptionKey,s),o=new Uint8Array(n.length+i.byteLength);return o.set(n),o.set(new Uint8Array(i),n.length),o}async decryptData(t){if(!this.encryptionKey)throw new Error("Encryption key not initialized");const n=t.slice(0,D.Config.IV_LENGTH),r=t.slice(D.Config.IV_LENGTH),s=await crypto.subtle.decrypt({name:"AES-GCM",iv:n,tagLength:D.Config.AUTH_TAG_LENGTH*8},this.encryptionKey,r);return JSON.parse(new TextDecoder().decode(s))}openDB(){return new Promise((t,n)=>{const r=indexedDB.open(this.dbName,1);r.onupgradeneeded=()=>{const s=r.result;s.objectStoreNames.contains("data")||s.createObjectStore("data")},r.onsuccess=()=>t(r.result),r.onerror=()=>n(r.error)})}async saveMessages(t){if(!this.encryptionKey)throw new Error("Encryption key not initialized");const n=await this.encryptData(t),r=await this.openDB();return new Promise((s,i)=>{const o=r.transaction("data","readwrite");o.objectStore("data").put(n,"messages"),o.oncomplete=()=>s(),o.onerror=()=>i(o.error)})}async loadMessages(){const t=await this.openDB();return new Promise((n,r)=>{const o=t.transaction("data","readonly").objectStore("data").get("messages");o.onsuccess=async()=>{if(!o.result)return n([]);try{const a=await this.decryptData(o.result);n(a)}catch(a){r(a)}},o.onerror=()=>r(o.error)})}async saveUsers(t){if(!this.encryptionKey)throw new Error("Encryption key not initialized");const n=await this.encryptData(t),r=await this.openDB();return new Promise((s,i)=>{const o=r.transaction("data","readwrite");o.objectStore("data").put(n,"users"),o.oncomplete=()=>s(),o.onerror=()=>i(o.error)})}async loadUsers(){const t=await this.openDB();return new Promise((n,r)=>{const o=t.transaction("data","readonly").objectStore("data").get("users");o.onsuccess=async()=>{if(!o.result)return n([]);try{const a=await this.decryptData(o.result);n(a)}catch(a){r(a)}},o.onerror=()=>r(o.error)})}async clearDatabase(){return new Promise((t,n)=>{const r=indexedDB.deleteDatabase(this.dbName);r.onsuccess=()=>t(),r.onerror=()=>n(r.error)})}}const s4=({Authentication:e,setMessages:t})=>{var d,f,A;const n=I.useRef(null),[r,s]=I.useState(!1),[i,o]=I.useState([]),a=I.useRef([]),l=I.useRef(null),c=I.useRef(new Set);I.useEffect(()=>{if(!(e!=null&&e.isLoggedIn)||r||n.current)return;if(!e.loginUsernameRef.current||!e.passphraseRef.current||!e.passphrasePlaintextRef.current){console.error("[useSecureDB] Cannot initialize DB: missing username, passphrase, or hash");return}(async()=>{var y,B,h;try{console.debug("[useSecureDB] Initializing SecureDB with auth context",{username:e.loginUsernameRef.current,hasPassphraseHash:!!e.passphraseRef.current,hasPassphrasePlaintext:!!e.passphrasePlaintextRef.current,hasAesKey:!!e.aesKeyRef.current});const g=D.Hash.parseArgon2Hash(e.passphraseRef.current),{aesKey:w,encodedHash:E}=await D.Keys.deriveAESKeyFromPassphrase(e.passphrasePlaintextRef.current,{saltBase64:g.salt,time:g.timeCost,memoryCost:g.memoryCost,parallelism:g.parallelism,algorithm:g.algorithm,version:g.version}),v=await D.Keys.exportAESKey(e.aesKeyRef.current),b=await D.Keys.exportAESKey(w);if(!(v.byteLength===b.byteLength&&new Uint8Array(v).every((T,x)=>T===new Uint8Array(b)[x]))){console.error("[useSecureDB] Stored key is not the correct key for this account  aborting initialization"),(y=e.setLoginError)==null||y.call(e,"Stored key is not the correct key for this account, cannot initialize secure storage"),n.current=null,e.logout(n).catch(console.error);return}if(E!==e.passphraseRef.current){console.error("[useSecureDB] Passphrase does not match stored hash  aborting initialization"),(B=e.setLoginError)==null||B.call(e,"Incorrect passphrase, cannot initialize secure storage"),n.current=null,e.logout(n).catch(console.error);return}n.current=new i4(e.loginUsernameRef.current),await n.current.initializeWithKey(e.aesKeyRef.current),s(!0),await Xe.initUserContext(e.loginUsernameRef.current,e.aesKeyRef.current),console.debug("[useSecureDB] SecureDB initialized and session context set"),e.passphraseRef.current=""}catch(g){console.error("[useSecureDB] Failed to initialize SecureDB",g),(h=e.setLoginError)==null||h.call(e,"Failed to initialize secure storage")}})()},[e==null?void 0:e.isLoggedIn,e==null?void 0:e.username,(d=e==null?void 0:e.loginUsernameRef)==null?void 0:d.current,(f=e==null?void 0:e.passphraseRef)==null?void 0:f.current,(A=e==null?void 0:e.passphrasePlaintextRef)==null?void 0:A.current]),I.useEffect(()=>{if(!(e!=null&&e.isLoggedIn)||!r||!n.current)return;(async()=>{var y;try{if(!n.current)return;const B=await n.current.loadMessages().catch(()=>[])||[],h=await n.current.loadUsers().catch(()=>[])||[];console.debug("[useSecureDB] Loaded persisted data",{savedMessages:B.length,savedUsers:h.length});const g=B.map(w=>{var E;return{...w,timestamp:new Date(w.timestamp),isCurrentUser:w.sender===(((E=e==null?void 0:e.loginUsernameRef)==null?void 0:E.current)??(e==null?void 0:e.username)),receipt:w.receipt?{...w.receipt,deliveredAt:w.receipt.deliveredAt?new Date(w.receipt.deliveredAt):void 0,readAt:w.receipt.readAt?new Date(w.receipt.readAt):void 0}:void 0}});t(g),h.length&&o(h)}catch(B){console.error("[useSecureDB] Failed to load secure data",B),(y=e.setLoginError)==null||y.call(e,"Failed to load secure data")}})()},[e==null?void 0:e.isLoggedIn,r]),I.useEffect(()=>{if(!r||!n.current||a.current.length===0)return;(async()=>{try{const y=await n.current.loadMessages()||[];await n.current.saveMessages([...y,...a.current]),console.debug("[useSecureDB] Flushed pending messages",{count:a.current.length}),a.current=[]}catch(y){console.error("[useSecureDB] Failed to flush pending messages",y)}})()},[r]),I.useEffect(()=>{!(e!=null&&e.isLoggedIn)||!r||!n.current||i.length===0||n.current.saveUsers(i).catch(m=>console.error("[useSecureDB] saveUsers error:",m))},[i,e==null?void 0:e.isLoggedIn,r]);const u=I.useCallback(async m=>{if(!m.id){console.error("[useSecureDB] No message id provided");return}t(B=>{const h=B.findIndex(g=>g.id===m.id);if(h!==-1){const g=[...B];return g[h]=m,g}else return[...B,m]});const y=()=>{const h=a.current.findIndex(g=>g.id===m.id);h!==-1?a.current[h]=m:(a.current.push(m),a.current.length>100&&(a.current=a.current.slice(-100)))};if(!r||!n.current)return y();c.current.has(m.id)||(c.current.add(m.id),l.current&&clearTimeout(l.current),l.current=setTimeout(async()=>{try{const B=await n.current.loadMessages().catch(()=>[])||[],h=B.findIndex(E=>E.id===m.id);h!==-1?B[h]=m:B.push(m);const g=1e3,w=B.length>g?B.slice(-g):B;await n.current.saveMessages(w).catch(y),c.current.delete(m.id)}catch(B){console.error("[useSecureDB] DB save failed, saving to pending",B),c.current.delete(m.id),y()}},100))},[r,t]);return{users:i,setUsers:o,dbInitialized:r,secureDBRef:n,saveMessageToLocalDB:u}};function o4(e,t,n){const r=I.useRef({});return{handleFileMessageChunk:I.useCallback(async(o,a)=>{try{const{from:l}=a,{chunkIndex:c,totalChunks:u,chunkData:d,encryptedAESKey:f,ephemeralX25519Public:A,kyberCiphertext:m,filename:y}=o,B=`${l}-${y}`;let h=r.current[B];h||(h={decryptedChunks:new Array(u),totalChunks:u,encryptedAESKey:f,ephemeralX25519Public:o.ephemeralX25519Public,kyberCiphertext:o.kyberCiphertext,filename:y,receivedCount:0},r.current[B]=h);const g=Uint8Array.from(atob(d),T=>T.charCodeAt(0)),{iv:w,authTag:E,encrypted:v}=D.Decrypt.deserializeEncryptedDataFromUint8Array(g);if(!h.aesKey){const T=await e();if(!T)throw new Error("Hybrid keys not available for file decryption");const x={version:"hybrid-v1",ephemeralX25519Public:h.ephemeralX25519Public,kyberCiphertext:h.kyberCiphertext,encryptedMessage:h.encryptedAESKey},R=await D.Hybrid.decryptHybridPayload(x,T),S=D.Base64.base64ToUint8Array(R.aesKey);h.aesKey=await D.Keys.importAESKey(S)}const b=await D.Decrypt.decryptWithAESRaw(new Uint8Array(w),new Uint8Array(E),new Uint8Array(v),h.aesKey),C=O3(new Uint8Array(b));if(h.decryptedChunks[c]=new Blob([C]),h.receivedCount++,h.receivedCount===u){const T=new Blob(h.decryptedChunks,{type:"application/octet-stream"}),x=URL.createObjectURL(T);t({id:ga(),content:x,sender:l,timestamp:new Date,isCurrentUser:!1,isSystemMessage:!1,type:oe.FILE_MESSAGE,filename:y,fileSize:T.size}),delete r.current[B]}}catch(l){console.error("Error handling FILE_MESSAGE_CHUNK:",l),n("Failed to process file chunk")}},[e,t,n]),handleSendFile:async(o,a,l)=>{const c={...o,isCurrentUser:!0,sender:a,shouldPersist:!1};l(c)}}}class jc{static async kdfRoot(t,n){const r=new Uint8Array(t.length+n.length);r.set(t,0),r.set(n,t.length);const s=await D.KDF.hkdfDerive(r,new Uint8Array(32),new TextEncoder().encode("root-kdf"),64);return{rootKey:s.slice(0,32),chainKey:s.slice(32,64)}}static async kdfChain(t){const n=await D.KDF.hkdfDerive(t,new Uint8Array(32),new TextEncoder().encode("chain-kdf"),64);return{nextChainKey:n.slice(0,32),messageKey:n.slice(32,64)}}static async ratchetStep(t,n){const r=await(await Me(async()=>{const{x25519:d}=await import("./ed25519-B7aCHRcn.js");return{x25519:d}},[])).x25519||(await Me(async()=>{const{x25519:d}=await import("./index-BQzrUxzF.js");return{x25519:d}},[])).x25519;t.previousSendMessageCount=t.sendMessageNumber,t.sendMessageNumber=0,t.recvMessageNumber=0,t.remoteDhPublic=n;const s=r.getSharedSecret(t.currentDhPrivate,n),{rootKey:i,chainKey:o}=await this.kdfRoot(t.rootKey,s);t.rootKey=i,t.recvChainKey=o;const a=r.utils.randomPrivateKey(),l=r.getPublicKey(a);t.currentDhPrivate=a,t.currentDhPublic=l;const c=r.getSharedSecret(a,n),{chainKey:u}=await this.kdfRoot(t.rootKey,c);return t.sendChainKey=u,t}static async encrypt(t,n){if(t.sendMessageNumber===0&&t.previousSendMessageCount===0&&t.sendChainKey.every(m=>m===0)){const y=(await(await Me(async()=>{const{x25519:g}=await import("./ed25519-B7aCHRcn.js");return{x25519:g}},[])).x25519||(await Me(async()=>{const{x25519:g}=await import("./index-BQzrUxzF.js");return{x25519:g}},[])).x25519).getSharedSecret(t.currentDhPrivate,t.remoteDhPublic),{rootKey:B,chainKey:h}=await this.kdfRoot(t.rootKey,y);t.rootKey=B,t.sendChainKey=h;try{console.debug("[DR] Initial send chain derived",{dhOutLen:y.length,rootKeyLen:B.length,chainKeyLen:h.length,currentDhPublicPrefix:D.Base64.arrayBufferToBase64(t.currentDhPublic).slice(0,24)+"...",remoteDhPublicPrefix:D.Base64.arrayBufferToBase64(t.remoteDhPublic).slice(0,24)+"..."})}catch{}}const{nextChainKey:r,messageKey:s}=await this.kdfChain(t.sendChainKey);t.sendChainKey=r;const i={dhPub:t.currentDhPublic,pn:t.previousSendMessageCount,n:t.sendMessageNumber++},o=await D.Keys.importRawAesKey(s),{iv:a,authTag:l,encrypted:c}=await D.AES.encryptWithAesGcmRaw(n,o),u=D.AES.serializeEncryptedData(a,l,c),d=new TextEncoder().encode(n),f=await D.Hash.generateBlake3Mac(d,s),A=D.Base64.arrayBufferToBase64(f);try{console.debug("[DR] encrypt",{pn:i.pn,n:i.n,ciphertextLen:u.length,blake3MacLen:f.length})}catch{}return{header:i,ciphertext:u,blake3Mac:A}}static async tryDecryptWithSkipped(t,n,r,s){const i=t.skippedMessageKeys.get(n);if(!i)return null;t.skippedMessageKeys.delete(n);const o=await D.Keys.importRawAesKey(i),a=D.AES.deserializeEncryptedData(r),l=await D.AES.decryptWithAesGcmRaw(a.iv,a.authTag,a.encrypted,o);if(s){const c=new TextEncoder().encode(l),u=D.Base64.base64ToUint8Array(s);if(!await D.Hash.verifyBlake3Mac(c,i,u))throw new Error("BLAKE3 MAC verification failed for skipped message - message integrity compromised")}return l}static async decrypt(t,n){const r=await(await Me(async()=>{const{x25519:A}=await import("./ed25519-B7aCHRcn.js");return{x25519:A}},[])).x25519||(await Me(async()=>{const{x25519:A}=await import("./index-BQzrUxzF.js");return{x25519:A}},[])).x25519,s=`${D.Base64.arrayBufferToBase64(n.header.dhPub)}:${n.header.n}`;try{console.debug("[DR] decrypt begin",{pn:n.header.pn,n:n.header.n,ctLen:(n.ciphertext||"").length})}catch{}const i=await this.tryDecryptWithSkipped(t,s,n.ciphertext,n.blake3Mac);if(i!==null)return i;const o=(()=>{const A=t.remoteDhPublic,m=n.header.dhPub;if(A.length!==m.length)return!1;for(let y=0;y<A.length;y++)if(A[y]!==m[y])return!1;return!0})();try{console.debug("[DR] sameRemote",o)}catch{}if(!o){const A=r.getSharedSecret(t.currentDhPrivate,n.header.dhPub),{rootKey:m,chainKey:y}=await this.kdfRoot(t.rootKey,A);t.rootKey=m,t.recvChainKey=y,t.remoteDhPublic=n.header.dhPub,t.recvMessageNumber=0;try{console.debug("[DR] ratchet step performed",{dhOutLen:A.length,rootKeyLen:m.length,chainKeyLen:y.length,currentDhPublicPrefix:D.Base64.arrayBufferToBase64(t.currentDhPublic).slice(0,24)+"...",messageDhPublicPrefix:D.Base64.arrayBufferToBase64(n.header.dhPub).slice(0,24)+"..."})}catch{}}if(o&&t.recvMessageNumber===0&&t.recvChainKey.every(A=>A===0)){const A=r.getSharedSecret(t.currentDhPrivate,n.header.dhPub),{rootKey:m,chainKey:y}=await this.kdfRoot(t.rootKey,A);t.rootKey=m,t.recvChainKey=y;try{console.debug("[DR] Initial receive chain derived",{dhOutLen:A.length,rootKeyLen:m.length,chainKeyLen:y.length,currentDhPublicPrefix:D.Base64.arrayBufferToBase64(t.currentDhPublic).slice(0,24)+"...",remoteDhPublicPrefix:D.Base64.arrayBufferToBase64(t.remoteDhPublic).slice(0,24)+"..."})}catch{}}for(;t.recvMessageNumber<n.header.n;){const{nextChainKey:A,messageKey:m}=await this.kdfChain(t.recvChainKey);t.recvChainKey=A;const y=`${D.Base64.arrayBufferToBase64(t.remoteDhPublic)}:${t.recvMessageNumber}`;t.skippedMessageKeys.set(y,m),t.recvMessageNumber++}const a=`${D.Base64.arrayBufferToBase64(t.remoteDhPublic)}:${n.header.n}`;if(t.skippedMessageKeys.has(a)){const A=t.skippedMessageKeys.get(a);t.skippedMessageKeys.delete(a);try{console.debug("[DR] Using existing skipped message key for message",n.header.n)}catch{}const m=await D.Keys.importRawAesKey(A),y=D.AES.deserializeEncryptedData(n.ciphertext);try{console.debug("[DR] aes params from skipped key",{ivLen:y.iv.length,tagLen:y.authTag.length,encLen:y.encrypted.length})}catch{}const B=await D.AES.decryptWithAesGcmRaw(y.iv,y.authTag,y.encrypted,m);if(n.blake3Mac){const h=new TextEncoder().encode(B),g=D.Base64.base64ToUint8Array(n.blake3Mac);if(!await D.Hash.verifyBlake3Mac(h,A,g))throw new Error("BLAKE3 MAC verification failed - message integrity compromised");try{console.debug("[DR] BLAKE3 MAC verified successfully")}catch{}}try{console.debug("[DR] decrypt ok from skipped key, length",(B||"").length)}catch{}return B}const{nextChainKey:l,messageKey:c}=await this.kdfChain(t.recvChainKey);t.recvChainKey=l,t.recvMessageNumber++;try{console.debug("[DR] Message key derived",{messageKeyLen:c.length,nextChainKeyLen:l.length})}catch{}const u=await D.Keys.importRawAesKey(c),d=D.AES.deserializeEncryptedData(n.ciphertext);try{console.debug("[DR] aes params",{ivLen:d.iv.length,tagLen:d.authTag.length,encLen:d.encrypted.length})}catch{}const f=await D.AES.decryptWithAesGcmRaw(d.iv,d.authTag,d.encrypted,u);if(n.blake3Mac){const A=new TextEncoder().encode(f),m=D.Base64.base64ToUint8Array(n.blake3Mac);if(!await D.Hash.verifyBlake3Mac(A,c,m))throw new Error("BLAKE3 MAC verification failed - message integrity compromised");try{console.debug("[DR] BLAKE3 MAC verified successfully")}catch{}}try{console.debug("[DR] decrypt ok, length",(f||"").length)}catch{}return f}}const B0=Object.freeze(Object.defineProperty({__proto__:null,DoubleRatchet:jc},Symbol.toStringTag,{value:"Module"}));function a4(e,t,n,r,s,i,o,a,l){const c={current:[]};let u=null;function d(B){u||(u=setTimeout(async()=>{u=null;const h=c.current.splice(0,c.current.length);for(const g of h)try{await g()}catch{}},B))}async function f(B,h,g=5e3,w=100){const E=Date.now();let v=0;for(;Date.now()-E<g;){const b=Xe.get(B,h);if(b){try{console.debug("[Sender] Session became available",{peer:h,attempts:v,waitedMs:Date.now()-E,sendMessageNumber:b.sendMessageNumber,prevSendCount:b.previousSendMessageCount})}catch{}return!0}v++,await new Promise(C=>setTimeout(C,w))}return console.warn("[Sender] Session did not become available in time",{peer:h,waitedMs:g}),!1}async function A(B){const h=new TextEncoder,g=B.replyToId?`:${B.replyToId}`:"",w=`${B.content.trim()}:${B.timestamp}:${B.sender.trim().toLowerCase()}${g}`;try{console.debug("[Sender] Deterministic ID input:",{normalized:w})}catch{}const E=await crypto.subtle.digest("SHA-512",h.encode(w)),v=Array.from(new Uint8Array(E)).map(b=>b.toString(16).padStart(2,"0")).join("");try{console.debug("[Sender] Deterministic ID computed:",v)}catch{}return v}const m=I.useCallback(async({messageId:B,replyTo:h,type:g,typeInside:w,content:E,recipient:v})=>{var R,S,$,Ae,le,me;if(console.log("[Sender] handleSendMessage invoked",{messageId:B,replyToId:h==null?void 0:h.id,type:g,typeInside:w,contentPreview:(E||"").slice(0,80)}),!r){console.error("Server keys not available");return}try{console.debug("[Sender] Server hybrid public keys",{x25519PublicBase64:((R=r.x25519PublicBase64)==null?void 0:R.slice(0,24))+"...",kyberPublicBase64:((S=r.kyberPublicBase64)==null?void 0:S.slice(0,24))+"..."})}catch{}const b=await s();if(console.debug("[Sender] getKeysOnDemand result:",{isNull:b===null,isUndefined:b===void 0,type:typeof b,hasX25519:!!(b!=null&&b.x25519),hasKyber:!!(b!=null&&b.kyber)}),!b){console.error("Client keys not available");return}try{console.debug("[Sender] Client hybrid keys",{x25519PublicBase64:(($=b.x25519.publicKeyBase64)==null?void 0:$.slice(0,24))+"...",kyberPublicBase64:((Ae=b.kyber.publicKeyBase64)==null?void 0:Ae.slice(0,24))+"...",x25519PrivateLen:((le=b.x25519.private)==null?void 0:le.byteLength)??"n/a",kyberSecretLen:((me=b.kyber.secretKey)==null?void 0:me.byteLength)??"n/a",aesKeyPresent:!!i.current})}catch{}const C=Date.now(),T=B||await A({content:E||"",timestamp:C,sender:t.current,replyToId:h==null?void 0:h.id});console.log("[Sender] Using messageId:",T,"timestamp:",C);const x=(K,Ue=1e3)=>{c.current.push(K),d(Ue)};try{console.debug("[Sender] Target recipient:",v);const K=v?e.find(M=>M.username===v&&M.isOnline):null;if(!K){console.log("[Sender] Target recipient not online or not found; not delivering");return}const Ue=[K];if(w!=="typing-start"&&w!=="typing-stop"&&w!=="read-receipt"){const M={id:T,content:E||"",sender:t.current,recipient:v,timestamp:new Date,isCurrentUser:!0,isDeleted:w===oe.DELETE_MESSAGE,receipt:{delivered:!0,deliveredAt:new Date,read:!1},...h?{replyTo:h}:{}};n(M)}await Promise.all(Ue.map(async M=>{var Y,V,H;const O=t.current;await Xe.initUserContext(O,i.current);let F=Xe.get(O,M.username);if(F&&console.debug("[Sender] Found existing session",{peer:M.username,hasValidRemoteKey:!F.remoteDhPublic.every(W=>W===0),remoteDhPublicPrefix:D.Base64.arrayBufferToBase64(F.remoteDhPublic).slice(0,24)+"..."}),!F){console.warn("[Sender] No session found, requesting X3DH bundle for",M.username),he.send(JSON.stringify({type:oe.X3DH_REQUEST_BUNDLE,username:M.username}));const W=await f(O,M.username,5e3,100);if(F=Xe.get(O,M.username),!W||!F){console.warn("[Sender] Session still unavailable for",M.username,"after wait; skipping send");return}if(F.remoteDhPublic.every(J=>J===0)){console.warn("[Sender] Session has invalid remote public key (all zeros); skipping send");return}}try{console.debug("[Sender] Session state before encrypt",{to:M.username,from:O,sendMessageNumber:F.sendMessageNumber,recvMessageNumber:F.recvMessageNumber,previousSendMessageCount:F.previousSendMessageCount,currentDhPublicPrefix:D.Base64.arrayBufferToBase64(F.currentDhPublic).slice(0,24)+"...",remoteDhPublicPrefix:D.Base64.arrayBufferToBase64(F.remoteDhPublic).slice(0,24)+"..."})}catch{}if(F.remoteDhPublic.every(W=>W===0)){console.warn("[Sender] Session has invalid remote public key (all zeros); clearing and requesting new bundle"),Xe.clear(O,M.username),he.send(JSON.stringify({type:oe.X3DH_REQUEST_BUNDLE,username:M.username}));const W=await f(O,M.username,5e3,100);if(F=Xe.get(O,M.username),!W||!F||F.remoteDhPublic.every(J=>J===0)){console.warn("[Sender] Session still invalid after retry; skipping send");return}}const _={id:T,from:O,to:M.username,type:g,content:E,timestamp:C,typeInside:w,...h&&{replyTo:{id:h.id,sender:h.sender,content:h.content}}};console.debug("[Sender] Built messagePayload",{id:_.id,from:_.from,to:_.to,type:_.type,typeInside:_.typeInside,hasReplyTo:!!h,contentPreview:(_.content||"").slice(0,120)});const N=F.sendMessageNumber===0&&F.previousSendMessageCount===0;if(console.debug("[Sender] includeX3dh:",N),console.debug("[Sender] Session before encrypt",{sendMessageNumber:F.sendMessageNumber,previousSendMessageCount:F.previousSendMessageCount,sendChainKeyAllZeros:F.sendChainKey.every(W=>W===0),sendChainKeyPrefix:D.Base64.arrayBufferToBase64(F.sendChainKey).slice(0,24)+"...",currentDhPublicPrefix:D.Base64.arrayBufferToBase64(F.currentDhPublic).slice(0,24)+"...",remoteDhPublicPrefix:D.Base64.arrayBufferToBase64(F.remoteDhPublic).slice(0,24)+"..."}),N){if(F.sendMessageNumber===0&&F.recvMessageNumber===0&&F.previousSendMessageCount===0&&F.sendChainKey.every(J=>J===0))console.debug("[Sender] Session appears fresh, using existing session");else{console.warn("[Sender] Forcing fresh sender session for first message"),Xe.clear(O,M.username),he.send(JSON.stringify({type:oe.X3DH_REQUEST_BUNDLE,username:M.username}));const J=await f(O,M.username,5e3,100);if(F=Xe.get(O,M.username),!J||!F){console.warn("[Sender] Sender session unavailable after forced refresh; skipping send",{peer:M.username});return}}try{console.debug("[Sender] Sender session ready after forced refresh",{sendMessageNumber:F.sendMessageNumber,recvMessageNumber:F.recvMessageNumber,currentDhPublicPrefix:D.Base64.arrayBufferToBase64(F.currentDhPublic).slice(0,24)+"...",remoteDhPublicPrefix:D.Base64.arrayBufferToBase64(F.remoteDhPublic).slice(0,24)+"..."})}catch{}}if(N&&((Y=o==null?void 0:o.current)!=null&&Y.getRatchetPrekeys))try{const W=await o.current.getRatchetPrekeys(),J=(V=W==null?void 0:W.signedPreKey)==null?void 0:V.id,ne=(H=W==null?void 0:W.signedPreKey)==null?void 0:H.publicBase64,te=F.usedSignedPreKeyId,ee=D.Base64.arrayBufferToBase64(F.currentDhPublic);if(F.recvMessageNumber>0||ne&&ee===ne||J&&te&&J===te){console.warn("[Sender] Existing session is receiver-initialized; requesting bundle to bootstrap sender session"),Xe.clear(O,M.username),he.send(JSON.stringify({type:oe.X3DH_REQUEST_BUNDLE,username:M.username}));const pe=await f(O,M.username,5e3,100);if(F=Xe.get(O,M.username),!pe||!F){console.warn("[Sender] Sender session unavailable after refresh; skipping send",{peer:M.username});return}try{console.debug("[Sender] Sender session ready after refresh",{sendMessageNumber:F.sendMessageNumber,recvMessageNumber:F.recvMessageNumber,currentDhPublicPrefix:D.Base64.arrayBufferToBase64(F.currentDhPublic).slice(0,24)+"...",remoteDhPublicPrefix:D.Base64.arrayBufferToBase64(F.remoteDhPublic).slice(0,24)+"..."})}catch{}}}catch{}const P=await jc.encrypt(F,JSON.stringify(_));try{console.debug("[Sender] Ratchet header",{dhPubPrefix:D.Base64.arrayBufferToBase64(P.header.dhPub).slice(0,24)+"...",pn:P.header.pn,n:P.header.n,ciphertextLen:(P.ciphertext||"").length})}catch{}const j={type:oe.DR_SEND,from:O,to:M.username,payload:{header:{dhPub:D.Base64.arrayBufferToBase64(P.header.dhPub),pn:P.header.pn,n:P.header.n},ciphertext:P.ciphertext}};if(N){const W={ephX25519PublicBase64:D.Base64.arrayBufferToBase64(F.currentDhPublic)};F.usedSignedPreKeyId&&(W.usedSignedPreKeyId=F.usedSignedPreKeyId),F.usedOneTimePreKeyId&&(W.usedOneTimePreKeyId=F.usedOneTimePreKeyId),j.payload.x3dh=W}console.log("[Sender] Sending DR payload",{to:j.to,from:j.from,includeX3dh:N,header:j.payload.header,ciphertextLen:(j.payload.ciphertext||"").length});const L=async()=>{var W;if((W=he.isGloballyRateLimited)!=null&&W.call(he)){x(L,1e3);return}he.send(JSON.stringify({...j}))};if(await L(),console.log(`Sent DR message to user ${M.username}: `,j),w!=="typing-start"&&w!=="typing-stop"&&r&&i.current){const{iv:W,authTag:J,encrypted:ne}=await D.AES.encryptWithAesGcmRaw(E,i.current),te=D.AES.serializeEncryptedData(W,J,ne);try{console.debug("[Sender] Local AES-GCM for server payload",{ivLen:W.length,authTagLen:J.length,encryptedLen:ne.length,serializedLen:te.length})}catch{}let ee="";if(h){const nt=h.content||"",{iv:se,authTag:ue,encrypted:xe}=await D.AES.encryptWithAesGcmRaw(nt,i.current);ee=D.AES.serializeEncryptedData(se,ue,xe);try{console.debug("[Sender] Reply content encrypted",{replyIvLen:se.length,replyAuthTagLen:ue.length,replyEncryptedLen:xe.length,replySerializedLen:ee.length})}catch{}}const ae={messageId:T,fromUsername:t.current,toUsername:M.username,encryptedContent:te,timestamp:C,typeInside:w,...h&&{replyTo:{id:h.id,sender:h.sender,encryptedContent:ee}}};console.debug("[Sender] ServerPayload before hybrid encryption",{messageId:ae.messageId,from:ae.fromUsername,to:ae.toUsername,typeInside:ae.typeInside,payloadLen:JSON.stringify(ae).length});const pe=await D.Hybrid.encryptHybridPayload(ae,r);try{console.debug("[Sender] Server payload encrypted (hybrid-v1)",{hasEphemeralX25519Public:!!pe.ephemeralX25519Public,kyberCiphertextLen:(pe.kyberCiphertext||"").length,encryptedMessageLen:(pe.encryptedMessage||"").length})}catch{}const Je={type:oe.UPDATE_DB,...pe},tt=async()=>{var nt;if((nt=he.isGloballyRateLimited)!=null&&nt.call(he)){x(tt,1e3);return}he.send(JSON.stringify(Je))};await tt(),console.log("Sent to server database:",ae.messageId)}}));try{console.debug("[Sender] Locally persisted outbound message",{id:T,sender:t.current,typeInside:w,hasReply:!!h})}catch{}}catch(K){console.error("handleMessage failed:",K)}},[e,t,r,s,i,n]),y=I.useCallback(async(B,h,g,w,E)=>{g==="chat"?await m({replyTo:w,type:oe.ENCRYPTED_MESSAGE,typeInside:"chat",content:h,recipient:E}):await m({messageId:B,replyTo:w,type:oe.ENCRYPTED_MESSAGE,typeInside:g,content:h,recipient:E})},[m]);return{handleMessage:m,handleSendMessageType:y}}class I0{static storageKey(t){return`securechat_pins_${t}`}static get(t,n){try{const r=localStorage.getItem(this.storageKey(t));if(!r)return null;const s=JSON.parse(r);return typeof s[n]=="string"?s[n]:null}catch{return null}}static set(t,n,r){try{const s=this.storageKey(t),i=localStorage.getItem(s),o=i?JSON.parse(i):{};o[n]=r,localStorage.setItem(s,JSON.stringify(o))}catch{}}}function l4(e,t,n,r,s,i){const o=I.useCallback(a=>{if((a==null?void 0:a.typeInside)==="read-receipt")try{const l=JSON.parse(a.content);if(l.type==="read-receipt"&&l.messageId){console.debug("[Recv] Processing read receipt:",{messageId:l.messageId,from:a.from,timestamp:l.timestamp});const c=new CustomEvent("message-read",{detail:{messageId:l.messageId,from:a.from}});return window.dispatchEvent(c),!0}}catch(l){return console.error("[Recv] Failed to parse read receipt:",l),!0}return!1},[]);return I.useCallback(async a=>{var l,c,u,d,f,A,m,y,B,h,g,w,E,v,b,C,T,x,R,S,$,Ae,le,me;try{if(typeof a!="object"||a===null)return;try{console.debug("[Recv] Incoming signal",{type:a==null?void 0:a.type,keys:Object.keys(a||{})})}catch{}let K;if((a==null?void 0:a.type)===oe.DR_SEND){const O=a.from,F=n.current;if(a.to&&a.to!==F){console.debug("[Recv] DR message not for this user, ignoring",{to:a.to,currentUser:F});return}let _=Xe.get(F,O);console.debug("[Recv] Session lookup",{from:O,to:F,hasSession:!!_,sessionHasValidRemoteKey:_?!_.remoteDhPublic.every(H=>H===0):!1});const N=a.payload||{};try{console.debug("[Recv] DR header",{from:O,to:F,hasX3dh:!!(N!=null&&N.x3dh),header:N==null?void 0:N.header,ciphertextLen:((N==null?void 0:N.ciphertext)||"").length,usedSpkId:(l=N==null?void 0:N.x3dh)==null?void 0:l.usedSignedPreKeyId,usedOtkId:(c=N==null?void 0:N.x3dh)==null?void 0:c.usedOneTimePreKeyId})}catch{}if(console.debug("[Recv] Bootstrap condition check",{hasSession:!!_,hasX3dh:!!(N!=null&&N.x3dh),hasEphPublic:!!((u=N==null?void 0:N.x3dh)!=null&&u.ephX25519PublicBase64),shouldBootstrap:!_&&!!((d=N==null?void 0:N.x3dh)!=null&&d.ephX25519PublicBase64)}),_&&((f=N==null?void 0:N.x3dh)!=null&&f.ephX25519PublicBase64)&&N.header.n===0){const H=D.Base64.base64ToUint8Array(N.header.dhPub),W=_.remoteDhPublic,J=W.length===H.length&&W.every((ne,te)=>ne===H[te]);console.debug("[Recv] Checking DH public key match",{currentRemoteDhPublicPrefix:D.Base64.arrayBufferToBase64(W).slice(0,24)+"...",messageDhPublicPrefix:D.Base64.arrayBufferToBase64(H).slice(0,24)+"...",dhPublicsMatch:J}),console.warn("[Recv] Clearing existing session on first X3DH message and re-bootstrapping"),Xe.clear(F,O),_=null}if(!_&&((A=N==null?void 0:N.x3dh)!=null&&A.ephX25519PublicBase64)){const H=await((y=(m=t.current)==null?void 0:m.getRatchetIdentity)==null?void 0:y.call(m)),W=await((h=(B=t.current)==null?void 0:B.getRatchetPrekeys)==null?void 0:h.call(B));if(H&&(W!=null&&W.signedPreKey)){let J;if(N.x3dh.usedOneTimePreKeyId&&Array.isArray(W.oneTimePreKeys)){const te=W.oneTimePreKeys.find(ee=>ee.id===N.x3dh.usedOneTimePreKeyId);te&&(J=te.private)}_={rootKey:await Yr.deriveReceiverSecret(H.x25519Private,W.signedPreKey.private,D.Base64.base64ToUint8Array(N.x3dh.ephX25519PublicBase64),J),currentDhPrivate:W.signedPreKey.private,currentDhPublic:D.Base64.base64ToUint8Array(W.signedPreKey.publicBase64),remoteDhPublic:D.Base64.base64ToUint8Array(((g=N.header)==null?void 0:g.dhPub)||N.x3dh.ephX25519PublicBase64),sendChainKey:new Uint8Array(32),recvChainKey:new Uint8Array(32),sendMessageNumber:0,recvMessageNumber:0,previousSendMessageCount:0,skippedMessageKeys:new Map,usedSignedPreKeyId:W.signedPreKey.id,usedOneTimePreKeyId:N.x3dh.usedOneTimePreKeyId},Xe.set(F,O,_),console.debug("[Recv] Receiver bootstrap completed; session created",{currentDhPublicPrefix:D.Base64.arrayBufferToBase64(_.currentDhPublic).slice(0,24)+"...",remoteDhPublicPrefix:D.Base64.arrayBufferToBase64(_.remoteDhPublic).slice(0,24)+"..."})}else console.warn("[Recv] Missing ratchet identity or signed prekey; cannot bootstrap receiver session")}if(!_){console.warn("[Recv] No session available; cannot decrypt DR message yet");return}const P=N.header,j={header:{dhPub:D.Base64.base64ToUint8Array(P.dhPub),pn:P.pn,n:P.n},ciphertext:N.ciphertext};console.debug("[Recv] Session before decrypt",{recvMessageNumber:_.recvMessageNumber,recvChainKeyAllZeros:_.recvChainKey.every(H=>H===0),recvChainKeyPrefix:D.Base64.arrayBufferToBase64(_.recvChainKey).slice(0,24)+"..."});const L={rootKey:new Uint8Array(_.rootKey),currentDhPrivate:new Uint8Array(_.currentDhPrivate),currentDhPublic:new Uint8Array(_.currentDhPublic),remoteDhPublic:new Uint8Array(_.remoteDhPublic),sendChainKey:new Uint8Array(_.sendChainKey),recvChainKey:new Uint8Array(_.recvChainKey),sendMessageNumber:_.sendMessageNumber,recvMessageNumber:_.recvMessageNumber,previousSendMessageCount:_.previousSendMessageCount,skippedMessageKeys:new Map(_.skippedMessageKeys),usedSignedPreKeyId:_.usedSignedPreKeyId,usedOneTimePreKeyId:_.usedOneTimePreKeyId},Y=H=>{_.rootKey=new Uint8Array(H.rootKey),_.currentDhPrivate=new Uint8Array(H.currentDhPrivate),_.currentDhPublic=new Uint8Array(H.currentDhPublic),_.remoteDhPublic=new Uint8Array(H.remoteDhPublic),_.sendChainKey=new Uint8Array(H.sendChainKey),_.recvChainKey=new Uint8Array(H.recvChainKey),_.sendMessageNumber=H.sendMessageNumber,_.recvMessageNumber=H.recvMessageNumber,_.previousSendMessageCount=H.previousSendMessageCount,_.skippedMessageKeys=new Map(H.skippedMessageKeys),_.usedSignedPreKeyId=H.usedSignedPreKeyId,_.usedOneTimePreKeyId=H.usedOneTimePreKeyId};let V;try{if(V=await jc.decrypt(_,j),Xe.set(F,O,_),_.usedOneTimePreKeyId&&((w=t.current)!=null&&w.consumeOneTimePreKey))try{await t.current.consumeOneTimePreKey(_.usedOneTimePreKeyId)}catch{}console.debug("[Recv] DR decrypt successful, continuing with message processing")}catch(H){console.warn("[Recv] DR decrypt failed, attempting fallback:",{error:H.message||H,from:O,messageNumber:P.n,sessionRecvNumber:_.recvMessageNumber,isTyping:(N==null?void 0:N.typeInside)==="typing-start"||(N==null?void 0:N.typeInside)==="typing-stop"});const W=new Map(_.skippedMessageKeys);if(Y(L),_.skippedMessageKeys=new Map([...L.skippedMessageKeys,...W]),N!=null&&N.x3dh&&P.n===0){const J=await((v=(E=t.current)==null?void 0:E.getRatchetIdentity)==null?void 0:v.call(E)),ne=await((C=(b=t.current)==null?void 0:b.getRatchetPrekeys)==null?void 0:C.call(b));if(J&&(ne!=null&&ne.signedPreKey)){const te=D.Base64.base64ToUint8Array(N.x3dh.ephX25519PublicBase64),ee=async(ae,pe)=>{var Je,tt;try{const se={rootKey:await Yr.deriveReceiverSecret(J.x25519Private,ne.signedPreKey.private,te,ae),currentDhPrivate:ne.signedPreKey.private,currentDhPublic:D.Base64.base64ToUint8Array(ne.signedPreKey.publicBase64),remoteDhPublic:D.Base64.base64ToUint8Array(((Je=N.header)==null?void 0:Je.dhPub)||N.x3dh.ephX25519PublicBase64),sendChainKey:new Uint8Array(32),recvChainKey:new Uint8Array(32),sendMessageNumber:0,recvMessageNumber:0,previousSendMessageCount:0,skippedMessageKeys:new Map,usedSignedPreKeyId:ne.signedPreKey.id,...pe?{usedOneTimePreKeyId:pe}:{}};try{const ue=await jc.decrypt(se,j);if(Xe.set(F,O,se),pe&&((tt=t.current)!=null&&tt.consumeOneTimePreKey))try{await t.current.consumeOneTimePreKey(pe)}catch{}return _=se,ue}catch(ue){return console.debug("[Recv] Fallback decrypt failed:",ue.message||ue),null}}catch(nt){return console.debug("[Recv] X3DH derivation failed:",nt.message||nt),null}};if((T=N==null?void 0:N.x3dh)!=null&&T.usedOneTimePreKeyId){const ae=await ee(void 0,void 0);ae!==null&&(V=ae)}if(!V&&Array.isArray(ne.oneTimePreKeys)&&ne.oneTimePreKeys.length>0)for(const ae of ne.oneTimePreKeys){const pe=await ee(ae.private,ae.id);if(pe!==null){V=pe;break}}if(!V)throw console.error("[Recv] All decrypt attempts failed for message:",{from:O,messageNumber:P.n,error:H.message||H}),H}else throw console.error("[Recv] No ratchet identity or prekeys available for fallback"),H}else{if(console.warn("[Recv] DR decrypt failed for non-first message, skipping:",{from:O,messageNumber:P.n,sessionRecvNumber:_.recvMessageNumber,hasX3dh:!!(N!=null&&N.x3dh)}),(N==null?void 0:N.typeInside)==="typing-start"||(N==null?void 0:N.typeInside)==="typing-stop"){console.debug("[Recv] Skipping failed typing message");return}const J=P.n-_.recvMessageNumber;if(J>10){console.warn("[Recv] Session severely out of sync, attempting recovery:",{from:O,messageGap:J,sessionRecvNumber:_.recvMessageNumber,incomingMessageNumber:P.n});try{for(;_.recvMessageNumber<P.n;){const{nextChainKey:ee,messageKey:ae}=await(await Me(async()=>{const{DoubleRatchet:pe}=await Promise.resolve().then(()=>B0);return{DoubleRatchet:pe}},void 0)).DoubleRatchet.kdfChain(_.recvChainKey);_.recvChainKey=ee,_.recvMessageNumber++}const ne={header:{dhPub:D.Base64.base64ToUint8Array(N.header.dhPub),pn:N.header.pn,n:N.header.n},ciphertext:N.ciphertext},te=await(await Me(async()=>{const{DoubleRatchet:ee}=await Promise.resolve().then(()=>B0);return{DoubleRatchet:ee}},void 0)).DoubleRatchet.decrypt(_,ne);if(te)console.log("[Recv] Session recovery successful, message decrypted"),K=JSON.parse(te);else return}catch(ne){console.warn("[Recv] Session recovery failed:",ne.message||ne);return}}else return}}if(console.debug("[Recv] DR decrypted plaintext length:",(V||"").length),K=JSON.parse(V),console.debug("[Recv] Parsed DR payload",{id:K==null?void 0:K.id,from:K==null?void 0:K.from,to:K==null?void 0:K.to,type:K==null?void 0:K.type,typeInside:K==null?void 0:K.typeInside,ts:K==null?void 0:K.timestamp,hasReply:!!(K!=null&&K.replyTo)}),o(K))return}else if((a==null?void 0:a.type)===oe.X3DH_DELIVER_BUNDLE){console.log("[Recv] Processing X3DH bundle delivery");try{const O=n.current,F=a.username,_=a.bundle;console.debug("[Recv] X3DH bundle details",{targetUser:F,hasBundle:!!_,bundleKeys:_?Object.keys(_):[],hasOneTimePreKey:!!(_!=null&&_.oneTimePreKey)});const N=await((R=(x=t.current)==null?void 0:x.getRatchetIdentity)==null?void 0:R.call(x));if(!N){console.error("[Recv] Ratchet identity not available for X3DH");return}console.debug("[Recv] Ratchet identity available",{hasEd25519:!!N.ed25519Private,hasX25519:!!N.x25519Private,hasDilithium:!!N.dilithiumPrivate});const P=await Yr.generateEphemeralX25519KeyPair();console.debug("[Recv] Generated ephemeral key pair");const j={username:F,identityEd25519Public:D.Base64.base64ToUint8Array(_.identityEd25519PublicBase64),identityDilithiumPublic:_.identityDilithiumPublicBase64?D.Base64.base64ToUint8Array(_.identityDilithiumPublicBase64):void 0,identityX25519Public:D.Base64.base64ToUint8Array(_.identityX25519PublicBase64),signedPreKey:{id:_.signedPreKey.id,publicKey:D.Base64.base64ToUint8Array(_.signedPreKey.publicKeyBase64),ed25519Signature:D.Base64.base64ToUint8Array(_.signedPreKey.ed25519SignatureBase64),dilithiumSignature:_.signedPreKey.dilithiumSignatureBase64?D.Base64.base64ToUint8Array(_.signedPreKey.dilithiumSignatureBase64):void 0},ratchetPublic:D.Base64.base64ToUint8Array(_.ratchetPublicBase64),oneTimePreKey:_.oneTimePreKey?{id:_.oneTimePreKey.id,publicKey:D.Base64.base64ToUint8Array(_.oneTimePreKey.publicKeyBase64)}:void 0};console.debug("[Recv] Prekey bundle constructed");const L=I0.get(O,F);if(L?L!==_.identityEd25519PublicBase64&&console.warn("[Recv] Remote identity changed for",F):(I0.set(O,F,_.identityEd25519PublicBase64),console.debug("[Recv] Pinned identity for",F)),console.debug("[Recv] Verifying prekey bundle signatures"),!await Yr.verifyPreKeyBundle(j)){console.error("[Recv] Invalid X3DH bundle signature for",F);return}console.debug("[Recv] Prekey bundle signatures verified"),console.debug("[Recv] Deriving sender secret");const V=await Yr.deriveSenderSecret(N.x25519Private,P.privateKey,j,j.oneTimePreKey);console.debug("[Recv] Sender secret derived");const H={rootKey:V,currentDhPrivate:P.privateKey,currentDhPublic:P.publicKey,remoteDhPublic:D.Base64.base64ToUint8Array(_.ratchetPublicBase64),sendChainKey:new Uint8Array(32),recvChainKey:new Uint8Array(32),sendMessageNumber:0,recvMessageNumber:0,previousSendMessageCount:0,skippedMessageKeys:new Map,usedSignedPreKeyId:_.signedPreKey.id,usedOneTimePreKeyId:(S=_.oneTimePreKey)==null?void 0:S.id};console.log("[Recv] Creating X3DH session for",F,{hasRootKey:!!H.rootKey,rootKeyLen:($=H.rootKey)==null?void 0:$.byteLength,remoteDhPublicLen:(Ae=H.remoteDhPublic)==null?void 0:Ae.byteLength,usedSignedPreKeyId:H.usedSignedPreKeyId,usedOneTimePreKeyId:H.usedOneTimePreKeyId}),Xe.set(O,F,H),console.log("[Recv] X3DH session created successfully for",F);return}catch(O){console.error("[Recv] Error creating X3DH session:",O);return}}else if((a==null?void 0:a.version)==="hybrid-v1"){const O=await e();if(!O){console.error("Client hybrid keys not available for decryption");return}K=await D.Hybrid.decryptHybridPayload(a,{x25519:{private:O.x25519.private},kyber:{secretKey:O.kyber.secretKey}}),console.debug("[Recv] Hybrid decrypted payload",{id:K==null?void 0:K.id,from:K==null?void 0:K.from,to:K==null?void 0:K.to,type:K==null?void 0:K.type,typeInside:K==null?void 0:K.typeInside})}if(K.typeInside==="typing-start"||K.typeInside==="typing-stop")try{const O=new CustomEvent("typing-indicator",{detail:{type:K.typeInside,username:K.from}});window.dispatchEvent(O);return}catch(O){console.error("[Recv] Failed to parse typing indicator:",O);return}if(o(K))return;const M={id:K.typeInside==="system"?ga():K.id??ga(),content:K.content||"",sender:K.from||"system",recipient:K.to,timestamp:new Date(K.timestamp||Date.now()),isCurrentUser:K.from===n.current,isSystemMessage:K.typeInside==="system",isDeleted:K.typeInside===oe.DELETE_MESSAGE,isEdited:K.typeInside===oe.EDIT_MESSAGE,shouldPersist:!1,receipt:K.from===n.current?void 0:{delivered:!1,read:!1},...K.replyTo&&{replyTo:{id:K.replyTo.id,sender:K.replyTo.sender,content:K.replyTo.content}}};if(console.debug("[Recv] Saving message to local DB",{id:M.id,from:M.sender,isSystem:M.isSystemMessage,isDeleted:M.isDeleted,isEdited:M.isEdited,ts:((me=(le=M.timestamp)==null?void 0:le.toISOString)==null?void 0:me.call(le))??M.timestamp}),await i(M),!M.isSystemMessage&&M.sender!==n.current)try{he.send(JSON.stringify({type:oe.MESSAGE_DELIVERED,messageId:M.id,from:n.current,to:M.sender}))}catch(O){console.error("[Recv] Failed to send delivery receipt:",O)}console.log("[Recv] Received payload:",K),s(O=>O.some(_=>_.id===M.id)?O:[...O,M]),(M.isEdited||M.isDeleted)&&s(O=>O.map(F=>{var P;const _={...F},N=M.isEdited?K.content:"Message Deleted";return((P=F.replyTo)==null?void 0:P.id)===K.id&&(_.replyTo={..._.replyTo,content:N},console.debug("[Recv] Updating replyTo content due to edit/delete",{id:_.id}),i(_)),_}))}catch(K){console.error("[Recv] Error handling encrypted message:",K)}},[i,e,r,s])}const c4=({Authentication:e,Database:t,fileHandler:n,encryptedHandler:r})=>I.useCallback(async s=>{await cS(s,{Authentication:e,Database:t,handleFileMessageChunk:n.handleFileMessageChunk,handleEncryptedMessagePayload:r})},[e,t,n,r]),u4=(e,t,n)=>{I.useEffect(()=>(he.setLoginErrorCallback(n),(async()=>{try{he.isConnectedToServer()||await he.connect()}catch(s){console.error("WebSocket connection error:",s)}})(),()=>{he.close()}),[n]),I.useEffect(()=>{const r=Object.values(oe),s=async i=>{await t(i)};return r.forEach(i=>{i!==oe.ENCRYPTED_MESSAGE&&i!==oe.DR_SEND&&i!==oe.X3DH_DELIVER_BUNDLE&&he.registerMessageHandler(i,e)}),he.registerMessageHandler(oe.ERROR,e),he.registerMessageHandler(oe.ENCRYPTED_MESSAGE,t),he.registerMessageHandler(oe.DR_SEND,t),he.registerMessageHandler(oe.X3DH_DELIVER_BUNDLE,t),he.registerMessageHandler("raw",s),he.registerMessageHandler(oe.ERROR,i=>{const o=i==null?void 0:i.rateLimitInfo;return o!=null&&o.blocked&&typeof o.remainingBlockTime=="number"&&he.setGlobalRateLimit(o.remainingBlockTime),e(i)}),()=>{r.forEach(i=>{he.unregisterMessageHandler(i)}),he.unregisterMessageHandler(oe.ERROR),he.unregisterMessageHandler("raw")}},[e,t])};function d4(e,t,n){const[r,s]=I.useState([]),[i,o]=I.useState(null),a=I.useCallback(d=>{if(!d||d===e)return;if(r.find(m=>m.username===d)){o(d);return}const A={id:crypto.randomUUID(),username:d,isOnline:t.some(m=>m.username===d&&m.isOnline),lastMessage:void 0,lastMessageTime:void 0,unreadCount:0};s(m=>[...m,A]),o(d)},[r,t,e]),l=I.useCallback(d=>{o(d),s(f=>f.map(A=>A.username===d?{...A,unreadCount:0}:A))},[]),c=I.useCallback(d=>d?n.filter(f=>f.sender===d&&f.recipient===e||f.sender===e&&f.recipient===d):[],[n,e]),u=I.useMemo(()=>{const d=new Map;return t.forEach(f=>d.set(f.username,f.isOnline)),d},[t]);return I.useEffect(()=>{s(d=>{let f=!1;const A=d.map(m=>{const y=u.get(m.username)||!1;return m.isOnline!==y?(f=!0,{...m,isOnline:y}):m});return f?A:d})},[u]),I.useEffect(()=>{if(n.length===0)return;const d=n[n.length-1];if(!d.sender||!d.recipient)return;const f=d.sender===e?d.recipient:d.sender;s(A=>{const m=A.findIndex(y=>y.username===f);if(m>=0){const y=[...A];return y[m]={...y[m],lastMessage:d.content,lastMessageTime:new Date(d.timestamp),unreadCount:i===f?0:(y[m].unreadCount||0)+1},y}else{const y={id:crypto.randomUUID(),username:f,isOnline:t.some(B=>B.username===f&&B.isOnline),lastMessage:d.content,lastMessageTime:new Date(d.timestamp),unreadCount:i===f?0:1};return[...A,y]}})},[n,i,t,e]),{conversations:r,selectedConversation:i,addConversation:a,selectConversation:l,getConversationMessages:c}}const f4=({onNavigate:e})=>{const[t,n]=I.useState([]),[r,s]=I.useState("messages"),i=r4(),o=s4({Authentication:i,messages:t,setMessages:n}),a=o4(i.getKeysOnDemand,o.saveMessageToLocalDB,i.setLoginError),l=a4(o.users,i.loginUsernameRef,o.saveMessageToLocalDB,i.serverHybridPublic,i.getKeysOnDemand,i.aesKeyRef,i.keyManagerRef,i.passphrasePlaintextRef,i.isLoggedIn),c=l4(i.getKeysOnDemand,i.keyManagerRef,i.loginUsernameRef,o.setUsers,n,o.saveMessageToLocalDB),u=c4({Authentication:i,Database:o,fileHandler:a,encryptedHandler:c}),d=I.useCallback(g=>a.handleSendFile(g,i.loginUsernameRef.current,o.saveMessageToLocalDB),[a,i.loginUsernameRef,o.saveMessageToLocalDB]);u4(u,c,i.setLoginError);const{conversations:f,selectedConversation:A,addConversation:m,selectConversation:y,getConversationMessages:B}=d4(i.loginUsernameRef.current,o.users,t),h=B(A);return i.isLoggedIn?p.jsx(e4,{children:p.jsxs("div",{className:"flex h-screen bg-gradient-to-r from-gray-50 to-slate-50 relative",children:[p.jsx(Dv,{currentUsername:i.loginUsernameRef.current,onAddConversation:m,onLogout:async()=>await i.logout(o.secureDBRef),onActiveTabChange:s,children:p.jsx(tC,{conversations:f,selectedConversation:A,onSelectConversation:y,currentUsername:i.loginUsernameRef.current})}),p.jsx("div",{className:ie("flex-1 flex flex-col transition-all duration-300",r==="messages"?"ml-80":"ml-16"),children:A?p.jsx(n4,{messages:h,setMessages:n,onSendMessage:(g,w,E,v)=>l.handleSendMessageType(g,w,E,v,A),onSendFile:d,isEncrypted:!0,currentUsername:i.loginUsernameRef.current,users:o.users,selectedConversation:A,saveMessageToLocalDB:o.saveMessageToLocalDB}):p.jsx("div",{className:"flex-1 flex items-center justify-center",children:p.jsxs("div",{className:"text-center text-gray-500",children:[p.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Welcome to endtoend"}),p.jsx("p",{children:"Click the messages button to view conversations or add a new chat to begin"})]})})})]})}):p.jsx("div",{className:"flex items-center justify-center min-h-screen p-4 bg-gradient-to-r from-gray-50 to-slate-50",children:p.jsx(Cv,{isGeneratingKeys:i.isGeneratingKeys,error:i.loginError,onAccountSubmit:i.handleAccountSubmit,onServerPasswordSubmit:i.handleServerPasswordSubmit,accountAuthenticated:i.accountAuthenticated,serverTrustRequest:i.serverTrustRequest,onAcceptServerTrust:i.acceptServerTrust,onRejectServerTrust:i.rejectServerTrust,showPassphrasePrompt:i.showPassphrasePrompt,setShowPassphrasePrompt:i.setShowPassphrasePrompt,onPassphraseSubmit:i.handlePassphraseSubmit})})};function A4(){return p.jsx("div",{className:"App",children:p.jsx(f4,{onNavigate:()=>{}})})}Mm(document.getElementById("root")).render(p.jsx(A4,{}));export{Nn as a,y4 as b,pa as c,uw as d,rn as h,Zx as i,s_ as r,K_ as s,i_ as u};
